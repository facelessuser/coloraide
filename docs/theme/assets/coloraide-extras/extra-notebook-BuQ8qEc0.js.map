{"version":3,"file":"extra-notebook-BuQ8qEc0.js","sources":["extra-notebook.js"],"sourcesContent":["(() => {\n  let webspace = ''\n  try {\n    let gamut = 'srgb'\n    if (window.matchMedia(\"(color-gamut: rec2020)\").matches) {\n      gamut = 'rec2020'\n    } else if (window.matchMedia(\"(color-gamut: p3)\").matches) {\n      gamut = 'display-p3'\n    }\n    webspace = (CSS.supports('color: color(display-p3 1 0 0)')) ? gamut : 'srgb'\n  } catch {\n    webspace = 'srgb'\n  }\n  const sessions = {}\n  let pyodide = null\n  let busy = false\n  let raw = \"\"\n  let gist = \"\"\n  let editTemp = {}\n  const editorMgr = {}\n  let notebookEditor = null\n  const installMatch = /^#[ \\t]*micropip-require:[ \\t]*((?:[-a-z0-1_]+[ \\t]*)+)(?=\\n|$)/\n  const installMdMatch = /^<!--[ \\t]+micropip-require:[ \\t]*((?:[-a-z0-1_]+[ \\t]*)+)[ \\t]+-->(?=\\n|$)/\n  const installPrefix = /^#[ \\t]*micropip-require:[ \\t]*/\n  const installMdPrefix = /^<!--[ \\t]+micropip-require:[ \\t]*/\n  const installMdPost = /[ \\t]+-->(?=\\n|$)/\n  const reIdNum = /.*?_(\\d+)$/\n  let initialized = false\n  let lastSearch = \"\"\n  let fake = false\n  // This is the Python payload that will be executed when the user\n  // presses the `Run` button. It will execute the code, create a\n  // Python console output, find color references, steps, and interpolation\n  // references and render the appropriate preview.\n  const pycode = `\n{{pycode}}\n\naction = globals().get('action')\nif action == 'notebook':\n    callback = render_notebook\nelse:\n    callback = render_console\n\ncallback(gamut='${webspace}')\n`\n\n  const defContent = window.colorNotebook.defaultPlayground\n\n  const getContent = content => {\n    return `\n/// new | This notebook is powered by [Pyodide](https://github.com/pyodide/pyodide). \\\nLearn more [here](\\\n?notebook=https://gist.githubusercontent.com/facelessuser/7c819668b5eb248ecb9ac608d91391cf/raw/playground.md\\\n). Preview, convert, interpolate, and explore!\n///\n\n\\`\\`\\`\\`\\`\\`\\`\\`py play\n${content}\n\\`\\`\\`\\`\\`\\`\\`\\`\n`\n  }\n\n  let notebookInstalled = false\n  let playgroundInstalled = false\n\n  const destroySessions = () => {\n    // Destroy a sessions\n\n    Object.keys(sessions).forEach(key => {\n      sessions[key].destroy()\n      delete sessions[key]\n    })\n  }\n\n  const fakeDOMContentLoaded = () => {\n    // Send a fake `DOMContentLoaded`\n    fake = true\n    window.document.dispatchEvent(new Event(\"DOMContentLoaded\", {\n      bubbles: true,\n      cancelable: true\n    }))\n    window.document$.next()\n  }\n\n  const encodeuri = uri => {\n    // Encode the URI component.\n\n    return encodeURIComponent(uri).replace(/[.!'()*]/g, c => {\n      return `%${c.charCodeAt(0).toString(16)}`\n    })\n  }\n\n  const pyexecute = async currentID => {\n    // Execute Python code inside a playground\n\n    const currentInputs = document.getElementById(`__playground-code_${currentID}`)\n    const session = currentInputs.getAttribute(\"session\")\n    const editor = editorMgr[currentID]\n    currentInputs.setAttribute(\"readonly\", \"\")\n    const value = editor.getValue()\n    const match = installMatch.exec(value)\n    if (match) {\n      const installs = value.slice(match.index, match.index + match[0].length)\n        .replace(installPrefix, '')\n        .trim()\n        .split(' ')\n      try {\n        const micropip = pyodide.pyimport('micropip.install')\n        await micropip(installs)\n        pyodide.globals.set(\"content\", value.slice(match.index + match[0].length))\n      } catch (err) {\n        pyodide.globals.set(\"content\", value)\n      } // eslint-disable-line no-empty\n    } else {\n      pyodide.globals.set('content', value)\n    }\n    pyodide.globals.set(\"id_num\", currentID)\n    pyodide.globals.set(\"action\", \"playground\")\n    pyodide.globals.set(\"session_id\", session)\n    const main = document.querySelector('main.md-main')\n    const live = main.getAttribute('livecode')\n    if (!live) {\n      destroySessions()\n      main.setAttribute('livecode', 'live')\n    }\n    if (session in sessions) {\n      pyodide.globals.set('SESSIONS', sessions[session])\n    } else {\n      pyodide.globals.set('SESSIONS', null)\n    }\n    await pyodide.runPythonAsync(pycode)\n    if (session) {\n      sessions[session] = pyodide.globals.get('SESSIONS').copy()\n    }\n    currentInputs.removeAttribute(\"readonly\")\n  }\n\n  const pyrender = async text => {\n    // Render an entire notebook page\n\n    destroySessions()\n    const main = document.querySelector('main.md-main')\n    if (main.getAttribute('livecode')) {\n      main.removeAttribute('livecode')\n    }\n    const match = installMdMatch.exec(text)\n    if (match) {\n      const installs = text.slice(match.index, match.index + match[0].length)\n        .replace(installMdPrefix, '')\n        .replace(installMdPost, '')\n        .trim()\n        .split(' ')\n      try {\n        const micropip = pyodide.pyimport('micropip.install')\n        await micropip(installs)\n        pyodide.globals.set(\"content\", text.slice(match.index + match[0].length))\n      } catch (err) {\n        pyodide.globals.set(\"content\", text)\n      } // eslint-disable-line no-empty\n    } else {\n      pyodide.globals.set(\"content\", text)\n    }\n    pyodide.globals.set(\"action\", \"notebook\")\n    pyodide.globals.set('SESSIONS', null)\n    await pyodide.runPythonAsync(pycode)\n    const src = document.getElementById(\"__notebook-input\")\n    if (src) {\n      raw = text\n      if (!(src.env && src.env.editor)) {\n        if (notebookEditor) {\n          notebookEditor.destroy()\n        }\n        const editor = ace.edit( // eslint-disable-line no-undef\n          src,\n          {\n            maxLines: 30,\n            minLines: 5,\n            fontSize: '13.6px',\n            fontFamily: '\"Roboto Mono\", SFMono-Regular, Consolas, Menlo, monospace',\n            printMargin: false,\n            theme: \"ace/theme/dracula\",\n            mode: \"ace/mode/markdown\"\n          }\n        )\n        notebookEditor = editor\n      }\n      src.env.editor.setValue(text)\n    }\n    if (window.location.hash) {\n      // Force jumping to hashes\n      window.location.href = window.location.href // eslint-disable-line no-self-assign\n    }\n  }\n\n  const setupPyodide = async full => {\n    // Load `Pyodide` and the any default packages we can need and can load.\n\n    if (!initialized) {\n      initialized = true\n      pyodide = await loadPyodide({ // eslint-disable-line no-undef\n        indexURL: \"https://cdn.jsdelivr.net/pyodide/v0.26.4/full/\",\n        fullStdLib: false\n      })\n    }\n\n    if ((!notebookInstalled && full) || (!playgroundInstalled && !full)) {\n      const base = `${window.location.origin}/${window.location.pathname.split('/')[1]}/playground/`\n      const packages = (full) ? window.colorNotebook.notebookWheels : window.colorNotebook.playgroundWheels\n      const installs = []\n      if (full) {\n        notebookInstalled = true\n      } else {\n        playgroundInstalled = true\n      }\n      for (const s of packages) {\n        if (s.endsWith('.whl')) {\n          installs.push(base + s)\n        } else {\n          installs.push(s)\n        }\n      }\n      await pyodide.loadPackage(installs)\n    }\n  }\n\n  const showBusy = (target, label, relative) => {\n    // Show busy indicator\n\n    const loaderLabel = (typeof label === \"undefined\" || label === null) ? \"Loading...\" : label\n    const classes = relative ? \"loading relative\" : \"loading\"\n    const template = document.createElement(\"template\")\n    template.innerHTML = `<div class=\"${classes}\"><div class=\"loader\"></div><div>${loaderLabel}</div></div>`\n    target.appendChild(template.content.firstChild)\n  }\n\n  const hideBusy = target => {\n    // Hide busy indicator\n\n    const loading = target.querySelector(\".loading\")\n    if (loading) {\n      target.removeChild(target.querySelector(\".loading\"))\n    }\n  }\n\n  const popState = () => {\n    // Handle notebook history\n\n    const base = window.location.pathname.split('/')[1]\n    if (\n      window.location.pathname === `/${base}/playground/`\n    ) {\n      const current = decodeURIComponent(new URLSearchParams(window.location.search).toString())\n      if (current !== lastSearch) {\n        main(false) // eslint-disable-line no-use-before-define\n      }\n    }\n  }\n\n  const interceptClickEvent = e => {\n    // Catch links to other notebook pages and handle them\n\n    const base = window.location.pathname.split('/')[1]\n    const target = e.target || e.srcElement\n\n    if (target.tagName === \"A\" && main) { // eslint-disable-line no-use-before-define\n      if (\n        target.getAttribute(\"href\") &&\n        target.host === window.location.host &&\n        window.location.pathname === `/${base}/playground/` &&\n        window.location.pathname === target.pathname &&\n        window.location.search !== target.search\n      ) {\n        e.preventDefault()\n        const search = new URLSearchParams(target.search)\n        main(false, search) // eslint-disable-line no-use-before-define\n      }\n    }\n  }\n\n  const init = async first => {\n    // Setup input highlighting and events to run Python code blocks.\n\n    const notebook = document.getElementById(\"__notebook-source\")\n    const playgrounds = document.querySelectorAll(\".playground\")\n\n    if (notebook && first) {\n      const notebookInput = document.getElementById(\"__notebook-input\")\n\n      const editPage = document.getElementById(\"__notebook-edit\")\n      editPage.addEventListener(\"click\", () => {\n        editTemp[notebookInput.id] = notebookInput.env.editor.getValue()\n        document.getElementById(\"__notebook-render\").classList.toggle(\"hidden\")\n        document.getElementById(\"__notebook-source\").classList.toggle(\"hidden\")\n      })\n\n      document.getElementById(\"__notebook-md-gist\").addEventListener(\"click\", async e => {\n        let uri = prompt(\"Please enter link to the Markdown page source:\", gist) // eslint-disable-line no-alert\n        if (uri !== null) {\n          uri = encodeuri(uri)\n          e.preventDefault()\n          history.pushState({notebook: uri}, \"\", `?${new URLSearchParams(`notebook=${uri}`).toString()}`)\n          main(false) // eslint-disable-line no-use-before-define\n        }\n      })\n\n      document.getElementById(\"__notebook-py-gist\").addEventListener(\"click\", async e => {\n        let uri = prompt(\"Please enter the link to the Python code source:\", gist) // eslint-disable-line no-alert\n        if (uri !== null) {\n          uri = encodeuri(uri)\n          e.preventDefault()\n          history.pushState({source: uri}, \"\", `?${new URLSearchParams(`source=${uri}`).toString()}`)\n          main(false) // eslint-disable-line no-use-before-define\n        }\n      })\n\n      if (notebookInput.env && notebookInput.env.editor) {\n        notebookInput.env.editor.setValue(raw)\n      } else {\n        if (notebookEditor) {\n          notebookEditor.destroy()\n        }\n        const editor = ace.edit( // eslint-disable-line no-undef\n          notebookInput,\n          {\n            maxLines: 30,\n            minLines: 5,\n            fontSize: '13.6px',\n            fontFamily: '\"Roboto Mono\", SFMono-Regular, Consolas, Menlo, monospace',\n            printMargin: false,\n            theme: \"ace/theme/dracula\",\n            mode: \"ace/mode/markdown\"\n          }\n        )\n        notebookEditor = editor\n      }\n      document.getElementById(\"__notebook-input\").value = raw\n      document.getElementById(\"__notebook-cancel\").addEventListener(\"click\", () => {\n        notebookInput.env.editor.setValue(editTemp[notebookInput.id])\n        delete editTemp[notebookInput.id]\n        document.getElementById(\"__notebook-render\").classList.toggle(\"hidden\")\n        document.getElementById(\"__notebook-source\").classList.toggle(\"hidden\")\n      })\n\n      document.getElementById(\"__notebook-submit\").addEventListener(\"click\", async() => {\n        const render = document.getElementById(\"__notebook-render\")\n        raw = document.getElementById(\"__notebook-input\").env.editor.getValue()\n        render.classList.toggle(\"hidden\")\n        document.getElementById(\"__notebook-source\").classList.toggle(\"hidden\")\n        const article = document.querySelector(\"article\")\n        showBusy(article, \"Loading Notebook...\")\n        render.innerHTML = \"\"\n        editTemp = {}\n        await setupPyodide(true)\n        await pyrender(raw)\n        await init()\n        hideBusy(article)\n        fakeDOMContentLoaded()\n      })\n    }\n\n    playgrounds.forEach(pg => {\n\n      const currentID = pg.id.replace(reIdNum, \"$1\")\n      const results = document.getElementById(`__playground-results_${currentID}`)\n      const pgcode = document.getElementById(`__playground-code_${currentID}`)\n      const buttonEdit = document.querySelector(`button#__playground-edit_${currentID}`)\n      const buttonShare = document.querySelector(`button#__playground-share_${currentID}`)\n      const buttonRun = document.querySelector(`button#__playground-run_${currentID}`)\n      const buttonCancel = document.querySelector(`button#__playground-cancel_${currentID}`)\n\n      results.addEventListener(\"click\", e => {\n        // Handle clicks on results and copies color from single color swatch when clicked.\n\n        const el = e.target\n        if (el.matches('span.swatch-color')) {\n          let content = ''\n          const parent = el.parentNode\n          if (!parent.matches('span.swatch-gradient')) {\n            content = parent.getAttribute('title').replace('Copy to clipboard', '')\n            content = content.replace('\\n', '')\n            if (window.clipboardData && window.clipboardData.setData) {\n              // Old `IE`` handling, do we really need this?\n              return window.clipboardData.setData(\"Text\", content)\n            } else if (document.queryCommandSupported && document.queryCommandSupported(\"copy\")) {\n              const textarea = document.createElement(\"textarea\")\n              textarea.textContent = content\n              textarea.style.position = \"fixed\"\n              document.body.appendChild(textarea)\n              textarea.select()\n              try {\n                return document.execCommand(\"copy\")\n              } catch (ex) {\n                return prompt(\"Copy to clipboard: Ctrl+C, Enter\", content) // eslint-disable-line no-alert\n              } finally {\n                document.body.removeChild(textarea)\n              }\n            }\n          }\n        }\n      })\n\n      buttonEdit.addEventListener(\"click\", async() => {\n        // Handle the button click: show source or execute source.\n\n        const editor = editorMgr[currentID]\n        editTemp[currentID] = editor.getValue()\n        pgcode.classList.toggle(\"hidden\")\n        results.classList.toggle(\"hidden\")\n        buttonRun.classList.toggle(\"hidden\")\n        buttonCancel.classList.toggle(\"hidden\")\n        buttonEdit.classList.toggle(\"hidden\")\n        buttonShare.classList.toggle(\"hidden\")\n        editor.setValue(editor.getValue())\n        editor.focus()\n      })\n\n      buttonShare.addEventListener(\"click\", async() => {\n        // Handle the share click: copy URL with code as parameter.\n\n        const base = window.location.pathname.split('/')[1]\n        const editor = editorMgr[currentID]\n        const uri = encodeuri(editor.getValue())\n        const loc = window.location\n        let pathname = \"/playground/\"\n        if (loc.pathname.startsWith(`/${base}/`)) {\n          pathname = `/${base}/playground/`\n        }\n        const path = `${loc.protocol}//${loc.host}${pathname}?code=${uri}`\n        if (path.length > 2000) {\n          alert( // eslint-disable-line no-alert\n            \"Code must be small enough to generate a shareable URL under 2000 characters!\"\n          )\n        } else {\n          navigator.clipboard.writeText(path).then(async() => {\n            alert(\"Link copied to clipboard :)\") // eslint-disable-line no-alert\n          }, async() => {\n            alert(\"Failed to copy link clipboard!\") // eslint-disable-line no-alert\n          })\n        }\n      })\n\n      buttonRun.addEventListener(\"click\", async() => {\n        // Handle the button click: show source or execute source.\n\n        if (busy) {\n          return\n        }\n\n        busy = true\n        // Load Pyodide and related packages.\n        const form = pgcode.querySelector(\"form\")\n        showBusy(form, null, true)\n        const buttons = document.querySelectorAll(\".playground .playground-run\")\n        if (buttons) {\n          buttons.forEach(b => {\n            b.setAttribute(\"disabled\", \"\")\n          })\n        }\n        await setupPyodide(false)\n        results.querySelector(\"code\").innerHTML = \"\"\n        await pyexecute(currentID)\n        if (buttons) {\n          buttons.forEach(b => {\n            b.removeAttribute(\"disabled\")\n          })\n        }\n        hideBusy(form)\n        pgcode.classList.toggle(\"hidden\")\n        results.classList.toggle(\"hidden\")\n        buttonEdit.classList.toggle(\"hidden\")\n        buttonShare.classList.toggle(\"hidden\")\n        buttonRun.classList.toggle(\"hidden\")\n        buttonCancel.classList.toggle(\"hidden\")\n        delete editTemp[currentID]\n        busy = false\n      })\n\n      buttonCancel.addEventListener(\"click\", () => {\n        // Cancel edit.\n        const editor = editorMgr[currentID]\n        editor.setValue(editTemp[currentID])\n        delete editTemp[currentID]\n        pgcode.classList.toggle(\"hidden\")\n        results.classList.toggle(\"hidden\")\n        buttonEdit.classList.toggle(\"hidden\")\n        buttonShare.classList.toggle(\"hidden\")\n        buttonRun.classList.toggle(\"hidden\")\n        buttonCancel.classList.toggle(\"hidden\")\n      })\n    })\n  }\n\n  const setupAce = async() => {\n    Object.keys(editorMgr).forEach(key => {\n      editorMgr[key].renderer.removeAllListeners()\n      editorMgr[key].destroy()\n    })\n\n    // editorMgr = {}\n    const editors = document.querySelectorAll('pre.playground-inputs')\n    editors.forEach(el => {\n      const id = el.id.replace(reIdNum, \"$1\")\n      const editor = ace.edit( // eslint-disable-line no-undef\n        el,\n        {\n          maxLines: 30,\n          minLines: 5,\n          fontSize: '13.6px',\n          fontFamily: '\"Roboto Mono\", SFMono-Regular, Consolas, Menlo, monospace',\n          printMargin: false,\n          theme: \"ace/theme/dracula\",\n          mode: \"ace/mode/python\"\n        }\n      )\n      editorMgr[id] = editor\n    })\n  }\n\n  const main = async(first, search) => {\n    // Load external source to render in a playground.\n    // This can be something like a file on a gist we must read in (?source=)\n    // or raw code (?code=).\n    editTemp = {}\n\n    if (window.location.pathname.endsWith(\"/playground/\")) {\n      const params = search || new URLSearchParams(window.location.search)\n      const loadMsg = \"Loading Pyodide...\"\n      const pageMsg = \"Loading Notebook...\"\n      const uri = params.has(\"source\") ? params.get(\"source\") : params.get(\"notebook\")\n      const article = document.querySelector(\"article\")\n      if (uri !== null && uri.trim()) {\n        // A source was specified, so load it.\n        showBusy(article, loadMsg)\n        await setupPyodide(true)\n        hideBusy(article)\n        showBusy(article, pageMsg)\n        try {\n          const gistType = params.has(\"source\") ? \"source\" : \"notebook\"\n          lastSearch = decodeURIComponent(params.toString())\n          let value = \"\"\n          const xhr = new XMLHttpRequest()\n          gist = uri\n          xhr.open(\"GET\", uri, true)\n          xhr.onload = async() => {\n            // Try and load the requested content\n            if (xhr.readyState === 4) {\n              if (xhr.status === 200) {\n                value = xhr.responseText\n              }\n            }\n\n            if (gistType === \"source\") {\n              value = getContent(value)\n            }\n            await pyrender(value)\n            await init(first)\n            hideBusy(article)\n            fakeDOMContentLoaded()\n          }\n          xhr.send()\n        } catch (err) {} // eslint-disable-line no-empty\n      } else {\n        gist = \"\"\n        const content = getContent(params.has(\"code\") ? params.get(\"code\") : defContent)\n        lastSearch = decodeURIComponent(params.toString())\n        showBusy(article, loadMsg)\n        await setupPyodide(true)\n        hideBusy(article)\n        showBusy(article, pageMsg)\n        await pyrender(content)\n        await init(first)\n        hideBusy(article)\n        fakeDOMContentLoaded()\n      }\n    } else {\n      gist = \"\"\n      lastSearch = \"\"\n      init(first)\n      await setupAce()\n    }\n  }\n\n  // Capture links in notebook pages so that we can make playgound links load instantly\n  document.addEventListener(\"click\", interceptClickEvent, true)\n\n  // Handle history of notebook pages as they are loaded dynamically\n  window.addEventListener(\"popstate\", popState)\n\n  // Before leaving, turn off fake, just in case we navigated away before finished\n  window.addEventListener(\"unload\", () => {\n    fake = false\n  })\n\n  // Attach main via subscribe (subscribes to Materials on page load and instant page loads)\n  window.document$.subscribe(async() => {\n    // To get other libraries to reload, we may create a fake `DOMContentLoaded`\n    // No need to process these events.\n\n    if (fake) {\n      fake = false\n      await setupAce()\n      return\n    }\n    await main(true)\n  })\n})()\n"],"names":["webspace","gamut","window","matchMedia","matches","CSS","supports","_unused","sessions","pyodide","busy","raw","gist","editTemp","editorMgr","notebookEditor","installMatch","installMdMatch","installPrefix","installMdPrefix","installMdPost","reIdNum","initialized","lastSearch","fake","pycode","concat","defContent","colorNotebook","defaultPlayground","getContent","content","notebookInstalled","playgroundInstalled","destroySessions","Object","keys","forEach","key","destroy","fakeDOMContentLoaded","document","dispatchEvent","Event","bubbles","cancelable","document$","next","encodeuri","uri","encodeURIComponent","replace","c","charCodeAt","toString","pyexecute","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","currentID","currentInputs","session","editor","value","match","installs","micropip","main","wrap","_context","prev","getElementById","getAttribute","setAttribute","getValue","exec","slice","index","length","trim","split","pyimport","globals","set","t0","querySelector","runPythonAsync","get","copy","removeAttribute","stop","_x","apply","this","arguments","pyrender","_ref2","_callee2","text","src","_context2","env","ace","edit","maxLines","minLines","fontSize","fontFamily","printMargin","theme","mode","setValue","location","hash","href","_x2","setupPyodide","_ref3","_callee3","full","base","packages","_iterator","_step","s","_context3","loadPyodide","indexURL","fullStdLib","sent","origin","pathname","notebookWheels","playgroundWheels","_createForOfIteratorHelper","n","done","endsWith","push","err","e","f","loadPackage","_x3","showBusy","target","label","relative","loaderLabel","classes","template","createElement","innerHTML","appendChild","firstChild","hideBusy","removeChild","init","_ref4","_callee12","first","notebook","playgrounds","notebookInput","_context12","querySelectorAll","addEventListener","id","classList","toggle","_ref5","_callee4","_context4","prompt","preventDefault","history","pushState","URLSearchParams","_x5","_ref6","_callee5","_context5","source","_x6","_callee6","render","article","_context6","pg","results","pgcode","buttonEdit","buttonShare","buttonRun","buttonCancel","el","parent","parentNode","clipboardData","setData","queryCommandSupported","textarea","textContent","style","position","body","select","execCommand","ex","_callee7","_context7","focus","_callee10","loc","path","_context10","startsWith","protocol","host","alert","navigator","clipboard","writeText","then","_callee8","_context8","_callee9","_context9","_callee11","form","buttons","_context11","abrupt","b","_x4","setupAce","_ref13","_callee13","_context13","renderer","removeAllListeners","_ref14","_callee15","search","params","loadMsg","pageMsg","gistType","xhr","_context15","has","decodeURIComponent","XMLHttpRequest","open","onload","_callee14","_context14","readyState","status","responseText","send","_x7","_x8","srcElement","tagName","subscribe","_callee16","_context16"],"mappings":"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"}