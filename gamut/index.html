<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A library to aid in using colors"><link href=https://facelessuser.github.io/coloraide/gamut/ rel=canonical><link href=../contrast/ rel=prev><link href=../chromaticity/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.6"><title>Gamut Mapping - ColorAide Documentation</title><link rel=stylesheet href=../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><script src=../assets/pymdownx-extras/material-extra-theme-2ek1P7jT.js type=text/javascript></script><script src=../assets/pymdownx-extras/material-extra-3rdparty-BUCF4rjN.js type=text/javascript></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/coloraide-extras/extra-71ac3701da.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/ace-builds@1.39.0/css/ace.css><link rel=stylesheet href=../assets/pymdownx-extras/extra-c6ab11540a.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=dracula data-md-color-primary=deep-purple data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#gamut-mapping class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> <span class=twemoji> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m23 12-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68zm-10 5h-2v-2h2zm0-4h-2V7h2z"/></svg> </span> <a href=../about/contributing/#become-a-sponsor>Sponsorship</a> is now available! <span class="twemoji heart-throb"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M7.655 14.916zh-.002l-.006-.003-.018-.01a22 22 0 0 1-3.744-2.584C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.044 5.231-3.886 6.818a22 22 0 0 1-3.433 2.414 7 7 0 0 1-.31.17l-.018.01-.008.004a.75.75 0 0 1-.69 0"/></svg> </span> </div> <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=header.title> <a href=https://facelessuser.github.io/coloraide/ title="ColorAide Documentation" class="md-header__button md-logo" aria-label="ColorAide Documentation"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ColorAide Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Gamut Mapping </span> </div> </div> </div> <div class=md-header__options> <div class="md-header-nav__scheme md-header-nav__button md-source__icon md-icon"> <a href=javascript:toggleScheme(); title="Light mode" class=light-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </a> <a href=javascript:toggleScheme(); title="Dark mode" class=dark-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </a> <a href=javascript:toggleScheme(); title="System preference" class=system-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.5 2c-1.79 1.15-3 3.18-3 5.5s1.21 4.35 3.03 5.5C4.46 13 2 10.54 2 7.5A5.5 5.5 0 0 1 7.5 2m11.57 1.5 1.43 1.43L4.93 20.5 3.5 19.07zm-6.18 2.43L11.41 5 9.97 6l.42-1.7L9 3.24l1.75-.12.58-1.65L12 3.1l1.73.03-1.35 1.13zm-3.3 3.61-1.16-.73-1.12.78.34-1.32-1.09-.83 1.36-.09.45-1.29.51 1.27 1.36.03-1.05.87zM19 13.5a5.5 5.5 0 0 1-5.5 5.5c-1.22 0-2.35-.4-3.26-1.07l7.69-7.69c.67.91 1.07 2.04 1.07 3.26m-4.4 6.58 2.77-1.15-.24 3.35zm4.33-2.7 1.15-2.77 2.2 2.54zm1.15-4.96-1.14-2.78 3.34.24zM9.63 18.93l2.77 1.15-2.53 2.19z"/></svg> </a> <a href=javascript:toggleScheme(); title="Unknown scheme" class=unknown-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m15.07 11.25-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2 2 2 0 0 0-2 2H8a4 4 0 0 1 4-4 4 4 0 0 1 4 4 3.2 3.2 0 0 1-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"/></svg> </a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/facelessuser/coloraide title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=.. class=md-tabs__link> ColorAide </a> </li> <li class=md-tabs__item> <a href=../colors/ class=md-tabs__link> Color Spaces </a> </li> <li class=md-tabs__item> <a href=../plugins/ class=md-tabs__link> Plugins </a> </li> <li class=md-tabs__item> <a href=../demos/ class=md-tabs__link> Demos </a> </li> <li class=md-tabs__item> <a href=../api/ class=md-tabs__link> API </a> </li> <li class=md-tabs__item> <a href=../playground/ class=md-tabs__link> Playground </a> </li> <li class=md-tabs__item> <a href=../about/contributing/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="ColorAide Documentation" class="md-nav__button md-logo" aria-label="ColorAide Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg> </a> ColorAide Documentation </label> <div class=md-nav__source> <a href=https://github.com/facelessuser/coloraide title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=.. class="md-nav__link "> <span class=md-ellipsis> ColorAide </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=true> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> ColorAide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../color/ class=md-nav__link> <span class=md-ellipsis> The Color Object </span> </a> </li> <li class=md-nav__item> <a href=../manipulation/ class=md-nav__link> <span class=md-ellipsis> Manipulating Colors </span> </a> </li> <li class=md-nav__item> <a href=../interpolation/ class=md-nav__link> <span class=md-ellipsis> Color Interpolation </span> </a> </li> <li class=md-nav__item> <a href=../average/ class=md-nav__link> <span class=md-ellipsis> Color Averaging </span> </a> </li> <li class=md-nav__item> <a href=../compositing/ class=md-nav__link> <span class=md-ellipsis> Compositing and Blending </span> </a> </li> <li class=md-nav__item> <a href=../distance/ class=md-nav__link> <span class=md-ellipsis> Color Distance and Delta E </span> </a> </li> <li class=md-nav__item> <a href=../filters/ class=md-nav__link> <span class=md-ellipsis> Filters </span> </a> </li> <li class=md-nav__item> <a href=../harmonies/ class=md-nav__link> <span class=md-ellipsis> Color Harmonies </span> </a> </li> <li class=md-nav__item> <a href=../contrast/ class=md-nav__link> <span class=md-ellipsis> Contrast </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Gamut Mapping </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Gamut Mapping </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#checking-gamut class=md-nav__link> <span class=md-ellipsis> Checking Gamut </span> </a> <nav class=md-nav aria-label="Checking Gamut"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#tolerance class=md-nav__link> <span class=md-ellipsis> Tolerance </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#gamut-mapping-colors class=md-nav__link> <span class=md-ellipsis> Gamut Mapping Colors </span> </a> <nav class=md-nav aria-label="Gamut Mapping Colors"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#clip class=md-nav__link> <span class=md-ellipsis> Clip </span> </a> </li> <li class=md-nav__item> <a href=#minde-chroma-reduction class=md-nav__link> <span class=md-ellipsis> MINDE Chroma Reduction </span> </a> <nav class=md-nav aria-label="MINDE Chroma Reduction"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lch-chroma class=md-nav__link> <span class=md-ellipsis> LCh Chroma </span> </a> </li> <li class=md-nav__item> <a href=#oklch-chroma class=md-nav__link> <span class=md-ellipsis> OkLCh Chroma </span> </a> </li> <li class=md-nav__item> <a href=#hct-chroma class=md-nav__link> <span class=md-ellipsis> HCT Chroma </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ray-tracing-chroma-reduction class=md-nav__link> <span class=md-ellipsis> Ray Tracing Chroma Reduction </span> </a> </li> <li class=md-nav__item> <a href=#gamut-mapping-in-any-perceptual-space class=md-nav__link> <span class=md-ellipsis> Gamut Mapping in Any Perceptual Space </span> </a> </li> <li class=md-nav__item> <a href=#adaptive-lightness class=md-nav__link> <span class=md-ellipsis> Adaptive Lightness </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pointers-gamut class=md-nav__link> <span class=md-ellipsis> Pointer's Gamut </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../chromaticity/ class=md-nav__link> <span class=md-ellipsis> Chromaticity </span> </a> </li> <li class=md-nav__item> <a href=../temperature/ class=md-nav__link> <span class=md-ellipsis> Correlated Color Temperature </span> </a> </li> <li class=md-nav__item> <a href=../cat/ class=md-nav__link> <span class=md-ellipsis> Chromatic Adaptation </span> </a> </li> <li class=md-nav__item> <a href=../strings/ class=md-nav__link> <span class=md-ellipsis> String Output </span> </a> </li> <li class=md-nav__item> <a href=../advanced/ class=md-nav__link> <span class=md-ellipsis> Advanced Topics </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../colors/ class="md-nav__link "> <span class=md-ellipsis> Color Spaces </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Color Spaces </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> RGB Color Spaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> RGB Color Spaces </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../colors/srgb/ class=md-nav__link> <span class=md-ellipsis> sRGB </span> </a> </li> <li class=md-nav__item> <a href=../colors/display_p3/ class=md-nav__link> <span class=md-ellipsis> Display P3 </span> </a> </li> <li class=md-nav__item> <a href=../colors/a98_rgb/ class=md-nav__link> <span class=md-ellipsis> A98 RGB </span> </a> </li> <li class=md-nav__item> <a href=../colors/rec2020/ class=md-nav__link> <span class=md-ellipsis> Rec. 2020 </span> </a> </li> <li class=md-nav__item> <a href=../colors/prophoto_rgb/ class=md-nav__link> <span class=md-ellipsis> ProPhoto RGB </span> </a> </li> <li class=md-nav__item> <a href=../colors/rec709/ class=md-nav__link> <span class=md-ellipsis> Rec. 709 </span> </a> </li> <li class=md-nav__item> <a href=../colors/rec2100_pq/ class=md-nav__link> <span class=md-ellipsis> Rec. 2100 PQ </span> </a> </li> <li class=md-nav__item> <a href=../colors/rec2100_hlg/ class=md-nav__link> <span class=md-ellipsis> Rec. 2100 HLG </span> </a> </li> <li class=md-nav__item> <a href=../colors/srgb_linear/ class=md-nav__link> <span class=md-ellipsis> Linear sRGB </span> </a> </li> <li class=md-nav__item> <a href=../colors/display_p3_linear/ class=md-nav__link> <span class=md-ellipsis> Linear Display P3 </span> </a> </li> <li class=md-nav__item> <a href=../colors/a98_rgb_linear/ class=md-nav__link> <span class=md-ellipsis> Linear A98 RGB </span> </a> </li> <li class=md-nav__item> <a href=../colors/rec2020_linear/ class=md-nav__link> <span class=md-ellipsis> Linear Rec. 2020 </span> </a> </li> <li class=md-nav__item> <a href=../colors/rec2100_linear/ class=md-nav__link> <span class=md-ellipsis> Linear Rec. 2100 </span> </a> </li> <li class=md-nav__item> <a href=../colors/prophoto_rgb_linear/ class=md-nav__link> <span class=md-ellipsis> Linear ProPhoto RGB </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Cylindrical sRGB Spaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Cylindrical sRGB Spaces </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../colors/hsv/ class=md-nav__link> <span class=md-ellipsis> HSV </span> </a> </li> <li class=md-nav__item> <a href=../colors/hsl/ class=md-nav__link> <span class=md-ellipsis> HSL </span> </a> </li> <li class=md-nav__item> <a href=../colors/hwb/ class=md-nav__link> <span class=md-ellipsis> HWB </span> </a> </li> <li class=md-nav__item> <a href=../colors/hsi/ class=md-nav__link> <span class=md-ellipsis> HSI </span> </a> </li> <li class=md-nav__item> <a href=../colors/okhsv/ class=md-nav__link> <span class=md-ellipsis> Okhsv </span> </a> </li> <li class=md-nav__item> <a href=../colors/okhsl/ class=md-nav__link> <span class=md-ellipsis> Okhsl </span> </a> </li> <li class=md-nav__item> <a href=../colors/hsluv/ class=md-nav__link> <span class=md-ellipsis> HSLuv </span> </a> </li> <li class=md-nav__item> <a href=../colors/hpluv/ class=md-nav__link> <span class=md-ellipsis> HPLuv </span> </a> </li> <li class=md-nav__item> <a href=../colors/cubehelix/ class=md-nav__link> <span class=md-ellipsis> Cubehelix </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> XYZ Spaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> XYZ Spaces </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../colors/xyz_d65/ class=md-nav__link> <span class=md-ellipsis> XYZ D65 </span> </a> </li> <li class=md-nav__item> <a href=../colors/xyz_d50/ class=md-nav__link> <span class=md-ellipsis> XYZ D50 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> <span class=md-ellipsis> Lab Like Spaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Lab Like Spaces </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../colors/lab/ class=md-nav__link> <span class=md-ellipsis> Lab D50 </span> </a> </li> <li class=md-nav__item> <a href=../colors/lab_d65/ class=md-nav__link> <span class=md-ellipsis> Lab D65 </span> </a> </li> <li class=md-nav__item> <a href=../colors/oklab/ class=md-nav__link> <span class=md-ellipsis> Oklab </span> </a> </li> <li class=md-nav__item> <a href=../colors/oklrab/ class=md-nav__link> <span class=md-ellipsis> Oklrab </span> </a> </li> <li class=md-nav__item> <a href=../colors/luv/ class=md-nav__link> <span class=md-ellipsis> Luv </span> </a> </li> <li class=md-nav__item> <a href=../colors/din99o/ class=md-nav__link> <span class=md-ellipsis> DIN99o </span> </a> </li> <li class=md-nav__item> <a href=../colors/jzazbz/ class=md-nav__link> <span class=md-ellipsis> Jzazbz </span> </a> </li> <li class=md-nav__item> <a href=../colors/hunter_lab/ class=md-nav__link> <span class=md-ellipsis> Hunter Lab </span> </a> </li> <li class=md-nav__item> <a href=../colors/rlab/ class=md-nav__link> <span class=md-ellipsis> RLAB </span> </a> </li> <li class=md-nav__item> <a href=../colors/ipt/ class=md-nav__link> <span class=md-ellipsis> IPT </span> </a> </li> <li class=md-nav__item> <a href=../colors/ictcp/ class=md-nav__link> <span class=md-ellipsis> ICtCp </span> </a> </li> <li class=md-nav__item> <a href=../colors/igpgtg/ class=md-nav__link> <span class=md-ellipsis> IgPgTg </span> </a> </li> <li class=md-nav__item> <a href=../colors/cam02_ucs/ class=md-nav__link> <span class=md-ellipsis> CAM02 UCS </span> </a> </li> <li class=md-nav__item> <a href=../colors/cam02_scd/ class=md-nav__link> <span class=md-ellipsis> CAM02 SCD </span> </a> </li> <li class=md-nav__item> <a href=../colors/cam02_lcd/ class=md-nav__link> <span class=md-ellipsis> CAM02 LCD </span> </a> </li> <li class=md-nav__item> <a href=../colors/cam16_ucs/ class=md-nav__link> <span class=md-ellipsis> CAM16 UCS </span> </a> </li> <li class=md-nav__item> <a href=../colors/cam16_scd/ class=md-nav__link> <span class=md-ellipsis> CAM16 SCD </span> </a> </li> <li class=md-nav__item> <a href=../colors/cam16_lcd/ class=md-nav__link> <span class=md-ellipsis> CAM16 LCD </span> </a> </li> <li class=md-nav__item> <a href=../colors/xyb/ class=md-nav__link> <span class=md-ellipsis> XYB </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6 id=__nav_2_6_label tabindex=0> <span class=md-ellipsis> LCh Like Spaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> LCh Like Spaces </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../colors/lch/ class=md-nav__link> <span class=md-ellipsis> LCh D50 </span> </a> </li> <li class=md-nav__item> <a href=../colors/lch_d65/ class=md-nav__link> <span class=md-ellipsis> LCh D65 </span> </a> </li> <li class=md-nav__item> <a href=../colors/oklch/ class=md-nav__link> <span class=md-ellipsis> OkLCh </span> </a> </li> <li class=md-nav__item> <a href=../colors/oklrch/ class=md-nav__link> <span class=md-ellipsis> OkLrCh </span> </a> </li> <li class=md-nav__item> <a href=../colors/lchuv/ class=md-nav__link> <span class=md-ellipsis> LCh(uv) </span> </a> </li> <li class=md-nav__item> <a href=../colors/lch99o/ class=md-nav__link> <span class=md-ellipsis> DIN99 LCh </span> </a> </li> <li class=md-nav__item> <a href=../colors/jzczhz/ class=md-nav__link> <span class=md-ellipsis> JzCzhz </span> </a> </li> <li class=md-nav__item> <a href=../colors/cam02/ class=md-nav__link> <span class=md-ellipsis> CAM02 JMh </span> </a> </li> <li class=md-nav__item> <a href=../colors/cam16/ class=md-nav__link> <span class=md-ellipsis> CAM16 JMh </span> </a> </li> <li class=md-nav__item> <a href=../colors/hellwig/ class=md-nav__link> <span class=md-ellipsis> Hellwig JMh </span> </a> </li> <li class=md-nav__item> <a href=../colors/hct/ class=md-nav__link> <span class=md-ellipsis> HCT </span> </a> </li> <li class=md-nav__item> <a href=../colors/zcam/ class=md-nav__link> <span class=md-ellipsis> ZCAM JMh </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_7> <label class=md-nav__link for=__nav_2_7 id=__nav_2_7_label tabindex=0> <span class=md-ellipsis> ACES Spaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> ACES Spaces </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../colors/aces2065_1/ class=md-nav__link> <span class=md-ellipsis> ACES 2065-1 </span> </a> </li> <li class=md-nav__item> <a href=../colors/acescg/ class=md-nav__link> <span class=md-ellipsis> ACEScg </span> </a> </li> <li class=md-nav__item> <a href=../colors/acescc/ class=md-nav__link> <span class=md-ellipsis> ACEScc </span> </a> </li> <li class=md-nav__item> <a href=../colors/acescct/ class=md-nav__link> <span class=md-ellipsis> ACEScct </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_8> <label class=md-nav__link for=__nav_2_8 id=__nav_2_8_label tabindex=0> <span class=md-ellipsis> Miscellaneous Spaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_8_label aria-expanded=false> <label class=md-nav__title for=__nav_2_8> <span class="md-nav__icon md-icon"></span> Miscellaneous Spaces </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../colors/xyy/ class=md-nav__link> <span class=md-ellipsis> xyY </span> </a> </li> <li class=md-nav__item> <a href=../colors/ucs/ class=md-nav__link> <span class=md-ellipsis> CIE 1960 UCS </span> </a> </li> <li class=md-nav__item> <a href=../colors/ryb/ class=md-nav__link> <span class=md-ellipsis> RYB </span> </a> </li> <li class=md-nav__item> <a href=../colors/cmy/ class=md-nav__link> <span class=md-ellipsis> CMY </span> </a> </li> <li class=md-nav__item> <a href=../colors/cmyk/ class=md-nav__link> <span class=md-ellipsis> CMYK </span> </a> </li> <li class=md-nav__item> <a href=../colors/orgb/ class=md-nav__link> <span class=md-ellipsis> oRGB </span> </a> </li> <li class=md-nav__item> <a href=../colors/prismatic/ class=md-nav__link> <span class=md-ellipsis> Prismatic </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../plugins/ class="md-nav__link "> <span class=md-ellipsis> Plugins </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Plugins </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../plugins/delta_e/ class=md-nav__link> <span class=md-ellipsis> Delta E </span> </a> </li> <li class=md-nav__item> <a href=../plugins/fit/ class=md-nav__link> <span class=md-ellipsis> Fit/Gamut Mapping </span> </a> </li> <li class=md-nav__item> <a href=../plugins/cat/ class=md-nav__link> <span class=md-ellipsis> Chromatic Adaptation </span> </a> </li> <li class=md-nav__item> <a href=../plugins/filter/ class=md-nav__link> <span class=md-ellipsis> Filters </span> </a> </li> <li class=md-nav__item> <a href=../plugins/contrast/ class=md-nav__link> <span class=md-ellipsis> Contrast </span> </a> </li> <li class=md-nav__item> <a href=../plugins/space/ class=md-nav__link> <span class=md-ellipsis> Color Spaces </span> </a> </li> <li class=md-nav__item> <a href=../plugins/interpolate/ class=md-nav__link> <span class=md-ellipsis> Interpolation </span> </a> </li> <li class=md-nav__item> <a href=../plugins/cct/ class=md-nav__link> <span class=md-ellipsis> CCT </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../demos/ class="md-nav__link "> <span class=md-ellipsis> Demos </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../demos/colorpicker.html class=md-nav__link> <span class=md-ellipsis> Color Picker </span> </a> </li> <li class=md-nav__item> <a href=../demos/3d_models.html class=md-nav__link> <span class=md-ellipsis> 3D Color Space Models </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../api/ class="md-nav__link "> <span class=md-ellipsis> API </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> API </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../playground/ class=md-nav__link> <span class=md-ellipsis> Playground </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> About </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../about/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing &amp; Support </span> </a> </li> <li class=md-nav__item> <a href=../about/acknowledgments/ class=md-nav__link> <span class=md-ellipsis> Acknowledgments </span> </a> </li> <li class=md-nav__item> <a href=../about/changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../about/license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_5> <label class=md-nav__link for=__nav_7_5 id=__nav_7_5_label tabindex=0> <span class=md-ellipsis> Migration Notes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_5_label aria-expanded=false> <label class=md-nav__title for=__nav_7_5> <span class="md-nav__icon md-icon"></span> Migration Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../about/releases/1.0/ class=md-nav__link> <span class=md-ellipsis> 1.0 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#checking-gamut class=md-nav__link> <span class=md-ellipsis> Checking Gamut </span> </a> <nav class=md-nav aria-label="Checking Gamut"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#tolerance class=md-nav__link> <span class=md-ellipsis> Tolerance </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#gamut-mapping-colors class=md-nav__link> <span class=md-ellipsis> Gamut Mapping Colors </span> </a> <nav class=md-nav aria-label="Gamut Mapping Colors"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#clip class=md-nav__link> <span class=md-ellipsis> Clip </span> </a> </li> <li class=md-nav__item> <a href=#minde-chroma-reduction class=md-nav__link> <span class=md-ellipsis> MINDE Chroma Reduction </span> </a> <nav class=md-nav aria-label="MINDE Chroma Reduction"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lch-chroma class=md-nav__link> <span class=md-ellipsis> LCh Chroma </span> </a> </li> <li class=md-nav__item> <a href=#oklch-chroma class=md-nav__link> <span class=md-ellipsis> OkLCh Chroma </span> </a> </li> <li class=md-nav__item> <a href=#hct-chroma class=md-nav__link> <span class=md-ellipsis> HCT Chroma </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ray-tracing-chroma-reduction class=md-nav__link> <span class=md-ellipsis> Ray Tracing Chroma Reduction </span> </a> </li> <li class=md-nav__item> <a href=#gamut-mapping-in-any-perceptual-space class=md-nav__link> <span class=md-ellipsis> Gamut Mapping in Any Perceptual Space </span> </a> </li> <li class=md-nav__item> <a href=#adaptive-lightness class=md-nav__link> <span class=md-ellipsis> Adaptive Lightness </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pointers-gamut class=md-nav__link> <span class=md-ellipsis> Pointer's Gamut </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=gamut-mapping>Gamut Mapping<a class=headerlink href=#gamut-mapping title="Permanent link"></a></h1> <p>Many color spaces are designed to represent a specific range of colors. This is often done to target specific display types or mediums. The monitor this is being displayed on can likely display millions of colors, but there are still colors it is not capable of displaying. So color spaces are often designed to represent such mediums to make it easy for authors and artists to know exactly where those color boundaries are. This range of colors that a color space is limited to and designed for is called a color gamut.</p> <p>There are some color spaces that are theoretically unbounded, and even some color spaces that are bounded but can actually still give meaningful data if extended, but often, when it comes time to display a color, paint a product, or print a book, the actual colors are limited to what that device or process can handle.</p> <p>The sRGB and Display P3 color spaces are both RGB color spaces, but they actually can represent a different amount of colors. Display P3 has a wider gamut and allows for greener greens and redder reds, etc. In the image below, we show four different RGB color spaces, each with varying different gamut sizes. Display P3 contains all the colors in sRGB and extends it even further. Rec. 2020, another RGB color space, is even wider. ProPhoto is so wide that it contains colors that the human eye can't even see.</p> <p><img alt="Gamut Comparison" src=../images/gamut-compare.png></p> <p>In order to visually represent a color from a wider gamut color space, such as Display P3, in a more narrow color space, such as sRGB, a suitable color within the more narrow color space must be selected and be shown in its place. This selecting of a suitable replacement is called gamut mapping.</p> <p>ColorAide defines a couple methods to help identify when a color is outside the gamut bounds of a color space and to help find a suitable, alternative color that is within the gamut.</p> <h2 id=checking-gamut>Checking Gamut<a class=headerlink href=#checking-gamut title="Permanent link"></a></h2> <p>When dealing with colors, it can be important to know whether a color is within its own gamut. Let's say we are working with colors in Display P3, but we want to output to an sRGB display. Let's say the color of interest is <span><span class="swatch out-of-gamut" title="color(display-p3 1 0 0)"><span class=swatch-color style="--swatch-stops: #fc3200,#fc3200;"></span></span><code class=highlight><span class=nf>color</span><span class=g>(</span><span class=kc>display-p3</span><span class=w> </span><span class=m>1</span><span class=w> </span><span class=m>0</span><span class=w> </span><span class=m>0</span><span class=g>)</span></code></span>. If we plot the color as shown below, we can see that it is in Display P3, the faint transparent shell, but it is outside the sRGB gamut, the color solid in the middle. We'd like to detect these cases and make an adjustment to ensure we don't get unexpected behavior.</p> <p><img alt="Out of Gamut" src=../images/out-of-gamut-3d.png></p> <p>The <code>in_gamut</code> function allows for comparing the current color's specified values against the target color space's gamut.</p> <p>Let's assume we have a color <span><span class="swatch out-of-gamut" title="rgb(30% 105% 0%)"><span class=swatch-color style="--swatch-stops: #6bff3a,#6bff3a;"></span></span><code class=highlight><span class=nf>rgb</span><span class=g>(</span><span class=m>30</span><span class=k>%</span><span class=w> </span><span class=m>105</span><span class=k>%</span><span class=w> </span><span class=m>0</span><span class=k>%</span><span class=g>)</span></code></span>. The color is out of gamut due to the green channel exceeding the channel's limit of <code class=highlight><span class=mi>100</span><span class=o>%</span></code>. When we execute <code>in_gamut</code>, we can see that the color is not in its own gamut.</p> <div class=playground id=__playground_0> <div class=playground-results id=__playground-results_0> <div class=color-command><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s2>&quot;rgb(30</span><span class=si>% 105%</span><span class=s2> 0%)&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>()</span>
<span class=go>False</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_0 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_0 spellcheck=false>Color("rgb(30% 105% 0%)").in_gamut()</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_0 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_0 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_0 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_0 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>On the other hand, some color spaces do not have a limit. CIELab and Oklab are such color spaces and can be represented in any gamut that'd you'd like.</p> <p><img alt="Out of Gamut" src=../images/oklab-gamuts-3d.png></p> <p>Sometimes limits will be placed on the color space's channels (as done above) for practicality, but theoretically, there are no exact bounds.</p> <p>When we check a CIELab color, we will find that it is always considered in gamut as it has no gamut itself.</p> <div class=playground id=__playground_1> <div class=playground-results id=__playground-results_1> <div class=color-command><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s2>&quot;lab(200% -20 40 / 1)&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>()</span>
<span class=go>True</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_1 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_1 spellcheck=false>Color("lab(200% -20 40 / 1)").in_gamut()</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_1 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_1 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_1 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_1 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>While checking CIELab's own gamut isn't very useful, we can test it against a different color space's gamut. By simply passing in the name of a different color space, the current color will be converted to the provided space and then will run <code>in_gamut</code> on the new color. You could do this manually, but using <code>in_gamut</code> in this manner can be very convenient. In the example below, we can see that the CIELab color of <span><span class="swatch out-of-gamut" title="lab(200% -20 40 / 1)"><span class=swatch-color style="--swatch-stops: #ffffff,#ffffff;"></span></span><code class=highlight><span class=nf>lab</span><span class=g>(</span><span class=m>200</span><span class=k>%</span><span class=w> </span><span class=g>-</span><span class=m>20</span><span class=w> </span><span class=m>40</span><span class=w> </span><span class=g>/</span><span class=w> </span><span class=m>1</span><span class=g>)</span></code></span> is outside the narrow gamut of sRGB.</p> <div class=playground id=__playground_2> <div class=playground-results id=__playground-results_2> <div class=color-command><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s2>&quot;lab(200% -20 40 / 1)&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span>
<span class=go>False</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_2 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_2 spellcheck=false>Color("lab(200% -20 40 / 1)").in_gamut('srgb')</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_2 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_2 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_2 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_2 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <h3 id=tolerance>Tolerance<a class=headerlink href=#tolerance title="Permanent link"></a></h3> <p>Generally, ColorAide does not round off values in order to guarantee the best possible values for round tripping, but due to <a href=https://docs.python.org/3/tutorial/floatingpoint.html#floating-point-arithmetic-issues-and-limitations>limitations of floating-point arithmetic</a> and precision of conversion algorithms, there can be edge cases where colors don't round trip perfectly. By default, <code>in_gamut</code> allows for a tolerance of <code class=highlight><span class=mf>0.000075</span></code> to account for such cases where a color is "close enough". If desired, this "tolerance" can be adjusted.</p> <p>Let's consider the oRGB color model. When converting from sRGB to oRGB, both of which share the same gamut, we can see that the conversion back is very, very close to being correct, but still technically out of gamut with one channel value falling below zero, but only slightly. This is due to the perils of floating point arithmetic.</p> <div class=playground id=__playground_3> <div class=playground-results id=__playground-results_3> <div class=color-command><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;red&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;orgb&#39;</span><span class=p>)[:]</span>
<span class=go>[0.299, 1.905283832848159e-05, 0.9999779995764854, 1.0]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;red&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;orgb&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)[:]</span>
<span class=go>[1.0, 1.1102230246251565e-16, -1.3877787807814457e-16, 1.0]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_3 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_3 spellcheck=false>Color('red').convert('orgb')[:]
Color('red').convert('orgb').convert('srgb')[:]</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_3 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_3 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_3 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_3 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>When testing with a tolerance, the color is considered in gamut, but when testing with no tolerance (a tolerance of zero), the color is considered out of gamut. Depending on what you are doing, this may not be an issue up until you are ready to finalize the color as very close to in gamut is usually good enough, so sometimes it may be desirable to have some tolerance, and other times not.</p> <div class=playground id=__playground_4> <div class=playground-results id=__playground-results_4> <div class=color-command><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;red&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;orgb&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)[:]</span>
<span class=go>[1.0, 1.1102230246251565e-16, -1.3877787807814457e-16, 1.0]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;red&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;orgb&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>()</span>
<span class=go>True</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;red&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;orgb&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>(</span><span class=n>tolerance</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=go>False</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_4 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_4 spellcheck=false>Color('red').convert('orgb').convert('srgb')[:]
Color('red').convert('orgb').convert('srgb').in_gamut()
Color('red').convert('orgb').convert('srgb').in_gamut(tolerance=0)</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_4 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_4 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_4 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_4 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>Let's consider some color models that handle out of gamut colors in a less subtle way. HSL, HSV, and HWB are color models designed to represent an RGB color space in a cylindrical format, traditionally sRGB. Each of these spaces isolate different attributes of a color: saturation, whiteness, lightness, etc. Because these models are just representing the color space in a different way, they share the same gamut as the reference RGB color space. So it stands to reason that simply using the sRGB gamut check for them should be sufficient, and if we are using strict tolerance, this would be true.</p> <div class=playground id=__playground_5> <div class=playground-results id=__playground-results_5> <div class=color-command><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;rgb(255 255 255)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>tolerance</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;hsl(0 0</span><span class=si>% 100%</span><span class=s1>)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>tolerance</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(--hsv 0 0</span><span class=si>% 100%</span><span class=s1>)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>tolerance</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;rgb(255.05 255 255)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>tolerance</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;hsl(0 0</span><span class=si>% 100.05%</span><span class=s1>)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>tolerance</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(--hsv 0 0</span><span class=si>% 100.05%</span><span class=s1>)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>tolerance</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=go>False</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_5 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_5 spellcheck=false>Color('rgb(255 255 255)').in_gamut('srgb', tolerance=0)
Color('hsl(0 0% 100%)').in_gamut('srgb', tolerance=0)
Color('color(--hsv 0 0% 100%)').in_gamut('srgb', tolerance=0)
Color('rgb(255.05 255 255)').in_gamut('srgb', tolerance=0)
Color('hsl(0 0% 100.05%)').in_gamut('srgb', tolerance=0)
Color('color(--hsv 0 0% 100.05%)').in_gamut('srgb', tolerance=0)</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_5 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_5 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_5 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_5 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>But when we are using a tolerance, and we check one of these models <strong>only</strong> using the sRGB gamut, there are some cases where these cylindrical colors can exhibit coordinates wildly outside of the model's range but still very close to the sRGB gamut. This isn't an error or a bug, but simply how the color model behaves with out of gamut colors. These values can still convert right back to the original color, but this might not always be the case with all color models.</p> <p>In this example, we have an sRGB color that is extremely close to being in gamut, but when we convert it to HSL, we can see wildly large saturation. But since it round trips back to sRGB just fine, it can exhibit extreme saturation, but can still be considered in the sRGB gamut.</p> <div class=playground id=__playground_6> <div class=playground-results id=__playground-results_6> <div class=color-command><div class=swatch-bar><span class=swatch title="hsl(0 300% 100%)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 255 255) 50%, rgb(255 255 255) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>hsl</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(srgb 0.999999 1.000002 0.999999)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;hsl&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>hsl</span>
<span class=go>color(--hsl none 3 1 / 1)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>hsl</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_6 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_6 spellcheck=false>hsl = Color('color(srgb 0.999999 1.000002 0.999999)').convert('hsl')
hsl
hsl.in_gamut('srgb')</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_6 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_6 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_6 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_6 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>This happens because these cylindrical color models do not represent out of gamut colors in a very sane way. When lightness exceeds the <abbr title="Standard Dynamic Range">SDR</abbr> range of 0 - 1 (or <code>0 - 100%</code> as people generally associate HSL), they can return extremely high saturation. So even a slightly out of gamut sRGB color <em>could</em> translate to a value way outside the cylindrical color model's boundaries.</p> <p>For this reason, gamut checks in the HSL, HSV, and HWB models apply tolerance checks on the color's coordinates in the sRGB color space <strong>and</strong> the respective cylindrical model ensuring we have coordinates that are close to the color's actual gamut and reasonably close to the cylindrical model's constraints as well. But if we specifically request <code>srgb</code>, we will see that only <code>srgb</code> is referenced.</p> <div class=playground id=__playground_7> <div class=playground-results id=__playground-results_7> <div class=color-command><div class=swatch-bar><span class=swatch title="hsl(0 300% 100%)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 255 255) 50%, rgb(255 255 255) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>hsl</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(srgb 0.999999 1.000002 0.999999)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;hsl&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>hsl</span>
<span class=go>color(--hsl none 3 1 / 1)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>hsl</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>()</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>hsl</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>(</span><span class=s1>&#39;hsl&#39;</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>hsl</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_7 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_7 spellcheck=false>hsl = Color('color(srgb 0.999999 1.000002 0.999999)').convert('hsl')
hsl
hsl.in_gamut()
hsl.in_gamut('hsl')
hsl.in_gamut('srgb')</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_7 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_7 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_7 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_7 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>In short, ColorAide will figure out what best to test unless you explicitly tell it to use something else. If the Cartesian check is the only desired check, and the strange cylindrical values that are returned are not a problem, <code>srgb</code> can always be specified. <code class=highlight><span class=n>tolerance</span><span class=o>=</span><span class=mi>0</span></code> can also be used to constrain the check to values exactly in the gamut.</p> <p>HSL has a very tight conversion to and from sRGB, so when an sRGB color is precisely in gamut, it will remain in gamut throughout the conversion to and from HSL, both forwards and backwards. On the other hand, there may be color models that have a looser conversion algorithm. There may even be cases where it may be beneficial to increase the threshold.</p> <h2 id=gamut-mapping-colors>Gamut Mapping Colors<a class=headerlink href=#gamut-mapping-colors title="Permanent link"></a></h2> <p>Gamut mapping is the process of taking a color that is out of gamut and adjusting it in such a way that it fits within the gamut. Essentially, gamut mapping takes a color that is out of gamut and maps it to some place on the target gamut that makes sense.</p> <p><img alt="Gamut Mapping" src=../images/gamut-map-3d.png></p> <p>There are various ways to map or compress values of an out of bound color to an in bound color, each with their own pros and cons. ColorAide offers a couple of methods related to gamut mapping: <code class=highlight><span class=n>clip</span><span class=p>()</span></code> and <code class=highlight><span class=n>fit</span><span class=p>()</span></code>. <code class=highlight><span class=n>clip</span><span class=p>()</span></code> is a dedicated function that performs the speedy, yet naive, approach of simply truncating a color channel's value to fit within the specified gamut, and <code class=highlight><span class=n>fit</span><span class=p>()</span></code> is a method that allows using more advanced gamut mapping approaches that, while often not as performant and simple as naive clipping, generally yield much better results in certain contexts.</p> <p>While clipping won't always yield the most perceptually correct results, it can be a useful way get a color back into gamut. There may be better approaches, but clipping is still very important and can be used to trim channel noise after certain mathematical operations or even used in other gamut mapping algorithms if used carefully. For this reason, clip has its own dedicated method for quick access: <code class=highlight><span class=n>clip</span><span class=p>()</span></code>.</p> <div class=playground id=__playground_8> <div class=playground-results id=__playground-results_8> <div class=color-command><div class=swatch-bar><span class=swatch title="rgb(255 30 120)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 30 120) 50%, rgb(255 30 120) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;rgb(270 30 120)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>clip</span><span class=p>()</span>
<span class=go>color(srgb 1 0.11765 0.47059 / 1)</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_8 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_8 spellcheck=false>Color('rgb(270 30 120)').clip()</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_8 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_8 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_8 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_8 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>The <code class=highlight><span class=n>fit</span><span class=p>()</span></code> method, is the generic gamut mapping method that exposes access to all the different gamut mapping methods available. By default, <code class=highlight><span class=n>fit</span><span class=p>()</span></code> uses a more advanced method of gamut mapping that tries to preserve hue and lightness, hue being the attribute the human eye is most sensitive to. If desired, a user can also specify any currently registered gamut mapping algorithm via the <code>method</code> parameter.</p> <div class=playground id=__playground_9> <div class=playground-results id=__playground-results_9> <div class=color-command><div class=swatch-bar><span class=swatch title="rgb(255 46.655 120.92)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 46.655 120.92) 50%, rgb(255 46.655 120.92) 50%"></span></span> <span class=swatch title="rgb(255 30 120)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 30 120) 50%, rgb(255 30 120) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;rgb(270 30 120)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>fit</span><span class=p>()</span>
<span class=go>color(srgb 1 0.18296 0.47421 / 1)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;rgb(270 30 120)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=n>method</span><span class=o>=</span><span class=s1>&#39;clip&#39;</span><span class=p>)</span>
<span class=go>color(srgb 1 0.11765 0.47059 / 1)</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_9 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_9 spellcheck=false>Color('rgb(270 30 120)').fit()
Color('rgb(270 30 120)').fit(method='clip')</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_9 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_9 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_9 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_9 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>Gamut mapping can also be used to indirectly fit colors in another gamut. For instance, fitting a Display P3 color into an sRGB gamut.</p> <div class=playground id=__playground_10> <div class=playground-results id=__playground-results_10> <div class=color-command><div class=swatch-bar><span class=swatch title="color(display-p3 0.9986 0.99232 0.32855)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 252.97 0) 50%, rgb(255 252.97 0) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>c1</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(display-p3 1 1 0)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c1</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c1</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span>
<span class=go>color(display-p3 0.9986 0.99232 0.32855 / 1)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c1</span><span class=o>.</span><span class=n>in_gamut</span><span class=p>()</span>
<span class=go>True</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_10 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_10 spellcheck=false>c1 = Color('color(display-p3 1 1 0)')
c1.in_gamut('srgb')
c1.fit('srgb')
c1.in_gamut()</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_10 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_10 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_10 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_10 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>This can also be done with <code class=highlight><span class=n>clip</span><span class=p>()</span></code>.</p> <div class=playground id=__playground_11> <div class=playground-results id=__playground-results_11> <div class=color-command><div class=swatch-bar><span class=swatch title="color(display-p3 1 1 0.3309)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 255 0) 50%, rgb(255 255 0) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(display-p3 1 1 0)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>clip</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span>
<span class=go>color(display-p3 1 1 0.3309 / 1)</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_11 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_11 spellcheck=false>Color('color(display-p3 1 1 0)').clip('srgb')</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_11 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_11 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_11 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_11 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <div class="admonition warning"> <p class=admonition-title>Indirectly Gamut Mapping a Color Space</p> <p>When indirectly gamut mapping in another color space, results may vary depending on what color space you are in and what color space you are using to fit the color. The operation may not get the color precisely in gamut. This is because we must convert the color to the gamut mapping space, apply the gamut mapping, and then convert it back to the original color. The process will be subject to any errors that occur in the <a href=../advanced/#round-trip-accuracy>round trip</a> to and from the targeted space. This is mainly mentioned as fitting in one color space and round tripping back may not give exact results and, in some cases, exceed "in gamut" thresholds.</p> </div> <p>There are actually many different ways to gamut map a color. Some are computationally expensive, some are quite simple, and many do really good in some cases and not so well in others. There is probably no perfect gamut mapping method, but some are better than others.</p> <h3 id=clip>Clip<a class=headerlink href=#clip title="Permanent link"></a></h3> <div class="admonition success"> <p class=admonition-title>The <code>clip</code> gamut mapping is registered in <code>Color</code> by default and cannot be unregistered</p> </div> <p>Clipping is a simple and naive approach to gamut mapping. If the color space is bounded by a gamut, clip will compare each channel's value against the bounds for that channel and set the value to the limit it exceeds.</p> <p>Clip can be performed via <code>fit</code> by using the method name <code>clip</code> or by using the <code>clip()</code> method.</p> <div class=playground id=__playground_12> <div class=playground-results id=__playground-results_12> <div class=color-command><div class=swatch-bar><span class=swatch title="rgb(255 255 255)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 255 255) 50%, rgb(255 255 255) 50%"></span></span> <span class=swatch title="rgb(255 255 255)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 255 255) 50%, rgb(255 255 255) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>c</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mf>1.5</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=n>method</span><span class=o>=</span><span class=s1>&#39;clip&#39;</span><span class=p>)</span>
<span class=go>color(srgb 1 1 1 / 1)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mf>1.5</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c</span><span class=o>.</span><span class=n>clip</span><span class=p>()</span>
<span class=go>color(srgb 1 1 1 / 1)</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_12 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_12 spellcheck=false>c = Color('srgb', [2, 1, 1.5])
c.fit(method='clip')
c = Color('srgb', [2, 1, 1.5])
c.clip()</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_12 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_12 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_12 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_12 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>Clipping is unique to all other clipping methods in that it has its own dedicated method <code>clip()</code> method and that its method name <code>clip</code> is reserved. While not always the best approach for all gamut mapping needs in general, clip is very important and its speed and simplicity are of great value.</p> <h3 id=minde-chroma-reduction><abbr title="minimum delta E">MINDE</abbr> Chroma Reduction<a class=headerlink href=#minde-chroma-reduction title="Permanent link"></a></h3> <p>Chroma reduction is an approach that reduces the chroma in a polar color space until the color is within the gamut of a targeted color space. Pure chroma reduction has the advantage of preserving as much lightness and hue as possible, and when performed within a perceptual space, it can preserve perceptual hue and lightness, but it comes at the cost of colorfulness/chroma. Pure chroma reduction may not always be desirable when gamut mapping images as some colorfulness will be lost.</p> <p><abbr title="minimum delta E">MINDE</abbr> is an approach that tries to find the in gamut color with the shortest distance to out of gamut color. This can be better at finding an in gamut color with closer colorfulness but often comes at the cost of larger hue shifts and variances in lightness.</p> <p>Combining both chroma reduction and something similar to <abbr title="minimum delta E">MINDE</abbr> can allow you to reduce the chroma of a color, but along the way, if there is a color near the chroma reduction path below the "just noticeable difference" (<abbr title="just noticeable difference">JND</abbr>) in color distance, it can be returned early.</p> <p>The way this works is as follows. A given out of gamut color will have its chroma reduced via bisection to bring the color into gamut. In addition, local clipping will be applied at each step and the distance between that clipped color and the chroma reduced color will be compared. If the distance between the clipped and chroma reduced color is close enough to the <abbr title="just noticeable difference">JND</abbr>, the clipped color will be returned.</p> <p>Visually, <abbr title="minimum delta E">MINDE</abbr> chroma reduction will allow a color that has decent constant lightness and will allow some hue shift as long as it is under what is noticeable by the eye. This doesn't mean no hue shift, and in certain regions, such as very dark colors or very light colors, hue shift can be greater because it is more difficult to notice in such lightness ranges. Every perceptual space is different and some do better than others and may allow for a larger or smaller <abbr title="just noticeable difference">JND</abbr> limits, so the <abbr title="just noticeable difference">JND</abbr> is relative to the color space and the E color distancing algorithm used.</p> <p>Preserving lightness in this way is useful when creating tones or mixing and interpolating colors. A constant lightness can also be useful when trying to control contrast.</p> <p>Computationally, chroma reduction is slower to compute than clipping. Chroma reduction by bisecting can have varying performance as it is unknown how many iterations will be required to reduce the color into the gamut. Additionally, by combining the reduction with <abbr title="minimum delta E">MINDE</abbr>, the algorithm takes additional performance hits has it must now perform costly color distancing checks. Using a perceptual space with more uniform color distancing can reducing the complexity required to determine the color distance and, in turn, can speed up the process.</p> <p>Lastly, all provided <abbr title="minimum delta E">MINDE</abbr> chroma reduction methods allow the controlling of the <abbr title="just noticeable difference">JND</abbr>. This is useful if you want to adjust how close to the gamut boundary you approach before clipping. A larger <abbr title="just noticeable difference">JND</abbr> may provide even more colorful colors while a lower <abbr title="just noticeable difference">JND</abbr> will provide more accurate colors (relative to the perceptual space). If desired, setting the <abbr title="just noticeable difference">JND</abbr> to 0 can improve performance by bypassing the <abbr title="minimum delta E">MINDE</abbr> logic altogether, but keep in mind that some perceptual spaces can have a geometry that can cause overly under-saturated colors just due to how the colors are distributed in the color space.</p> <p>Consider the color <span><span class="swatch out-of-gamut" title="color(display-p3 1 1 0)"><span class=swatch-color style="--swatch-stops: #fffd00,#fffd00;"></span></span><code class=highlight><span class=nf>color</span><span class=g>(</span><span class=kc>display-p3</span><span class=w> </span><span class=m>1</span><span class=w> </span><span class=m>1</span><span class=w> </span><span class=m>0</span><span class=g>)</span></code></span>. If we were to gamut map it in CIELCh with a very low <abbr title="just noticeable difference">JND</abbr>, we can see that the odd shape of CIELCh in the yellow region can cause us to get a very desaturated color. By using the default <abbr title="just noticeable difference">JND</abbr> of 2 for CIELCh, the <abbr title="minimum delta E">MINDE</abbr> logic will catch a more saturated yellow before it reduces chroma all the way to the gamut surface. Such geometric quirks aren't present in all color spaces, so in a space like OkLCh, it will have a less noticeable difference.</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1><abbr title="just noticeable difference">JND</abbr> 0</label><label for=__tabbed_1_2><abbr title="just noticeable difference">JND</abbr> 2</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><img alt="JND 0" src=../images/jnd-0.png></p> </div> <div class=tabbed-block> <p><img alt="JND 2" src=../images/jnd-2.png></p> </div> </div> </div> <p>As a final note, it should be noted that most color spaces that have a defined gamut are tied to specific RGB gamuts. And when they are gamut mapped, they are done so in those RGB spaces. For instance, HSL which represents the sRGB gamut in a cylindrical form will be gamut mapped in sRGB (though simple clipping may be done directly in HSL).</p> <p>There are a few color spaces/models that do not have a clearly defined gamuts. One such case is HPLuv, which is only defined as a cylindrical color space that represent only a subset of the sRGB color space. Additionally Okhsl and Okhsv are two cylindrical color spaces based on the perceptual Oklab color space that are meant to target the sRGB gamut, but are only a loose approximation which can actually slightly clip the sRGB gamut while simultaneously containing a few colors that exceed the sRGB gamut. ColorAide will not automatically associate these color spaces with an RGB gamut. In the case of HPLuv, there is no specifically defined RGB gamut, and in the case of Okhsl and Okhsv, sRGB is the closest, but does not precisely represent the colors in Okhsl and Okhsv.</p> <p>Gamut mapping in HPLuv usually provides fine results, but you may find that gamut mapping Okhsl may not provide the intended results. When gamut mapping such spaces, you may want to use the closest RGB gamut.</p> <div class=playground id=__playground_13> <div class=playground-results id=__playground-results_13> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(240.6 214.01 220.99) 0%,rgb(240.6 214.01 220.99) 1.0%,rgb(242.74 213.27 219.41) 1.0%,rgb(242.74 213.27 219.41) 2.0%,rgb(243.47 213.16 217.83) 2.0%,rgb(243.47 213.16 217.83) 3.0%,rgb(243.21 213.49 216.47) 3.0%,rgb(243.21 213.49 216.47) 4.0%,rgb(241.94 214.21 215.5) 4.0%,rgb(241.94 214.21 215.5) 5.0%,rgb(239.29 215.44 215.26) 5.0%,rgb(239.29 215.44 215.26) 6.0%,rgb(233.96 217.58 216.56) 6.0%,rgb(233.96 217.58 216.56) 7.0%,rgb(220.94 222.08 222.21) 7.0%,rgb(220.94 222.08 222.21) 8.0%,rgb(148.89 238.74 253.63) 8.0%,rgb(148.89 238.74 253.63) 9.0%,rgb(223.48 221.29 220.79) 9.0%,rgb(223.48 221.29 220.79) 10.0%,rgb(234.56 217.82 213.07) 10.0%,rgb(234.56 217.82 213.07) 11.0%,rgb(238.82 216.54 208.87) 11.0%,rgb(238.82 216.54 208.87) 12.0%,rgb(241.05 215.98 205.71) 12.0%,rgb(241.05 215.98 205.71) 13.0%,rgb(242.43 215.73 202.93) 13.0%,rgb(242.43 215.73 202.93) 14.0%,rgb(243.38 215.64 200.27) 14.0%,rgb(243.38 215.64 200.27) 15.0%,rgb(244.1 215.67 197.57) 15.0%,rgb(244.1 215.67 197.57) 16.0%,rgb(244.65 215.77 194.78) 16.0%,rgb(244.65 215.77 194.78) 17.0%,rgb(245.07 215.94 191.83) 17.0%,rgb(245.07 215.94 191.83) 18.0%,rgb(245.34 216.2 188.74) 18.0%,rgb(245.34 216.2 188.74) 19.0%,rgb(245.4 216.54 185.55) 19.0%,rgb(245.4 216.54 185.55) 20.0%,rgb(245.18 217.01 182.41) 20.0%,rgb(245.18 217.01 182.41) 21.0%,rgb(244.52 217.62 179.64) 21.0%,rgb(244.52 217.62 179.64) 22.0%,rgb(243.16 218.42 177.92) 22.0%,rgb(243.16 218.42 177.92) 23.0%,rgb(240.62 219.45 178.8) 23.0%,rgb(240.62 219.45 178.8) 24.0%,rgb(235.75 220.72 186.19) 24.0%,rgb(235.75 220.72 186.19) 25.0%,rgb(224.82 221.82 213.18) 25.0%,rgb(224.82 221.82 213.18) 26.0%,rgb(255 219.98 83.467) 26.0%,rgb(255 219.98 83.467) 27.0%,rgb(254.9 221.7 0) 27.0%,rgb(254.9 221.7 0) 28.0%,rgb(248.07 224.78 0) 28.0%,rgb(248.07 224.78 0) 29.0%,rgb(240.85 227.87 0) 29.0%,rgb(240.85 227.87 0) 30.0%,rgb(221.14 220.2 234.27) 30.0%,rgb(221.14 220.2 234.27) 31.0%,rgb(222.13 218.61 241.77) 31.0%,rgb(222.13 218.61 241.77) 32.0%,rgb(222.91 219.42 234.8) 32.0%,rgb(222.91 219.42 234.8) 33.0%,rgb(225.25 217.15 242.94) 33.0%,rgb(225.25 217.15 242.94) 34.0%,rgb(193.14 244.5 0.00004) 34.0%,rgb(193.14 244.5 0.00004) 35.0%,rgb(179.14 248.31 0.00001) 35.0%,rgb(179.14 248.31 0.00001) 36.0%,rgb(162.05 252.38 0) 36.0%,rgb(162.05 252.38 0) 37.0%,rgb(146.67 255 52.96) 37.0%,rgb(146.67 255 52.96) 38.0%,rgb(139.83 255 95.973) 38.0%,rgb(139.83 255 95.973) 39.0%,rgb(133.37 255 120.39) 39.0%,rgb(133.37 255 120.39) 40.0%,rgb(127.14 255 138.13) 40.0%,rgb(127.14 255 138.13) 41.0%,rgb(234.11 215.17 232.15) 41.0%,rgb(234.11 215.17 232.15) 42.0%,rgb(219.39 222.96 220.19) 42.0%,rgb(219.39 222.96 220.19) 43.0%,rgb(211.88 226.25 216.52) 43.0%,rgb(211.88 226.25 216.52) 44.0%,rgb(208.96 227.3 216.46) 44.0%,rgb(208.96 227.3 216.46) 45.0%,rgb(210.07 226.69 218.09) 45.0%,rgb(210.07 226.69 218.09) 46.0%,rgb(215.84 224.27 220.44) 46.0%,rgb(215.84 224.27 220.44) 47.0%,rgb(228.44 219 222.79) 47.0%,rgb(228.44 219 222.79) 48.0%,rgb(253.98 207.12 224.12) 48.0%,rgb(253.98 207.12 224.12) 49.0%,rgb(58.892 255 222.35) 49.0%,rgb(58.892 255 222.35) 50.0%,rgb(43.575 255 229.39) 50.0%,rgb(43.575 255 229.39) 51.0%,rgb(15.798 255 236.45) 51.0%,rgb(15.798 255 236.45) 52.0%,rgb(0 254.35 243.14) 52.0%,rgb(0 254.35 243.14) 53.0%,rgb(0 253.49 249.5) 53.0%,rgb(0 253.49 249.5) 54.0%,rgb(31.821 252.05 255) 54.0%,rgb(31.821 252.05 255) 55.0%,rgb(96.697 247.2 255) 55.0%,rgb(96.697 247.2 255) 56.0%,rgb(122.5 243.53 255) 56.0%,rgb(122.5 243.53 255) 57.0%,rgb(233.06 218.06 215.92) 57.0%,rgb(233.06 218.06 215.92) 58.0%,rgb(201.33 227.61 232.81) 58.0%,rgb(201.33 227.61 232.81) 59.0%,rgb(192.41 229.59 238.88) 59.0%,rgb(192.41 229.59 238.88) 60.0%,rgb(190.31 229.79 241.81) 60.0%,rgb(190.31 229.79 241.81) 61.0%,rgb(190.93 229.37 243.31) 61.0%,rgb(190.93 229.37 243.31) 62.0%,rgb(192.74 228.7 243.99) 62.0%,rgb(192.74 228.7 243.99) 63.0%,rgb(195.07 227.94 244.15) 63.0%,rgb(195.07 227.94 244.15) 64.0%,rgb(197.59 227.15 243.93) 64.0%,rgb(197.59 227.15 243.93) 65.0%,rgb(200.15 226.38 243.44) 65.0%,rgb(200.15 226.38 243.44) 66.0%,rgb(202.66 225.65 242.72) 66.0%,rgb(202.66 225.65 242.72) 67.0%,rgb(205.12 224.95 241.76) 67.0%,rgb(205.12 224.95 241.76) 68.0%,rgb(207.53 224.3 240.53) 68.0%,rgb(207.53 224.3 240.53) 69.0%,rgb(210 223.68 238.86) 69.0%,rgb(210 223.68 238.86) 70.0%,rgb(212.78 223.07 236.25) 70.0%,rgb(212.78 223.07 236.25) 71.0%,rgb(216.71 222.42 230.93) 71.0%,rgb(216.71 222.42 230.93) 72.0%,rgb(228.32 221.06 208.34) 72.0%,rgb(228.32 221.06 208.34) 73.0%,rgb(206.78 222.18 255) 73.0%,rgb(206.78 222.18 255) 74.0%,rgb(208.82 221.45 255) 74.0%,rgb(208.82 221.45 255) 75.0%,rgb(241.02 221.32 158.5) 75.0%,rgb(241.02 221.32 158.5) 76.0%,rgb(221.74 221.79 222.05) 76.0%,rgb(221.74 221.79 222.05) 77.0%,rgb(219.19 220.95 234.32) 77.0%,rgb(219.19 220.95 234.32) 78.0%,rgb(219.21 220.15 239.36) 78.0%,rgb(219.21 220.15 239.36) 79.0%,rgb(220.12 219.39 241.85) 79.0%,rgb(220.12 219.39 241.85) 80.0%,rgb(221.43 218.69 242.99) 80.0%,rgb(221.43 218.69 242.99) 81.0%,rgb(222.9 218.08 243.11) 81.0%,rgb(222.9 218.08 243.11) 82.0%,rgb(224.34 217.66 242.15) 82.0%,rgb(224.34 217.66 242.15) 83.0%,rgb(225.4 217.64 239.59) 83.0%,rgb(225.4 217.64 239.59) 84.0%,rgb(225.14 218.72 233.5) 84.0%,rgb(225.14 218.72 233.5) 85.0%,rgb(218.36 224.4 212.56) 85.0%,rgb(218.36 224.4 212.56) 86.0%,rgb(237.86 209.55 255) 86.0%,rgb(237.86 209.55 255) 87.0%,rgb(241.62 207.8 255) 87.0%,rgb(241.62 207.8 255) 88.0%,rgb(245.88 205.74 255) 88.0%,rgb(245.88 205.74 255) 89.0%,rgb(250.81 203.27 255) 89.0%,rgb(250.81 203.27 255) 90.0%,rgb(255 201.41 253.37) 90.0%,rgb(255 201.41 253.37) 91.0%,rgb(255 202.48 247.79) 91.0%,rgb(255 202.48 247.79) 92.0%,rgb(255 203.37 242.98) 92.0%,rgb(255 203.37 242.98) 93.0%,rgb(255 204.13 238.75) 93.0%,rgb(255 204.13 238.75) 94.0%,rgb(255 204.79 234.98) 94.0%,rgb(255 204.79 234.98) 95.0%,rgb(255 205.37 231.57) 95.0%,rgb(255 205.37 231.57) 96.0%,rgb(207.78 227.34 219.25) 96.0%,rgb(207.78 227.34 219.25) 97.0%,rgb(219.86 222.58 221.6) 97.0%,rgb(219.86 222.58 221.6) 98.0%,rgb(235.56 216.06 222.23) 98.0%,rgb(235.56 216.06 222.23) 99.0%,rgb(240.6 214.01 220.99) 99.0%,rgb(240.6 214.01 220.99) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(255 200.22 219.68) 0%,rgb(255 200.22 219.68) 1.0%,rgb(255 200.78 216.19) 1.0%,rgb(255 200.78 216.19) 2.0%,rgb(255 201.32 212.83) 2.0%,rgb(255 201.32 212.83) 3.0%,rgb(255 201.81 209.56) 3.0%,rgb(255 201.81 209.56) 4.0%,rgb(255 202.29 206.37) 4.0%,rgb(255 202.29 206.37) 5.0%,rgb(255 202.73 203.19) 5.0%,rgb(255 202.73 203.19) 6.0%,rgb(255 203.19 200.05) 6.0%,rgb(255 203.19 200.05) 7.0%,rgb(255 203.61 196.86) 7.0%,rgb(255 203.61 196.86) 8.0%,rgb(255 204.06 193.67) 8.0%,rgb(255 204.06 193.67) 9.0%,rgb(255 204.48 190.38) 9.0%,rgb(255 204.48 190.38) 10.0%,rgb(255 204.93 187.04) 10.0%,rgb(255 204.93 187.04) 11.0%,rgb(255 205.38 183.55) 11.0%,rgb(255 205.38 183.55) 12.0%,rgb(255 205.82 179.87) 12.0%,rgb(255 205.82 179.87) 13.0%,rgb(255 206.28 175.98) 13.0%,rgb(255 206.28 175.98) 14.0%,rgb(255 206.74 171.78) 14.0%,rgb(255 206.74 171.78) 15.0%,rgb(255 207.25 167.32) 15.0%,rgb(255 207.25 167.32) 16.0%,rgb(255 207.77 162.36) 16.0%,rgb(255 207.77 162.36) 17.0%,rgb(255 208.32 156.85) 17.0%,rgb(255 208.32 156.85) 18.0%,rgb(255 208.91 150.67) 18.0%,rgb(255 208.91 150.67) 19.0%,rgb(255 209.56 143.57) 19.0%,rgb(255 209.56 143.57) 20.0%,rgb(255 210.27 135.19) 20.0%,rgb(255 210.27 135.19) 21.0%,rgb(255 211.06 125.13) 21.0%,rgb(255 211.06 125.13) 22.0%,rgb(255 211.92 112.29) 22.0%,rgb(255 211.92 112.29) 23.0%,rgb(255 212.91 95.177) 23.0%,rgb(255 212.91 95.177) 24.0%,rgb(255 214.03 68.847) 24.0%,rgb(255 214.03 68.847) 25.0%,rgb(255 215.25 0) 25.0%,rgb(255 215.25 0) 26.0%,rgb(255 217.73 0) 26.0%,rgb(255 217.73 0) 27.0%,rgb(255 221 0) 27.0%,rgb(255 221 0) 28.0%,rgb(250.98 224.44 0) 28.0%,rgb(250.98 224.44 0) 29.0%,rgb(243.09 227.87 0) 29.0%,rgb(243.09 227.87 0) 30.0%,rgb(234.63 231.32 0) 30.0%,rgb(234.63 231.32 0) 31.0%,rgb(225.4 234.84 0) 31.0%,rgb(225.4 234.84 0) 32.0%,rgb(215.2 238.45 0) 32.0%,rgb(215.2 238.45 0) 33.0%,rgb(203.7 242.2 0) 33.0%,rgb(203.7 242.2 0) 34.0%,rgb(190.43 246.12 0) 34.0%,rgb(190.43 246.12 0) 35.0%,rgb(174.66 250.27 0) 35.0%,rgb(174.66 250.27 0) 36.0%,rgb(155.08 254.69 0) 36.0%,rgb(155.08 254.69 0) 37.0%,rgb(131.8 255 0) 37.0%,rgb(131.8 255 0) 38.0%,rgb(105.52 255 0) 38.0%,rgb(105.52 255 0) 39.0%,rgb(93.012 255 76.07) 39.0%,rgb(93.012 255 76.07) 40.0%,rgb(81.492 255 108.22) 40.0%,rgb(81.492 255 108.22) 41.0%,rgb(68.994 255 130.11) 41.0%,rgb(68.994 255 130.11) 42.0%,rgb(53.715 255 147.08) 42.0%,rgb(53.715 255 147.08) 43.0%,rgb(31.8 255 161.23) 43.0%,rgb(31.8 255 161.23) 44.0%,rgb(0 255 173.37) 44.0%,rgb(0 255 173.37) 45.0%,rgb(0 255 184.55) 45.0%,rgb(0 255 184.55) 46.0%,rgb(0 255 195.03) 46.0%,rgb(0 255 195.03) 47.0%,rgb(0 255 204.77) 47.0%,rgb(0 255 204.77) 48.0%,rgb(0 255 213.87) 48.0%,rgb(0 255 213.87) 49.0%,rgb(0 255 222.45) 49.0%,rgb(0 255 222.45) 50.0%,rgb(0 255 230.57) 50.0%,rgb(0 255 230.57) 51.0%,rgb(0 255 238.34) 51.0%,rgb(0 255 238.34) 52.0%,rgb(0 255 245.79) 52.0%,rgb(0 255 245.79) 53.0%,rgb(0 255 252.99) 53.0%,rgb(0 255 252.99) 54.0%,rgb(0 255 255) 54.0%,rgb(0 255 255) 55.0%,rgb(0 254.22 255) 55.0%,rgb(0 254.22 255) 56.0%,rgb(0 251.48 255) 56.0%,rgb(0 251.48 255) 57.0%,rgb(73.055 247.5 255) 57.0%,rgb(73.055 247.5 255) 58.0%,rgb(102.28 244.33 255) 58.0%,rgb(102.28 244.33 255) 59.0%,rgb(120.37 241.66 255) 59.0%,rgb(120.37 241.66 255) 60.0%,rgb(133.61 239.35 255) 60.0%,rgb(133.61 239.35 255) 61.0%,rgb(143.74 237.34 255) 61.0%,rgb(143.74 237.34 255) 62.0%,rgb(152.04 235.54 255) 62.0%,rgb(152.04 235.54 255) 63.0%,rgb(159.04 233.91 255) 63.0%,rgb(159.04 233.91 255) 64.0%,rgb(165.08 232.42 255) 64.0%,rgb(165.08 232.42 255) 65.0%,rgb(170.39 231.04 255) 65.0%,rgb(170.39 231.04 255) 66.0%,rgb(175.12 229.75 255) 66.0%,rgb(175.12 229.75 255) 67.0%,rgb(179.43 228.53 255) 67.0%,rgb(179.43 228.53 255) 68.0%,rgb(183.41 227.37 255) 68.0%,rgb(183.41 227.37 255) 69.0%,rgb(187.05 226.25 255) 69.0%,rgb(187.05 226.25 255) 70.0%,rgb(190.57 225.16 255) 70.0%,rgb(190.57 225.16 255) 71.0%,rgb(193.87 224.1 255) 71.0%,rgb(193.87 224.1 255) 72.0%,rgb(197.05 223.04 255) 72.0%,rgb(197.05 223.04 255) 73.0%,rgb(200.14 222 255) 73.0%,rgb(200.14 222 255) 74.0%,rgb(203.15 220.95 255) 74.0%,rgb(203.15 220.95 255) 75.0%,rgb(206.12 219.88 255) 75.0%,rgb(206.12 219.88 255) 76.0%,rgb(209.1 218.8 255) 76.0%,rgb(209.1 218.8 255) 77.0%,rgb(212.08 217.68 255) 77.0%,rgb(212.08 217.68 255) 78.0%,rgb(215.1 216.52 255) 78.0%,rgb(215.1 216.52 255) 79.0%,rgb(218.18 215.31 255) 79.0%,rgb(218.18 215.31 255) 80.0%,rgb(221.36 214.02 255) 80.0%,rgb(221.36 214.02 255) 81.0%,rgb(224.67 212.65 255) 81.0%,rgb(224.67 212.65 255) 82.0%,rgb(228.14 211.17 255) 82.0%,rgb(228.14 211.17 255) 83.0%,rgb(231.82 209.55 255) 83.0%,rgb(231.82 209.55 255) 84.0%,rgb(235.77 207.76 255) 84.0%,rgb(235.77 207.76 255) 85.0%,rgb(240.03 205.77 255) 85.0%,rgb(240.03 205.77 255) 86.0%,rgb(244.74 203.48 255) 86.0%,rgb(244.74 203.48 255) 87.0%,rgb(249.97 200.83 255) 87.0%,rgb(249.97 200.83 255) 88.0%,rgb(255 197.73 255) 88.0%,rgb(255 197.73 255) 89.0%,rgb(255 195.18 255) 89.0%,rgb(255 195.18 255) 90.0%,rgb(255 193.66 255) 90.0%,rgb(255 193.66 255) 91.0%,rgb(255 193.37 255) 91.0%,rgb(255 193.37 255) 92.0%,rgb(255 194.42 251.87) 92.0%,rgb(255 194.42 251.87) 93.0%,rgb(255 195.59 245.92) 93.0%,rgb(255 195.59 245.92) 94.0%,rgb(255 196.59 240.59) 94.0%,rgb(255 196.59 240.59) 95.0%,rgb(255 197.5 235.74) 95.0%,rgb(255 197.5 235.74) 96.0%,rgb(255 198.28 231.3) 96.0%,rgb(255 198.28 231.3) 97.0%,rgb(255 199 227.19) 97.0%,rgb(255 199 227.19) 98.0%,rgb(255 199.62 223.33) 98.0%,rgb(255 199.62 223.33) 99.0%,rgb(255 200.22 219.68) 99.0%,rgb(255 200.22 219.68) 100.0%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;okhsl&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;oklch-chroma&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;oklch(90% 0.4 0)&#39;</span><span class=p>,</span> <span class=s1>&#39;oklch(90% 0.4 360)&#39;</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;longer&#39;</span><span class=p>)])</span>
<span class=go>[color(--oklch 0.9 0.03085 0 / 1), color(--oklch 0.9 0.03372 3.6364 / 1), color(--oklch 0.9 0.03428 7.2727 / 1), color(--oklch 0.9 0.03333 10.909 / 1), color(--oklch 0.9 0.03093 14.545 / 1), color(--oklch 0.9 0.02652 18.182 / 1), color(--oklch 0.9 0.01818 21.818 / 1), color(--oklch 0.9 0.00125 205.45 / 1), color(--oklch 0.9 0.08837 209.09 / 1), color(--oklch 0.9 0.00249 32.727 / 1), color(--oklch 0.9 0.01967 36.364 / 1), color(--oklch 0.9 0.02693 40 / 1), color(--oklch 0.9 0.03129 43.636 / 1), color(--oklch 0.9 0.03452 47.273 / 1), color(--oklch 0.9 0.03733 50.909 / 1), color(--oklch 0.9 0.04004 54.545 / 1), color(--oklch 0.9 0.04282 58.182 / 1), color(--oklch 0.9 0.04576 61.818 / 1), color(--oklch 0.9 0.04888 65.455 / 1), color(--oklch 0.9 0.05211 69.091 / 1), color(--oklch 0.9 0.05531 72.727 / 1), color(--oklch 0.9 0.0581 76.364 / 1), color(--oklch 0.9 0.05966 80 / 1), color(--oklch 0.9 0.05812 83.636 / 1), color(--oklch 0.9 0.04843 87.273 / 1), color(--oklch 0.9 0.01209 90.909 / 1), color(--oklch 0.9 0.15515 94.545 / 1), color(--oklch 0.9 0.1861 98.182 / 1), color(--oklch 0.9 0.18832 101.82 / 1), color(--oklch 0.9 0.19138 105.45 / 1), color(--oklch 0.9 0.01909 289.09 / 1), color(--oklch 0.9 0.03162 292.73 / 1), color(--oklch 0.9 0.02113 296.36 / 1), color(--oklch 0.9 0.03591 300 / 1), color(--oklch 0.9 0.22247 123.64 / 1), color(--oklch 0.9 0.23299 127.27 / 1), color(--oklch 0.9 0.2456 130.91 / 1), color(--oklch 0.9 0.24384 134.55 / 1), color(--oklch 0.9 0.22238 138.18 / 1), color(--oklch 0.9 0.20619 141.82 / 1), color(--oklch 0.9 0.19362 145.45 / 1), color(--oklch 0.9 0.03067 329.09 / 1), color(--oklch 0.9 0.00536 152.73 / 1), color(--oklch 0.9 0.0202 156.36 / 1), color(--oklch 0.9 0.02441 160 / 1), color(--oklch 0.9 0.02118 163.64 / 1), color(--oklch 0.9 0.01041 167.27 / 1), color(--oklch 0.9 0.01147 350.91 / 1), color(--oklch 0.9 0.05689 354.55 / 1), color(--oklch 0.9 0.15497 178.18 / 1), color(--oklch 0.9 0.1556 181.82 / 1), color(--oklch 0.9 0.15708 185.45 / 1), color(--oklch 0.9 0.15589 189.09 / 1), color(--oklch 0.9 0.15425 192.73 / 1), color(--oklch 0.9 0.15008 196.36 / 1), color(--oklch 0.9 0.12658 200 / 1), color(--oklch 0.9 0.10983 203.64 / 1), color(--oklch 0.9 0.01686 27.273 / 1), color(--oklch 0.9 0.0287 210.91 / 1), color(--oklch 0.9 0.04084 214.55 / 1), color(--oklch 0.9 0.04427 218.18 / 1), color(--oklch 0.9 0.04441 221.82 / 1), color(--oklch 0.9 0.0431 225.45 / 1), color(--oklch 0.9 0.04112 229.09 / 1), color(--oklch 0.9 0.03883 232.73 / 1), color(--oklch 0.9 0.03641 236.36 / 1), color(--oklch 0.9 0.03393 240 / 1), color(--oklch 0.9 0.03138 243.64 / 1), color(--oklch 0.9 0.02866 247.27 / 1), color(--oklch 0.9 0.02552 250.91 / 1), color(--oklch 0.9 0.0212 254.55 / 1), color(--oklch 0.9 0.01317 258.18 / 1), color(--oklch 0.9 0.01887 81.818 / 1), color(--oklch 0.9 0.04813 265.45 / 1), color(--oklch 0.9 0.04811 269.09 / 1), color(--oklch 0.9 0.0831 92.727 / 1), color(--oklch 0.9 0.00036 276.36 / 1), color(--oklch 0.9 0.01827 280 / 1), color(--oklch 0.9 0.02615 283.64 / 1), color(--oklch 0.9 0.03053 287.27 / 1), color(--oklch 0.9 0.0331 290.91 / 1), color(--oklch 0.9 0.03429 294.55 / 1), color(--oklch 0.9 0.03388 298.18 / 1), color(--oklch 0.9 0.03076 301.82 / 1), color(--oklch 0.9 0.02106 305.45 / 1), color(--oklch 0.9 0.01717 129.09 / 1), color(--oklch 0.9 0.06811 312.73 / 1), color(--oklch 0.9 0.07289 316.36 / 1), color(--oklch 0.9 0.07874 320 / 1), color(--oklch 0.9 0.08599 323.64 / 1), color(--oklch 0.9 0.09033 327.27 / 1), color(--oklch 0.9 0.08316 330.91 / 1), color(--oklch 0.9 0.07729 334.55 / 1), color(--oklch 0.9 0.07245 338.18 / 1), color(--oklch 0.9 0.06842 341.82 / 1), color(--oklch 0.9 0.06506 345.45 / 1), color(--oklch 0.9 0.0235 169.09 / 1), color(--oklch 0.9 0.00322 172.73 / 1), color(--oklch 0.9 0.02296 356.36 / 1), color(--oklch 0.9 0.03085 0 / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;oklch-chroma&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;oklch(90% 0.4 0)&#39;</span><span class=p>,</span> <span class=s1>&#39;oklch(90% 0.4 360)&#39;</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;longer&#39;</span><span class=p>)])</span>
<span class=go>[color(--oklch 0.88717 0.06673 355.33 / 1), color(--oklch 0.88718 0.06441 359.67 / 1), color(--oklch 0.88719 0.06255 4.0928 / 1), color(--oklch 0.88718 0.06113 8.5912 / 1), color(--oklch 0.88719 0.06011 13.152 / 1), color(--oklch 0.88715 0.05951 17.75 / 1), color(--oklch 0.88717 0.05925 22.369 / 1), color(--oklch 0.88713 0.05941 26.987 / 1), color(--oklch 0.88715 0.05991 31.574 / 1), color(--oklch 0.88713 0.06083 36.121 / 1), color(--oklch 0.88716 0.0621 40.588 / 1), color(--oklch 0.88717 0.06379 44.978 / 1), color(--oklch 0.88716 0.06593 49.278 / 1), color(--oklch 0.88715 0.06854 53.473 / 1), color(--oklch 0.88712 0.07167 57.565 / 1), color(--oklch 0.88715 0.07531 61.519 / 1), color(--oklch 0.88713 0.07964 65.378 / 1), color(--oklch 0.88712 0.08471 69.122 / 1), color(--oklch 0.88712 0.09063 72.748 / 1), color(--oklch 0.88713 0.09758 76.267 / 1), color(--oklch 0.88713 0.10584 79.694 / 1), color(--oklch 0.88717 0.11564 83.019 / 1), color(--oklch 0.88715 0.12763 86.283 / 1), color(--oklch 0.88719 0.14226 89.462 / 1), color(--oklch 0.88719 0.16071 92.59 / 1), color(--oklch 0.88726 0.18232 95.438 / 1), color(--oklch 0.89218 0.18372 96.494 / 1), color(--oklch 0.8987 0.18567 97.858 / 1), color(--oklch 0.90192 0.18793 100.67 / 1), color(--oklch 0.90192 0.19107 104.69 / 1), color(--oklch 0.90193 0.19529 108.7 / 1), color(--oklch 0.90192 0.20068 112.7 / 1), color(--oklch 0.90192 0.20737 116.68 / 1), color(--oklch 0.90193 0.21554 120.62 / 1), color(--oklch 0.90194 0.22539 124.54 / 1), color(--oklch 0.90194 0.23722 128.42 / 1), color(--oklch 0.90194 0.25142 132.26 / 1), color(--oklch 0.89219 0.26266 135.44 / 1), color(--oklch 0.88263 0.27371 138.18 / 1), color(--oklch 0.88175 0.25494 141.76 / 1), color(--oklch 0.88189 0.23689 145.66 / 1), color(--oklch 0.88209 0.22286 149.58 / 1), color(--oklch 0.88221 0.21214 153.5 / 1), color(--oklch 0.88229 0.20391 157.42 / 1), color(--oklch 0.88313 0.19644 161.07 / 1), color(--oklch 0.88558 0.18764 164.42 / 1), color(--oklch 0.88805 0.17994 167.95 / 1), color(--oklch 0.8905 0.17342 171.57 / 1), color(--oklch 0.89291 0.168 175.25 / 1), color(--oklch 0.8953 0.1636 178.96 / 1), color(--oklch 0.89767 0.16015 182.69 / 1), color(--oklch 0.90003 0.15756 186.42 / 1), color(--oklch 0.90238 0.15577 190.11 / 1), color(--oklch 0.90473 0.15472 193.75 / 1), color(--oklch 0.9054 0.15455 194.77 / 1), color(--oklch 0.90357 0.15414 195.17 / 1), color(--oklch 0.89711 0.15276 196.59 / 1), color(--oklch 0.89505 0.13708 199.31 / 1), color(--oklch 0.89504 0.12221 202.11 / 1), color(--oklch 0.89502 0.11028 204.96 / 1), color(--oklch 0.89502 0.10034 207.93 / 1), color(--oklch 0.895 0.09216 210.95 / 1), color(--oklch 0.89499 0.08517 214.1 / 1), color(--oklch 0.89499 0.07918 217.37 / 1), color(--oklch 0.89499 0.07401 220.78 / 1), color(--oklch 0.89499 0.06955 224.33 / 1), color(--oklch 0.89499 0.06569 228.03 / 1), color(--oklch 0.89498 0.06237 231.88 / 1), color(--oklch 0.89499 0.05949 235.92 / 1), color(--oklch 0.89497 0.05709 240.08 / 1), color(--oklch 0.89498 0.05504 244.48 / 1), color(--oklch 0.89498 0.05341 249.01 / 1), color(--oklch 0.89497 0.05215 253.7 / 1), color(--oklch 0.89497 0.05126 258.51 / 1), color(--oklch 0.89496 0.05075 263.44 / 1), color(--oklch 0.89495 0.05063 268.45 / 1), color(--oklch 0.89496 0.05088 273.51 / 1), color(--oklch 0.89495 0.05156 278.57 / 1), color(--oklch 0.89494 0.05266 283.61 / 1), color(--oklch 0.89494 0.0542 288.57 / 1), color(--oklch 0.89494 0.05623 293.44 / 1), color(--oklch 0.89493 0.0588 298.19 / 1), color(--oklch 0.89493 0.06192 302.78 / 1), color(--oklch 0.89492 0.0657 307.21 / 1), color(--oklch 0.89491 0.07022 311.49 / 1), color(--oklch 0.89492 0.07558 315.56 / 1), color(--oklch 0.8949 0.08201 319.49 / 1), color(--oklch 0.8949 0.0897 323.25 / 1), color(--oklch 0.89413 0.09833 326.36 / 1), color(--oklch 0.88972 0.10274 326.4 / 1), color(--oklch 0.88709 0.10539 326.42 / 1), color(--oklch 0.8866 0.10588 326.42 / 1), color(--oklch 0.8873 0.10102 328.09 / 1), color(--oklch 0.88727 0.09341 331.65 / 1), color(--oklch 0.88723 0.087 335.3 / 1), color(--oklch 0.88726 0.08147 339.1 / 1), color(--oklch 0.88723 0.07682 342.98 / 1), color(--oklch 0.88724 0.07284 347 / 1), color(--oklch 0.88718 0.06954 351.1 / 1), color(--oklch 0.88717 0.06673 355.33 / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_13 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_13 spellcheck=false>Steps([c.fit('okhsl', method='oklch-chroma') for c in Color.steps(['oklch(90% 0.4 0)', 'oklch(90% 0.4 360)'], steps=100, space='oklch', hue='longer')])
Steps([c.fit('srgb', method='oklch-chroma') for c in Color.steps(['oklch(90% 0.4 0)', 'oklch(90% 0.4 360)'], steps=100, space='oklch', hue='longer')])</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_13 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_13 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_13 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_13 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <h4 id=lch-chroma>LCh Chroma<a class=headerlink href=#lch-chroma title="Permanent link"></a></h4> <div class="admonition success"> <p class=admonition-title>The <code>lch-chroma</code> gamut mapping is registered in <code>Color</code> by default</p> </div> <p>LCh Chroma applies <abbr title="minimum delta E">MINDE</abbr> Chroma Reduction within the CIELCh color space and is currently the default approach in ColorAide.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>As most colors in ColorAide use a D65 white point by default, LCh D65 is used as the gamut mapping color space.</p> </div> <p>CIELCh, is not necessarily the best perceptual color space available, but it is a generally well understood color space that has been available a long time. It does suffer from a purple shift when dealing with blue colors, but can generally handle colors in very wide gamuts reasonably due to its fairly consistent shape well past the spectral locus.</p> <p>CSS originally proposed <abbr title="minimum delta E">MINDE</abbr> Chroma Reduction with CIELCh, but has later changed to OkLCh. It is possible that the entire choice in algorithms could change as well in the future. We do offer an <a href=#oklch-chroma>OkLCh variant</a>, but we currently still use CIELCh due to its consistency even with colors far outside the gamut. If you are working within reasonable gamuts, OkLCh may be a better choice.</p> <p>LCh Chroma is the default gamut mapping algorithm unless otherwise changed, and can be performed by simply calling <code>fit()</code> or by calling <code>fit(method='lch-chroma')</code>.</p> <div class=playground id=__playground_14> <div class=playground-results id=__playground-results_14> <div class=color-command><div class=swatch-bar><span class=swatch title="rgb(255 101.13 98.204)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 101.13 98.204) 50%, rgb(255 101.13 98.204) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>c</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=n>method</span><span class=o>=</span><span class=s1>&#39;lch-chroma&#39;</span><span class=p>)</span>
<span class=go>color(srgb 1 0.39658 0.38511 / 1)</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_14 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_14 spellcheck=false>c = Color('srgb', [2, -1, 0])
c.fit(method='lch-chroma')</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_14 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_14 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_14 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_14 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>Additionally, the <abbr title="just noticeable difference">JND</abbr> target can be controlled for tighter or looser gamut mapping via the <code>jnd</code> option. The default is <code>2</code>.</p> <div class=playground id=__playground_15> <div class=playground-results id=__playground-results_15> <div class=color-command><div class=swatch-bar><span class=swatch title="rgb(255 110.72 105.02)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 110.72 105.02) 50%, rgb(255 110.72 105.02) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>c</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=n>method</span><span class=o>=</span><span class=s1>&#39;lch-chroma&#39;</span><span class=p>,</span> <span class=n>jnd</span><span class=o>=</span><span class=mf>0.2</span><span class=p>)</span>
<span class=go>color(srgb 1 0.4342 0.41183 / 1)</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_15 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_15 spellcheck=false>c = Color('srgb', [2, -1, 0])
c.fit(method='lch-chroma', jnd=0.2)</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_15 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_15 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_15 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_15 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <h4 id=oklch-chroma>OkLCh Chroma<a class=headerlink href=#oklch-chroma title="Permanent link"></a></h4> <div class="admonition success"> <p class=admonition-title>The <code>lch-chroma</code> gamut mapping is registered in <code>Color</code> by default</p> </div> <p>The <a href=https://drafts.csswg.org/css-color/#binsearch>CSS Color Level 4 specification</a> currently recommends using the perceptually uniform OkLCh color space with the <abbr title="minimum delta E">MINDE</abbr> Chroma Reduction approach.</p> <p>OkLCh does a much better job holding hues constant. When combined with gamut mapping, it generally does a better job than CIELCh, but it does have limitations. When colors get near the edge of the visible spectrum, the shape of the color space distorts, and gamut mapping will not be as good. But if you are working within reasonable gamuts, it may be an excellent option.</p> <div class=playground id=__playground_16> <div class=playground-results id=__playground-results_16> <div class=color-command><div class=swatch-bar><span class=swatch title="rgb(255 153.9 169.87)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 153.9 169.87) 50%, rgb(255 153.9 169.87) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>c</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=n>method</span><span class=o>=</span><span class=s1>&#39;oklch-chroma&#39;</span><span class=p>)</span>
<span class=go>color(srgb 1 0.60354 0.66617 / 1)</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_16 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_16 spellcheck=false>c = Color('srgb', [2, -1, 0])
c.fit(method='oklch-chroma')</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_16 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_16 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_16 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_16 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>Additionally, the <abbr title="just noticeable difference">JND</abbr> target can be controlled for tighter or looser gamut mapping via the <code>jnd</code> option. The default is <code>0.02</code>.</p> <div class=playground id=__playground_17> <div class=playground-results id=__playground-results_17> <div class=color-command><div class=swatch-bar><span class=swatch title="rgb(255 161.21 173.52)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 161.21 173.52) 50%, rgb(255 161.21 173.52) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>c</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=n>method</span><span class=o>=</span><span class=s1>&#39;oklch-chroma&#39;</span><span class=p>,</span> <span class=n>jnd</span><span class=o>=</span><span class=mf>0.002</span><span class=p>)</span>
<span class=go>color(srgb 1 0.63219 0.68048 / 1)</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_17 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_17 spellcheck=false>c = Color('srgb', [2, -1, 0])
c.fit(method='oklch-chroma', jnd=0.002)</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_17 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_17 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_17 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_17 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <h4 id=hct-chroma>HCT Chroma<a class=headerlink href=#hct-chroma title="Permanent link"></a></h4> <div class="admonition failure"> <p class=admonition-title>The <code>hct-chroma</code> gamut mapping is <strong>not</strong> registered in <code>Color</code> by default</p> </div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>This approach was specifically added to help produce tonal palettes, but with the recent addition of the <a href=#gamut-mapping-in-any-perceptual-space>ray trace approach to chroma reduction in any perceptual space</a>, it is recommended that users apply that approach as it performs a tight chroma reduction much quicker, and it doesn't require a special E method.</p> <p>On occasions, <abbr title="minimum delta E">MINDE</abbr> approach can be slightly more accurate very close to white due to the way ray trace handles HCT's atypical achromatic response, but differences should be imperceptible to the eye at such lightness levels making the improved performance of the ray trace approach much more desirable.</p> <div class=playground id=__playground_18> <div class=playground-results id=__playground-results_18> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(0 0 0) 0%,rgb(0 0 0) 8.333333333333334%,rgb(41 19 46) 8.333333333333334%,rgb(41 19 46) 16.666666666666668%,rgb(63 40 68) 16.666666666666668%,rgb(63 40 68) 25.0%,rgb(87 62 91) 25.0%,rgb(87 62 91) 33.333333333333336%,rgb(112 85 116) 33.333333333333336%,rgb(112 85 116) 41.66666666666667%,rgb(138 109 141) 41.66666666666667%,rgb(138 109 141) 50.00000000000001%,rgb(165 135 168) 50.00000000000001%,rgb(165 135 168) 58.33333333333334%,rgb(193 161 195) 58.33333333333334%,rgb(193 161 195) 66.66666666666667%,rgb(222 188 223) 66.66666666666667%,rgb(222 188 223) 75.0%,rgb(251 215 252) 75.0%,rgb(251 215 252) 83.33333333333333%,rgb(255 235 253) 83.33333333333333%,rgb(255 235 253) 91.66666666666666%,rgb(255 255 255) 91.66666666666666%,rgb(255 255 255) 99.99999999999999%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>c</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;hct&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>325</span><span class=p>,</span> <span class=mi>24</span><span class=p>,</span> <span class=mi>50</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>tones</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>40</span><span class=p>,</span> <span class=mi>50</span><span class=p>,</span> <span class=mi>60</span><span class=p>,</span> <span class=mi>70</span><span class=p>,</span> <span class=mi>80</span><span class=p>,</span> <span class=mi>90</span><span class=p>,</span> <span class=mi>95</span><span class=p>,</span> <span class=mi>100</span><span class=p>]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>clone</span><span class=p>()</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s1>&#39;tone&#39;</span><span class=p>,</span> <span class=n>tone</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>to_string</span><span class=p>(</span><span class=nb>hex</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>fit</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;method&#39;</span><span class=p>:</span> <span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=s1>&#39;pspace&#39;</span><span class=p>:</span> <span class=s1>&#39;hct&#39;</span><span class=p>})</span> <span class=k>for</span> <span class=n>tone</span> <span class=ow>in</span> <span class=n>tones</span><span class=p>])</span>
<span class=go>[&#39;#000000&#39;, &#39;#29132e&#39;, &#39;#3f2844&#39;, &#39;#573e5b&#39;, &#39;#705574&#39;, &#39;#8a6d8d&#39;, &#39;#a587a8&#39;, &#39;#c1a1c3&#39;, &#39;#debcdf&#39;, &#39;#fbd7fc&#39;, &#39;#ffebfd&#39;, &#39;#ffffff&#39;]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_18 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_18 spellcheck=false>c = Color('hct', [325, 24, 50])
tones = [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 100]
Steps([c.clone().set('tone', tone).convert('srgb').to_string(hex=True, fit={'method': 'raytrace', 'pspace': 'hct'}) for tone in tones])</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_18 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_18 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_18 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_18 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>If more accuracy in HCT's atypical achromatic region is desired, the <abbr title="minimum delta E">MINDE</abbr> approach is available.</p> </div> <p>Much like the other LCh chroma reduction algorithms, HCT Chroma performs gamut mapping exactly like <a href=#lch-chroma>LCh Chroma</a> with the exception that it uses the HCT color space as the working LCh color space.</p> <p>Google's Material Design uses a new color space called <a href=../colors/hct/ >HCT</a>. It uses the hue and chroma from <a href=../colors/cam16/ >CAM16</a> space and the tone/lightness from the <a href=../colors/lab_d65/ >CIELab</a> space. HCT takes advantage of the good hue preservation of CAM16 and has the better lightness predictability of CIELab. Using these characteristics, the color space is adept at generating tonal palettes with predictable lightness. This makes it easier to construct UIs with decent contrast. But to do this well, you must work in HCT and gamut map in HCT. For this reason, the HCT Chroma gamut mapping method was added.</p> <p>HCT Chroma is computationally the most expensive gamut mapping method that is offered. Since the color space used is based on the already computationally expensive CAM16 color space, and is made more expensive by blending that color space with CIELab, it is not the most performant approach, but when used in conjunction with the HCT color space, it can allow creating good tonal palettes:</p> <div class=playground id=__playground_19> <div class=playground-results id=__playground-results_19> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(0 0 0) 0%,rgb(0 0 0) 8.333333333333334%,rgb(41 19 46) 8.333333333333334%,rgb(41 19 46) 16.666666666666668%,rgb(63 40 68) 16.666666666666668%,rgb(63 40 68) 25.0%,rgb(87 62 91) 25.0%,rgb(87 62 91) 33.333333333333336%,rgb(112 85 116) 33.333333333333336%,rgb(112 85 116) 41.66666666666667%,rgb(138 109 141) 41.66666666666667%,rgb(138 109 141) 50.00000000000001%,rgb(165 135 168) 50.00000000000001%,rgb(165 135 168) 58.33333333333334%,rgb(193 161 195) 58.33333333333334%,rgb(193 161 195) 66.66666666666667%,rgb(222 188 223) 66.66666666666667%,rgb(222 188 223) 75.0%,rgb(251 215 252) 75.0%,rgb(251 215 252) 83.33333333333333%,rgb(255 235 253) 83.33333333333333%,rgb(255 235 253) 91.66666666666666%,rgb(255 255 255) 91.66666666666666%,rgb(255 255 255) 99.99999999999999%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>c</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;hct&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>325</span><span class=p>,</span> <span class=mi>24</span><span class=p>,</span> <span class=mi>50</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>tones</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>40</span><span class=p>,</span> <span class=mi>50</span><span class=p>,</span> <span class=mi>60</span><span class=p>,</span> <span class=mi>70</span><span class=p>,</span> <span class=mi>80</span><span class=p>,</span> <span class=mi>90</span><span class=p>,</span> <span class=mi>95</span><span class=p>,</span> <span class=mi>100</span><span class=p>]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>clone</span><span class=p>()</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s1>&#39;tone&#39;</span><span class=p>,</span> <span class=n>tone</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>to_string</span><span class=p>(</span><span class=nb>hex</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>fit</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;method&#39;</span><span class=p>:</span> <span class=s1>&#39;hct-chroma&#39;</span><span class=p>,</span> <span class=s1>&#39;jnd&#39;</span><span class=p>:</span> <span class=mf>0.0</span><span class=p>})</span> <span class=k>for</span> <span class=n>tone</span> <span class=ow>in</span> <span class=n>tones</span><span class=p>])</span>
<span class=go>[&#39;#000000&#39;, &#39;#29132e&#39;, &#39;#3f2844&#39;, &#39;#573e5b&#39;, &#39;#705574&#39;, &#39;#8a6d8d&#39;, &#39;#a587a8&#39;, &#39;#c1a1c3&#39;, &#39;#debcdf&#39;, &#39;#fbd7fc&#39;, &#39;#ffebfd&#39;, &#39;#ffffff&#39;]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_19 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_19 spellcheck=false>c = Color('hct', [325, 24, 50])
tones = [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 100]
Steps([c.clone().set('tone', tone).convert('srgb').to_string(hex=True, fit={'method': 'hct-chroma', 'jnd': 0.0}) for tone in tones])</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_19 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_19 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_19 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_19 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>As shown above, the <abbr title="just noticeable difference">JND</abbr> target can be controlled for tighter or looser gamut mapping via the <code>jnd</code> option. The default is <code>2</code>, but to get tonal palette results comparable to Google Material, we are using <code>0.0</code>.</p> <p>To HCT Chroma plugin is not registered by default, but can be added by subclassing <code>Color</code>. You must register the <a href=../distance/#delta-e-hct>E<sub>hct</sub></a> distancing algorithm and the HCT color space as well.</p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>coloraide</span><span class=w> </span><span class=kn>import</span> <span class=n>Color</span> <span class=k>as</span> <span class=n>Base</span>
<span class=kn>from</span><span class=w> </span><span class=nn>coloraide.gamut.fit_hct_chroma</span><span class=w> </span><span class=kn>import</span> <span class=n>HCTChroma</span>
<span class=kn>from</span><span class=w> </span><span class=nn>coloraide.distance.delta_e_hct</span><span class=w> </span><span class=kn>import</span> <span class=n>DEHCT</span>
<span class=kn>from</span><span class=w> </span><span class=nn>coloraide.spaces.hct</span><span class=w> </span><span class=kn>import</span> <span class=n>HCT</span>

<span class=k>class</span><span class=w> </span><span class=nc>Color</span><span class=p>(</span><span class=n>Base</span><span class=p>):</span> <span class=o>...</span>

<span class=n>Color</span><span class=o>.</span><span class=n>register</span><span class=p>([</span><span class=n>HCT</span><span class=p>(),</span> <span class=n>DEHCT</span><span class=p>(),</span> <span class=n>HCTChroma</span><span class=p>()])</span>
</code></pre></div> <h3 id=ray-tracing-chroma-reduction>Ray Tracing Chroma Reduction<a class=headerlink href=#ray-tracing-chroma-reduction title="Permanent link"></a></h3> <div class="admonition warning"> <p class=admonition-title>Experimental Gamut Mapping</p> </div> <div class="admonition new"> <p class=admonition-title>New in 4.0</p> <p>The default perceptual space is now OkLCh.</p> <p>Please see <a href=#gamut-mapping-in-any-perceptual-space>Gamut Mapping in Any Perceptual Space</a> to learn how to use different perceptual spaces and how to set your own default.</p> </div> <p>ColorAide has developed a chroma reduction technique that employs ray tracing. Its aim is to provide faster chrome reduction for gamut mapping using constant lightness. This approach specifically targets RGB gamuts, or spaces that can be represented with RGB gamuts. Additionally, if ColorAide can detect a linear version of the targeted RGB gamut, that version will be used automatically for best results. Currently ColorAide can gamut map all officially supported color spaces as they either have an RGB gamut or can be coerced into one.</p> <p>The ray trace approach works by taking a given color and converting it to a perceptual Lab-ish or LCh-ish color space (the default being OkLCh) and then calculates the achromatic version of the color (chroma set to zero) which will be our anchor point. Assuming our anchor point is within bounds, a ray is cast from the inside of the cube, from the anchor point to the current color. The intersection along this path with the RGB gamut surface is then found. If the achromatic color exceeds the maximum or minimum lightness of the gamut, the respective maximum or minimum achromatic color is returned. </p> <div class="admonition note"> <p class=admonition-title>Ray Trace Algorithm</p> <p>The ray trace algorithm is based on the <a href=https://en.wikipedia.org/wiki/Slab_method>slab method</a>. The intersection that is selected is the first one encountered when following the ray from the origin point in the direction of the specified end point.</p> </div> <p>The intersection of the line and the gamut surface represents an approximation of the most saturated color for that lightness and hue, but because the RGB space is not perceptual, the initial approximation is likely to be off because decreasing chroma and holding lightness and hue constant in a perceptual space will create a curved path through the RGB space. In order to converge on a point as close as possible to the actual most saturated color with the given hue and lightness, we must refine our result with a few additional iterations.</p> <p>In order to converge on the actual chroma reduced color we seek, we can take the first intersection we find and correct the color in the perceptual color space by projecting the point back onto the chroma reduction path, correcting the color's hue and lightness. The corrected color becomes our new current color and should be a much closer color on the reduced chroma line. We can repeat this process a few more times, each time finding a better, closer color on the path. After about three <em>additional</em> iterations (a combined total of four for the entire process), we will be close enough where we can stop. Finally, we can then clip off floating point math errors. With this, we will now have a more accurate approximation of the color we seek.</p> <p><img alt="Ray Trace Gamut Mapping Example" src=../images/raytrace-gma.png></p> <p>One final improvement is that during the correction step, where we adjust surface point back onto the chroma reduction path, if we find a point below the gamut surface, we can adjust our anchor to be this new point, closer to the gamut surface, which in some spaces will help to converge closer to our ideal color than they would without the adjustment.</p> <p><img alt="Ray Trace Gamut Mapping Example" src=../images/raytrace-gma-improve.png></p> <p>The results are comparable to <abbr title="minimum delta E">MINDE</abbr> using a low <abbr title="just noticeable difference">JND</abbr>, but resolves much faster and within more predictable, consistent time.</p> <div class=playground id=__playground_20> <div class=playground-results id=__playground-results_20> <div class=color-command><div class=swatch-bar><span class=swatch title="oklch(0.76773 0.15855 309.37)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(209.46 148.95 255) 50%, rgb(209.46 148.95 255) 50%"></span></span> <span class=swatch title="oklch(0.76773 0.15855 309.37)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(209.46 148.95 255) 50%, rgb(209.46 148.95 255) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;oklch(90% 0.8 270)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;lch-d65&#39;</span><span class=p>)</span>
<span class=go>color(--oklch 0.76773 0.15855 309.37 / 1)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;oklch(90% 0.8 270)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;lch-chroma&#39;</span><span class=p>,</span> <span class=n>jnd</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=go>color(--oklch 0.76773 0.15855 309.37 / 1)</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_20 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_20 spellcheck=false>Color('oklch(90% 0.8 270)').fit('srgb', method='raytrace', pspace='lch-d65')
Color('oklch(90% 0.8 270)').fit('srgb', method='lch-chroma', jnd=0)</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_20 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_20 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_20 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_20 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>As noted earlier, this method specifically targets RGB gamuts. This is because the ray tracing is performed on a simple RGB cube which is easy to calculate. ColorAide maps almost all colors to an RGB gamut, if they have one. And those gamuts are often associated with a linear RGB counterpart which is preferred when gamut mapping, but there are a few color spaces/models that do not map to an obvious RGB gamut.</p> <p>HPLuv, which is only defined as a cylindrical color space that represent only a subset of the sRGB color space, has no defined RGB gamut on which to operate on. Additionally Okhsl and Okhsv are two cylindrical color spaces, based on the perceptual Oklab color space, that are meant to target the sRGB gamut, but are only a loose approximation which actually can slightly clip the sRGB gamut while simultaneously containing a few colors that exceed the sRGB gamut. ColorAide will not automatically associate these color spaces with an RGB gamut as their is not one that precisely represent the colors in Okhsl and Okhsv.</p> <p>With that said, ColorAide will translate these spaces into a cube shape to apply gamut mapping on them if they are specifically used. In the case of HPLuv, results are usually fine, but you may find that gamut mapping Okhsl may not provide the intended results. It should be noted that the currently suggested CSS gamut mapping algorithm (<code>oklch-chroma</code>) does not do much better, so, for Okhsl and Okhsv, it is better to use the closest RGB gamut.</p> <div class=playground id=__playground_21> <div class=playground-results id=__playground-results_21> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(240.6 214.01 220.99) 0%,rgb(240.6 214.01 220.99) 1.0%,rgb(242.74 213.27 219.41) 1.0%,rgb(242.74 213.27 219.41) 2.0%,rgb(243.47 213.16 217.83) 2.0%,rgb(243.47 213.16 217.83) 3.0%,rgb(243.21 213.49 216.47) 3.0%,rgb(243.21 213.49 216.47) 4.0%,rgb(241.94 214.21 215.5) 4.0%,rgb(241.94 214.21 215.5) 5.0%,rgb(239.29 215.44 215.26) 5.0%,rgb(239.29 215.44 215.26) 6.0%,rgb(233.96 217.58 216.56) 6.0%,rgb(233.96 217.58 216.56) 7.0%,rgb(220.94 222.08 222.21) 7.0%,rgb(220.94 222.08 222.21) 8.0%,rgb(148.89 238.74 253.63) 8.0%,rgb(148.89 238.74 253.63) 9.0%,rgb(223.48 221.29 220.79) 9.0%,rgb(223.48 221.29 220.79) 10.0%,rgb(234.56 217.82 213.07) 10.0%,rgb(234.56 217.82 213.07) 11.0%,rgb(238.82 216.54 208.87) 11.0%,rgb(238.82 216.54 208.87) 12.0%,rgb(241.05 215.98 205.71) 12.0%,rgb(241.05 215.98 205.71) 13.0%,rgb(242.43 215.73 202.93) 13.0%,rgb(242.43 215.73 202.93) 14.0%,rgb(243.38 215.64 200.27) 14.0%,rgb(243.38 215.64 200.27) 15.0%,rgb(244.1 215.67 197.57) 15.0%,rgb(244.1 215.67 197.57) 16.0%,rgb(244.65 215.77 194.78) 16.0%,rgb(244.65 215.77 194.78) 17.0%,rgb(245.07 215.94 191.83) 17.0%,rgb(245.07 215.94 191.83) 18.0%,rgb(245.34 216.2 188.74) 18.0%,rgb(245.34 216.2 188.74) 19.0%,rgb(245.4 216.54 185.55) 19.0%,rgb(245.4 216.54 185.55) 20.0%,rgb(245.18 217.01 182.41) 20.0%,rgb(245.18 217.01 182.41) 21.0%,rgb(244.52 217.62 179.64) 21.0%,rgb(244.52 217.62 179.64) 22.0%,rgb(243.16 218.42 177.92) 22.0%,rgb(243.16 218.42 177.92) 23.0%,rgb(240.62 219.45 178.8) 23.0%,rgb(240.62 219.45 178.8) 24.0%,rgb(235.75 220.72 186.19) 24.0%,rgb(235.75 220.72 186.19) 25.0%,rgb(224.82 221.82 213.18) 25.0%,rgb(224.82 221.82 213.18) 26.0%,rgb(255 219.98 83.467) 26.0%,rgb(255 219.98 83.467) 27.0%,rgb(254.9 221.7 0) 27.0%,rgb(254.9 221.7 0) 28.0%,rgb(248.07 224.78 0) 28.0%,rgb(248.07 224.78 0) 29.0%,rgb(240.85 227.87 0) 29.0%,rgb(240.85 227.87 0) 30.0%,rgb(221.14 220.2 234.27) 30.0%,rgb(221.14 220.2 234.27) 31.0%,rgb(222.13 218.61 241.77) 31.0%,rgb(222.13 218.61 241.77) 32.0%,rgb(222.91 219.42 234.8) 32.0%,rgb(222.91 219.42 234.8) 33.0%,rgb(225.25 217.15 242.94) 33.0%,rgb(225.25 217.15 242.94) 34.0%,rgb(193.14 244.5 0.00004) 34.0%,rgb(193.14 244.5 0.00004) 35.0%,rgb(179.14 248.31 0.00001) 35.0%,rgb(179.14 248.31 0.00001) 36.0%,rgb(162.05 252.38 0) 36.0%,rgb(162.05 252.38 0) 37.0%,rgb(146.67 255 52.96) 37.0%,rgb(146.67 255 52.96) 38.0%,rgb(139.83 255 95.973) 38.0%,rgb(139.83 255 95.973) 39.0%,rgb(133.37 255 120.39) 39.0%,rgb(133.37 255 120.39) 40.0%,rgb(127.14 255 138.13) 40.0%,rgb(127.14 255 138.13) 41.0%,rgb(234.11 215.17 232.15) 41.0%,rgb(234.11 215.17 232.15) 42.0%,rgb(219.39 222.96 220.19) 42.0%,rgb(219.39 222.96 220.19) 43.0%,rgb(211.88 226.25 216.52) 43.0%,rgb(211.88 226.25 216.52) 44.0%,rgb(208.96 227.3 216.46) 44.0%,rgb(208.96 227.3 216.46) 45.0%,rgb(210.07 226.69 218.09) 45.0%,rgb(210.07 226.69 218.09) 46.0%,rgb(215.84 224.27 220.44) 46.0%,rgb(215.84 224.27 220.44) 47.0%,rgb(228.44 219 222.79) 47.0%,rgb(228.44 219 222.79) 48.0%,rgb(253.98 207.12 224.12) 48.0%,rgb(253.98 207.12 224.12) 49.0%,rgb(58.892 255 222.35) 49.0%,rgb(58.892 255 222.35) 50.0%,rgb(43.575 255 229.39) 50.0%,rgb(43.575 255 229.39) 51.0%,rgb(15.798 255 236.45) 51.0%,rgb(15.798 255 236.45) 52.0%,rgb(0 254.35 243.14) 52.0%,rgb(0 254.35 243.14) 53.0%,rgb(0 253.49 249.5) 53.0%,rgb(0 253.49 249.5) 54.0%,rgb(31.821 252.05 255) 54.0%,rgb(31.821 252.05 255) 55.0%,rgb(96.697 247.2 255) 55.0%,rgb(96.697 247.2 255) 56.0%,rgb(122.5 243.53 255) 56.0%,rgb(122.5 243.53 255) 57.0%,rgb(233.06 218.06 215.92) 57.0%,rgb(233.06 218.06 215.92) 58.0%,rgb(201.33 227.61 232.81) 58.0%,rgb(201.33 227.61 232.81) 59.0%,rgb(192.41 229.59 238.88) 59.0%,rgb(192.41 229.59 238.88) 60.0%,rgb(190.31 229.79 241.81) 60.0%,rgb(190.31 229.79 241.81) 61.0%,rgb(190.93 229.37 243.31) 61.0%,rgb(190.93 229.37 243.31) 62.0%,rgb(192.74 228.7 243.99) 62.0%,rgb(192.74 228.7 243.99) 63.0%,rgb(195.07 227.94 244.15) 63.0%,rgb(195.07 227.94 244.15) 64.0%,rgb(197.59 227.15 243.93) 64.0%,rgb(197.59 227.15 243.93) 65.0%,rgb(200.15 226.38 243.44) 65.0%,rgb(200.15 226.38 243.44) 66.0%,rgb(202.66 225.65 242.72) 66.0%,rgb(202.66 225.65 242.72) 67.0%,rgb(205.12 224.95 241.76) 67.0%,rgb(205.12 224.95 241.76) 68.0%,rgb(207.53 224.3 240.53) 68.0%,rgb(207.53 224.3 240.53) 69.0%,rgb(210 223.68 238.86) 69.0%,rgb(210 223.68 238.86) 70.0%,rgb(212.78 223.07 236.25) 70.0%,rgb(212.78 223.07 236.25) 71.0%,rgb(216.71 222.42 230.93) 71.0%,rgb(216.71 222.42 230.93) 72.0%,rgb(228.32 221.06 208.34) 72.0%,rgb(228.32 221.06 208.34) 73.0%,rgb(206.78 222.18 255) 73.0%,rgb(206.78 222.18 255) 74.0%,rgb(208.82 221.45 255) 74.0%,rgb(208.82 221.45 255) 75.0%,rgb(241.02 221.32 158.5) 75.0%,rgb(241.02 221.32 158.5) 76.0%,rgb(221.74 221.79 222.05) 76.0%,rgb(221.74 221.79 222.05) 77.0%,rgb(219.19 220.95 234.32) 77.0%,rgb(219.19 220.95 234.32) 78.0%,rgb(219.21 220.15 239.36) 78.0%,rgb(219.21 220.15 239.36) 79.0%,rgb(220.12 219.39 241.85) 79.0%,rgb(220.12 219.39 241.85) 80.0%,rgb(221.43 218.69 242.99) 80.0%,rgb(221.43 218.69 242.99) 81.0%,rgb(222.9 218.08 243.11) 81.0%,rgb(222.9 218.08 243.11) 82.0%,rgb(224.34 217.66 242.15) 82.0%,rgb(224.34 217.66 242.15) 83.0%,rgb(225.4 217.64 239.59) 83.0%,rgb(225.4 217.64 239.59) 84.0%,rgb(225.14 218.72 233.5) 84.0%,rgb(225.14 218.72 233.5) 85.0%,rgb(218.36 224.4 212.56) 85.0%,rgb(218.36 224.4 212.56) 86.0%,rgb(237.86 209.55 255) 86.0%,rgb(237.86 209.55 255) 87.0%,rgb(241.62 207.8 255) 87.0%,rgb(241.62 207.8 255) 88.0%,rgb(245.88 205.74 255) 88.0%,rgb(245.88 205.74 255) 89.0%,rgb(250.81 203.27 255) 89.0%,rgb(250.81 203.27 255) 90.0%,rgb(255 201.41 253.37) 90.0%,rgb(255 201.41 253.37) 91.0%,rgb(255 202.48 247.79) 91.0%,rgb(255 202.48 247.79) 92.0%,rgb(255 203.37 242.98) 92.0%,rgb(255 203.37 242.98) 93.0%,rgb(255 204.13 238.75) 93.0%,rgb(255 204.13 238.75) 94.0%,rgb(255 204.79 234.98) 94.0%,rgb(255 204.79 234.98) 95.0%,rgb(255 205.37 231.57) 95.0%,rgb(255 205.37 231.57) 96.0%,rgb(207.78 227.34 219.25) 96.0%,rgb(207.78 227.34 219.25) 97.0%,rgb(219.86 222.58 221.6) 97.0%,rgb(219.86 222.58 221.6) 98.0%,rgb(235.56 216.06 222.23) 98.0%,rgb(235.56 216.06 222.23) 99.0%,rgb(240.6 214.01 220.99) 99.0%,rgb(240.6 214.01 220.99) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(240.6 214.01 220.99) 0%,rgb(240.6 214.01 220.99) 1.0%,rgb(242.74 213.27 219.41) 1.0%,rgb(242.74 213.27 219.41) 2.0%,rgb(243.47 213.16 217.83) 2.0%,rgb(243.47 213.16 217.83) 3.0%,rgb(243.21 213.49 216.47) 3.0%,rgb(243.21 213.49 216.47) 4.0%,rgb(241.94 214.21 215.5) 4.0%,rgb(241.94 214.21 215.5) 5.0%,rgb(239.29 215.44 215.26) 5.0%,rgb(239.29 215.44 215.26) 6.0%,rgb(233.96 217.58 216.56) 6.0%,rgb(233.96 217.58 216.56) 7.0%,rgb(220.94 222.08 222.21) 7.0%,rgb(220.94 222.08 222.21) 8.0%,rgb(148.89 238.74 253.63) 8.0%,rgb(148.89 238.74 253.63) 9.0%,rgb(223.48 221.29 220.79) 9.0%,rgb(223.48 221.29 220.79) 10.0%,rgb(234.56 217.82 213.07) 10.0%,rgb(234.56 217.82 213.07) 11.0%,rgb(238.82 216.54 208.87) 11.0%,rgb(238.82 216.54 208.87) 12.0%,rgb(241.05 215.98 205.71) 12.0%,rgb(241.05 215.98 205.71) 13.0%,rgb(242.43 215.73 202.93) 13.0%,rgb(242.43 215.73 202.93) 14.0%,rgb(243.38 215.64 200.27) 14.0%,rgb(243.38 215.64 200.27) 15.0%,rgb(244.1 215.67 197.57) 15.0%,rgb(244.1 215.67 197.57) 16.0%,rgb(244.65 215.77 194.78) 16.0%,rgb(244.65 215.77 194.78) 17.0%,rgb(245.07 215.94 191.83) 17.0%,rgb(245.07 215.94 191.83) 18.0%,rgb(245.34 216.2 188.74) 18.0%,rgb(245.34 216.2 188.74) 19.0%,rgb(245.4 216.54 185.55) 19.0%,rgb(245.4 216.54 185.55) 20.0%,rgb(245.18 217.01 182.41) 20.0%,rgb(245.18 217.01 182.41) 21.0%,rgb(244.52 217.62 179.64) 21.0%,rgb(244.52 217.62 179.64) 22.0%,rgb(243.16 218.42 177.92) 22.0%,rgb(243.16 218.42 177.92) 23.0%,rgb(240.62 219.45 178.8) 23.0%,rgb(240.62 219.45 178.8) 24.0%,rgb(235.75 220.72 186.19) 24.0%,rgb(235.75 220.72 186.19) 25.0%,rgb(224.82 221.82 213.18) 25.0%,rgb(224.82 221.82 213.18) 26.0%,rgb(255 219.98 83.467) 26.0%,rgb(255 219.98 83.467) 27.0%,rgb(254.9 221.7 0) 27.0%,rgb(254.9 221.7 0) 28.0%,rgb(248.07 224.78 0) 28.0%,rgb(248.07 224.78 0) 29.0%,rgb(240.85 227.87 0) 29.0%,rgb(240.85 227.87 0) 30.0%,rgb(221.14 220.2 234.27) 30.0%,rgb(221.14 220.2 234.27) 31.0%,rgb(222.13 218.61 241.77) 31.0%,rgb(222.13 218.61 241.77) 32.0%,rgb(222.91 219.42 234.8) 32.0%,rgb(222.91 219.42 234.8) 33.0%,rgb(225.25 217.15 242.94) 33.0%,rgb(225.25 217.15 242.94) 34.0%,rgb(193.14 244.5 0.00004) 34.0%,rgb(193.14 244.5 0.00004) 35.0%,rgb(179.14 248.31 0.00001) 35.0%,rgb(179.14 248.31 0.00001) 36.0%,rgb(162.05 252.38 0) 36.0%,rgb(162.05 252.38 0) 37.0%,rgb(146.67 255 52.96) 37.0%,rgb(146.67 255 52.96) 38.0%,rgb(139.83 255 95.973) 38.0%,rgb(139.83 255 95.973) 39.0%,rgb(133.37 255 120.39) 39.0%,rgb(133.37 255 120.39) 40.0%,rgb(127.14 255 138.13) 40.0%,rgb(127.14 255 138.13) 41.0%,rgb(234.11 215.17 232.15) 41.0%,rgb(234.11 215.17 232.15) 42.0%,rgb(219.39 222.96 220.19) 42.0%,rgb(219.39 222.96 220.19) 43.0%,rgb(211.88 226.25 216.52) 43.0%,rgb(211.88 226.25 216.52) 44.0%,rgb(208.96 227.3 216.46) 44.0%,rgb(208.96 227.3 216.46) 45.0%,rgb(210.07 226.69 218.09) 45.0%,rgb(210.07 226.69 218.09) 46.0%,rgb(215.84 224.27 220.44) 46.0%,rgb(215.84 224.27 220.44) 47.0%,rgb(228.44 219 222.79) 47.0%,rgb(228.44 219 222.79) 48.0%,rgb(253.98 207.12 224.12) 48.0%,rgb(253.98 207.12 224.12) 49.0%,rgb(58.892 255 222.35) 49.0%,rgb(58.892 255 222.35) 50.0%,rgb(43.575 255 229.39) 50.0%,rgb(43.575 255 229.39) 51.0%,rgb(15.798 255 236.45) 51.0%,rgb(15.798 255 236.45) 52.0%,rgb(0 254.35 243.14) 52.0%,rgb(0 254.35 243.14) 53.0%,rgb(0 253.49 249.5) 53.0%,rgb(0 253.49 249.5) 54.0%,rgb(31.821 252.05 255) 54.0%,rgb(31.821 252.05 255) 55.0%,rgb(96.697 247.2 255) 55.0%,rgb(96.697 247.2 255) 56.0%,rgb(122.5 243.53 255) 56.0%,rgb(122.5 243.53 255) 57.0%,rgb(233.06 218.06 215.92) 57.0%,rgb(233.06 218.06 215.92) 58.0%,rgb(201.33 227.61 232.81) 58.0%,rgb(201.33 227.61 232.81) 59.0%,rgb(192.41 229.59 238.88) 59.0%,rgb(192.41 229.59 238.88) 60.0%,rgb(190.31 229.79 241.81) 60.0%,rgb(190.31 229.79 241.81) 61.0%,rgb(190.93 229.37 243.31) 61.0%,rgb(190.93 229.37 243.31) 62.0%,rgb(192.74 228.7 243.99) 62.0%,rgb(192.74 228.7 243.99) 63.0%,rgb(195.07 227.94 244.15) 63.0%,rgb(195.07 227.94 244.15) 64.0%,rgb(197.59 227.15 243.93) 64.0%,rgb(197.59 227.15 243.93) 65.0%,rgb(200.15 226.38 243.44) 65.0%,rgb(200.15 226.38 243.44) 66.0%,rgb(202.66 225.65 242.72) 66.0%,rgb(202.66 225.65 242.72) 67.0%,rgb(205.12 224.95 241.76) 67.0%,rgb(205.12 224.95 241.76) 68.0%,rgb(207.53 224.3 240.53) 68.0%,rgb(207.53 224.3 240.53) 69.0%,rgb(210 223.68 238.86) 69.0%,rgb(210 223.68 238.86) 70.0%,rgb(212.78 223.07 236.25) 70.0%,rgb(212.78 223.07 236.25) 71.0%,rgb(216.71 222.42 230.93) 71.0%,rgb(216.71 222.42 230.93) 72.0%,rgb(228.32 221.06 208.34) 72.0%,rgb(228.32 221.06 208.34) 73.0%,rgb(206.78 222.18 255) 73.0%,rgb(206.78 222.18 255) 74.0%,rgb(208.82 221.45 255) 74.0%,rgb(208.82 221.45 255) 75.0%,rgb(241.02 221.32 158.5) 75.0%,rgb(241.02 221.32 158.5) 76.0%,rgb(221.74 221.79 222.05) 76.0%,rgb(221.74 221.79 222.05) 77.0%,rgb(219.19 220.95 234.32) 77.0%,rgb(219.19 220.95 234.32) 78.0%,rgb(219.21 220.15 239.36) 78.0%,rgb(219.21 220.15 239.36) 79.0%,rgb(220.12 219.39 241.85) 79.0%,rgb(220.12 219.39 241.85) 80.0%,rgb(221.43 218.69 242.99) 80.0%,rgb(221.43 218.69 242.99) 81.0%,rgb(222.9 218.08 243.11) 81.0%,rgb(222.9 218.08 243.11) 82.0%,rgb(224.34 217.66 242.15) 82.0%,rgb(224.34 217.66 242.15) 83.0%,rgb(225.4 217.64 239.59) 83.0%,rgb(225.4 217.64 239.59) 84.0%,rgb(225.14 218.72 233.5) 84.0%,rgb(225.14 218.72 233.5) 85.0%,rgb(218.36 224.4 212.56) 85.0%,rgb(218.36 224.4 212.56) 86.0%,rgb(237.86 209.55 255) 86.0%,rgb(237.86 209.55 255) 87.0%,rgb(241.62 207.8 255) 87.0%,rgb(241.62 207.8 255) 88.0%,rgb(245.88 205.74 255) 88.0%,rgb(245.88 205.74 255) 89.0%,rgb(250.81 203.27 255) 89.0%,rgb(250.81 203.27 255) 90.0%,rgb(255 201.41 253.37) 90.0%,rgb(255 201.41 253.37) 91.0%,rgb(255 202.48 247.79) 91.0%,rgb(255 202.48 247.79) 92.0%,rgb(255 203.37 242.98) 92.0%,rgb(255 203.37 242.98) 93.0%,rgb(255 204.13 238.75) 93.0%,rgb(255 204.13 238.75) 94.0%,rgb(255 204.79 234.98) 94.0%,rgb(255 204.79 234.98) 95.0%,rgb(255 205.37 231.57) 95.0%,rgb(255 205.37 231.57) 96.0%,rgb(207.78 227.34 219.25) 96.0%,rgb(207.78 227.34 219.25) 97.0%,rgb(219.86 222.58 221.6) 97.0%,rgb(219.86 222.58 221.6) 98.0%,rgb(235.56 216.06 222.23) 98.0%,rgb(235.56 216.06 222.23) 99.0%,rgb(240.6 214.01 220.99) 99.0%,rgb(240.6 214.01 220.99) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(255 207.2 220.32) 0%,rgb(255 207.2 220.32) 1.0%,rgb(255 207.57 217.9) 1.0%,rgb(255 207.57 217.9) 2.0%,rgb(255 207.93 215.56) 2.0%,rgb(255 207.93 215.56) 3.0%,rgb(255 208.27 213.3) 3.0%,rgb(255 208.27 213.3) 4.0%,rgb(255 208.59 211.08) 4.0%,rgb(255 208.59 211.08) 5.0%,rgb(255 208.91 208.9) 5.0%,rgb(255 208.91 208.9) 6.0%,rgb(255 209.22 206.73) 6.0%,rgb(255 209.22 206.73) 7.0%,rgb(255 209.53 204.55) 7.0%,rgb(255 209.53 204.55) 8.0%,rgb(255 209.83 202.35) 8.0%,rgb(255 209.83 202.35) 9.0%,rgb(255 210.13 200.11) 9.0%,rgb(255 210.13 200.11) 10.0%,rgb(255 210.44 197.81) 10.0%,rgb(255 210.44 197.81) 11.0%,rgb(255 210.75 195.43) 11.0%,rgb(255 210.75 195.43) 12.0%,rgb(255 211.07 192.94) 12.0%,rgb(255 211.07 192.94) 13.0%,rgb(255 211.41 190.31) 13.0%,rgb(255 211.41 190.31) 14.0%,rgb(255 211.75 187.51) 14.0%,rgb(255 211.75 187.51) 15.0%,rgb(255 212.12 184.5) 15.0%,rgb(255 212.12 184.5) 16.0%,rgb(255 212.5 181.22) 16.0%,rgb(255 212.5 181.22) 17.0%,rgb(255 212.92 177.61) 17.0%,rgb(255 212.92 177.61) 18.0%,rgb(255 213.37 173.57) 18.0%,rgb(255 213.37 173.57) 19.0%,rgb(255 213.86 168.99) 19.0%,rgb(255 213.86 168.99) 20.0%,rgb(255 214.4 163.69) 20.0%,rgb(255 214.4 163.69) 21.0%,rgb(255 215.02 157.43) 21.0%,rgb(255 215.02 157.43) 22.0%,rgb(255 215.72 149.85) 22.0%,rgb(255 215.72 149.85) 23.0%,rgb(255 216.53 140.33) 23.0%,rgb(255 216.53 140.33) 24.0%,rgb(255 217.48 127.82) 24.0%,rgb(255 217.48 127.82) 25.0%,rgb(255 218.64 110.12) 25.0%,rgb(255 218.64 110.12) 26.0%,rgb(255 220.05 81.704) 26.0%,rgb(255 220.05 81.704) 27.0%,rgb(254.9 221.7 0) 27.0%,rgb(254.9 221.7 0) 28.0%,rgb(248.07 224.78 0) 28.0%,rgb(248.07 224.78 0) 29.0%,rgb(240.85 227.87 0) 29.0%,rgb(240.85 227.87 0) 30.0%,rgb(233.11 231 0) 30.0%,rgb(233.11 231 0) 31.0%,rgb(224.7 234.2 0) 31.0%,rgb(224.7 234.2 0) 32.0%,rgb(215.43 237.49 0) 32.0%,rgb(215.43 237.49 0) 33.0%,rgb(205.04 240.91 0) 33.0%,rgb(205.04 240.91 0) 34.0%,rgb(193.14 244.5 0) 34.0%,rgb(193.14 244.5 0) 35.0%,rgb(179.14 248.31 0) 35.0%,rgb(179.14 248.31 0) 36.0%,rgb(162.05 252.38 0) 36.0%,rgb(162.05 252.38 0) 37.0%,rgb(146.67 255 52.959) 37.0%,rgb(146.67 255 52.959) 38.0%,rgb(139.83 255 95.973) 38.0%,rgb(139.83 255 95.973) 39.0%,rgb(133.37 255 120.39) 39.0%,rgb(133.37 255 120.39) 40.0%,rgb(127.14 255 138.13) 40.0%,rgb(127.14 255 138.13) 41.0%,rgb(121.02 255 152.29) 41.0%,rgb(121.02 255 152.29) 42.0%,rgb(114.9 255 164.2) 42.0%,rgb(114.9 255 164.2) 43.0%,rgb(108.66 255 174.59) 43.0%,rgb(108.66 255 174.59) 44.0%,rgb(102.19 255 183.9) 44.0%,rgb(102.19 255 183.9) 45.0%,rgb(95.359 255 192.44) 45.0%,rgb(95.359 255 192.44) 46.0%,rgb(87.975 255 200.4) 46.0%,rgb(87.975 255 200.4) 47.0%,rgb(79.776 255 207.96) 47.0%,rgb(79.776 255 207.96) 48.0%,rgb(70.342 255 215.24) 48.0%,rgb(70.342 255 215.24) 49.0%,rgb(58.892 255 222.35) 49.0%,rgb(58.892 255 222.35) 50.0%,rgb(43.575 255 229.39) 50.0%,rgb(43.575 255 229.39) 51.0%,rgb(15.798 255 236.45) 51.0%,rgb(15.798 255 236.45) 52.0%,rgb(0 254.35 243.14) 52.0%,rgb(0 254.35 243.14) 53.0%,rgb(0 253.49 249.5) 53.0%,rgb(0 253.49 249.5) 54.0%,rgb(31.801 252.05 255) 54.0%,rgb(31.801 252.05 255) 55.0%,rgb(96.688 247.2 255) 55.0%,rgb(96.688 247.2 255) 56.0%,rgb(122.49 243.53 255) 56.0%,rgb(122.49 243.53 255) 57.0%,rgb(138.61 240.64 255) 57.0%,rgb(138.61 240.64 255) 58.0%,rgb(150.05 238.28 255) 58.0%,rgb(150.05 238.28 255) 59.0%,rgb(158.75 236.3 255) 59.0%,rgb(158.75 236.3 255) 60.0%,rgb(165.67 234.61 255) 60.0%,rgb(165.67 234.61 255) 61.0%,rgb(171.38 233.14 255) 61.0%,rgb(171.38 233.14 255) 62.0%,rgb(176.21 231.83 255) 62.0%,rgb(176.21 231.83 255) 63.0%,rgb(180.39 230.65 255) 63.0%,rgb(180.39 230.65 255) 64.0%,rgb(184.08 229.58 255) 64.0%,rgb(184.08 229.58 255) 65.0%,rgb(187.38 228.59 255) 65.0%,rgb(187.38 228.59 255) 66.0%,rgb(190.37 227.67 255) 66.0%,rgb(190.37 227.67 255) 67.0%,rgb(193.13 226.8 255) 67.0%,rgb(193.13 226.8 255) 68.0%,rgb(195.69 225.97 255) 68.0%,rgb(195.69 225.97 255) 69.0%,rgb(198.1 225.18 255) 69.0%,rgb(198.1 225.18 255) 70.0%,rgb(200.39 224.41 255) 70.0%,rgb(200.39 224.41 255) 71.0%,rgb(202.59 223.66 255) 71.0%,rgb(202.59 223.66 255) 72.0%,rgb(204.71 222.92 255) 72.0%,rgb(204.71 222.92 255) 73.0%,rgb(206.78 222.18 255) 73.0%,rgb(206.78 222.18 255) 74.0%,rgb(208.82 221.45 255) 74.0%,rgb(208.82 221.45 255) 75.0%,rgb(210.85 220.71 255) 75.0%,rgb(210.85 220.71 255) 76.0%,rgb(212.87 219.95 255) 76.0%,rgb(212.87 219.95 255) 77.0%,rgb(214.92 219.18 255) 77.0%,rgb(214.92 219.18 255) 78.0%,rgb(217 218.38 255) 78.0%,rgb(217 218.38 255) 79.0%,rgb(219.13 217.54 255) 79.0%,rgb(219.13 217.54 255) 80.0%,rgb(221.34 216.66 255) 80.0%,rgb(221.34 216.66 255) 81.0%,rgb(223.65 215.72 255) 81.0%,rgb(223.65 215.72 255) 82.0%,rgb(226.08 214.71 255) 82.0%,rgb(226.08 214.71 255) 83.0%,rgb(228.68 213.62 255) 83.0%,rgb(228.68 213.62 255) 84.0%,rgb(231.47 212.41 255) 84.0%,rgb(231.47 212.41 255) 85.0%,rgb(234.51 211.07 255) 85.0%,rgb(234.51 211.07 255) 86.0%,rgb(237.86 209.55 255) 86.0%,rgb(237.86 209.55 255) 87.0%,rgb(241.62 207.8 255) 87.0%,rgb(241.62 207.8 255) 88.0%,rgb(245.88 205.74 255) 88.0%,rgb(245.88 205.74 255) 89.0%,rgb(250.81 203.27 255) 89.0%,rgb(250.81 203.27 255) 90.0%,rgb(255 201.41 253.37) 90.0%,rgb(255 201.41 253.37) 91.0%,rgb(255 202.48 247.79) 91.0%,rgb(255 202.48 247.79) 92.0%,rgb(255 203.37 242.98) 92.0%,rgb(255 203.37 242.98) 93.0%,rgb(255 204.13 238.75) 93.0%,rgb(255 204.13 238.75) 94.0%,rgb(255 204.79 234.98) 94.0%,rgb(255 204.79 234.98) 95.0%,rgb(255 205.37 231.57) 95.0%,rgb(255 205.37 231.57) 96.0%,rgb(255 205.89 228.45) 96.0%,rgb(255 205.89 228.45) 97.0%,rgb(255 206.36 225.57) 97.0%,rgb(255 206.36 225.57) 98.0%,rgb(255 206.8 222.87) 98.0%,rgb(255 206.8 222.87) 99.0%,rgb(255 207.2 220.32) 99.0%,rgb(255 207.2 220.32) 100.0%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;okhsl&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;oklch(90% 0.4 0)&#39;</span><span class=p>,</span> <span class=s1>&#39;oklch(90% 0.4 360)&#39;</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;longer&#39;</span><span class=p>)])</span>
<span class=go>[color(--oklch 0.9 0.03085 0 / 1), color(--oklch 0.9 0.03372 3.6364 / 1), color(--oklch 0.9 0.03428 7.2727 / 1), color(--oklch 0.9 0.03333 10.909 / 1), color(--oklch 0.9 0.03093 14.545 / 1), color(--oklch 0.9 0.02652 18.182 / 1), color(--oklch 0.9 0.01818 21.818 / 1), color(--oklch 0.9 0.00125 205.45 / 1), color(--oklch 0.9 0.08837 209.09 / 1), color(--oklch 0.9 0.00249 32.727 / 1), color(--oklch 0.9 0.01967 36.364 / 1), color(--oklch 0.9 0.02693 40 / 1), color(--oklch 0.9 0.03129 43.636 / 1), color(--oklch 0.9 0.03452 47.273 / 1), color(--oklch 0.9 0.03733 50.909 / 1), color(--oklch 0.9 0.04004 54.545 / 1), color(--oklch 0.9 0.04282 58.182 / 1), color(--oklch 0.9 0.04576 61.818 / 1), color(--oklch 0.9 0.04888 65.455 / 1), color(--oklch 0.9 0.05211 69.091 / 1), color(--oklch 0.9 0.05531 72.727 / 1), color(--oklch 0.9 0.0581 76.364 / 1), color(--oklch 0.9 0.05966 80 / 1), color(--oklch 0.9 0.05812 83.636 / 1), color(--oklch 0.9 0.04843 87.273 / 1), color(--oklch 0.9 0.01209 90.909 / 1), color(--oklch 0.9 0.15515 94.545 / 1), color(--oklch 0.9 0.1861 98.182 / 1), color(--oklch 0.9 0.18832 101.82 / 1), color(--oklch 0.9 0.19138 105.45 / 1), color(--oklch 0.9 0.01909 289.09 / 1), color(--oklch 0.9 0.03162 292.73 / 1), color(--oklch 0.9 0.02113 296.36 / 1), color(--oklch 0.9 0.03591 300 / 1), color(--oklch 0.9 0.22247 123.64 / 1), color(--oklch 0.9 0.23299 127.27 / 1), color(--oklch 0.9 0.2456 130.91 / 1), color(--oklch 0.9 0.24384 134.55 / 1), color(--oklch 0.9 0.22238 138.18 / 1), color(--oklch 0.9 0.20619 141.82 / 1), color(--oklch 0.9 0.19362 145.45 / 1), color(--oklch 0.9 0.03067 329.09 / 1), color(--oklch 0.9 0.00536 152.73 / 1), color(--oklch 0.9 0.0202 156.36 / 1), color(--oklch 0.9 0.02441 160 / 1), color(--oklch 0.9 0.02118 163.64 / 1), color(--oklch 0.9 0.01041 167.27 / 1), color(--oklch 0.9 0.01147 350.91 / 1), color(--oklch 0.9 0.05689 354.55 / 1), color(--oklch 0.9 0.15497 178.18 / 1), color(--oklch 0.9 0.1556 181.82 / 1), color(--oklch 0.9 0.15708 185.45 / 1), color(--oklch 0.9 0.15589 189.09 / 1), color(--oklch 0.9 0.15425 192.73 / 1), color(--oklch 0.9 0.15008 196.36 / 1), color(--oklch 0.9 0.12658 200 / 1), color(--oklch 0.9 0.10983 203.64 / 1), color(--oklch 0.9 0.01686 27.273 / 1), color(--oklch 0.9 0.0287 210.91 / 1), color(--oklch 0.9 0.04084 214.55 / 1), color(--oklch 0.9 0.04427 218.18 / 1), color(--oklch 0.9 0.04441 221.82 / 1), color(--oklch 0.9 0.0431 225.45 / 1), color(--oklch 0.9 0.04112 229.09 / 1), color(--oklch 0.9 0.03883 232.73 / 1), color(--oklch 0.9 0.03641 236.36 / 1), color(--oklch 0.9 0.03393 240 / 1), color(--oklch 0.9 0.03138 243.64 / 1), color(--oklch 0.9 0.02866 247.27 / 1), color(--oklch 0.9 0.02552 250.91 / 1), color(--oklch 0.9 0.0212 254.55 / 1), color(--oklch 0.9 0.01317 258.18 / 1), color(--oklch 0.9 0.01887 81.818 / 1), color(--oklch 0.9 0.04813 265.45 / 1), color(--oklch 0.9 0.04811 269.09 / 1), color(--oklch 0.9 0.0831 92.727 / 1), color(--oklch 0.9 0.00036 276.36 / 1), color(--oklch 0.9 0.01827 280 / 1), color(--oklch 0.9 0.02615 283.64 / 1), color(--oklch 0.9 0.03053 287.27 / 1), color(--oklch 0.9 0.0331 290.91 / 1), color(--oklch 0.9 0.03429 294.55 / 1), color(--oklch 0.9 0.03388 298.18 / 1), color(--oklch 0.9 0.03076 301.82 / 1), color(--oklch 0.9 0.02106 305.45 / 1), color(--oklch 0.9 0.01717 129.09 / 1), color(--oklch 0.9 0.06811 312.73 / 1), color(--oklch 0.9 0.07289 316.36 / 1), color(--oklch 0.9 0.07874 320 / 1), color(--oklch 0.9 0.08599 323.64 / 1), color(--oklch 0.9 0.09033 327.27 / 1), color(--oklch 0.9 0.08316 330.91 / 1), color(--oklch 0.9 0.07729 334.55 / 1), color(--oklch 0.9 0.07245 338.18 / 1), color(--oklch 0.9 0.06842 341.82 / 1), color(--oklch 0.9 0.06506 345.45 / 1), color(--oklch 0.9 0.0235 169.09 / 1), color(--oklch 0.9 0.00322 172.73 / 1), color(--oklch 0.9 0.02296 356.36 / 1), color(--oklch 0.9 0.03085 0 / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;okhsl&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;oklch-chroma&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;oklch(90% 0.4 0)&#39;</span><span class=p>,</span> <span class=s1>&#39;oklch(90% 0.4 360)&#39;</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;longer&#39;</span><span class=p>)])</span>
<span class=go>[color(--oklch 0.9 0.03085 0 / 1), color(--oklch 0.9 0.03372 3.6364 / 1), color(--oklch 0.9 0.03428 7.2727 / 1), color(--oklch 0.9 0.03333 10.909 / 1), color(--oklch 0.9 0.03093 14.545 / 1), color(--oklch 0.9 0.02652 18.182 / 1), color(--oklch 0.9 0.01818 21.818 / 1), color(--oklch 0.9 0.00125 205.45 / 1), color(--oklch 0.9 0.08837 209.09 / 1), color(--oklch 0.9 0.00249 32.727 / 1), color(--oklch 0.9 0.01967 36.364 / 1), color(--oklch 0.9 0.02693 40 / 1), color(--oklch 0.9 0.03129 43.636 / 1), color(--oklch 0.9 0.03452 47.273 / 1), color(--oklch 0.9 0.03733 50.909 / 1), color(--oklch 0.9 0.04004 54.545 / 1), color(--oklch 0.9 0.04282 58.182 / 1), color(--oklch 0.9 0.04576 61.818 / 1), color(--oklch 0.9 0.04888 65.455 / 1), color(--oklch 0.9 0.05211 69.091 / 1), color(--oklch 0.9 0.05531 72.727 / 1), color(--oklch 0.9 0.0581 76.364 / 1), color(--oklch 0.9 0.05966 80 / 1), color(--oklch 0.9 0.05812 83.636 / 1), color(--oklch 0.9 0.04843 87.273 / 1), color(--oklch 0.9 0.01209 90.909 / 1), color(--oklch 0.9 0.15515 94.545 / 1), color(--oklch 0.9 0.1861 98.182 / 1), color(--oklch 0.9 0.18832 101.82 / 1), color(--oklch 0.9 0.19138 105.45 / 1), color(--oklch 0.9 0.01909 289.09 / 1), color(--oklch 0.9 0.03162 292.73 / 1), color(--oklch 0.9 0.02113 296.36 / 1), color(--oklch 0.9 0.03591 300 / 1), color(--oklch 0.9 0.22247 123.64 / 1), color(--oklch 0.9 0.23299 127.27 / 1), color(--oklch 0.9 0.2456 130.91 / 1), color(--oklch 0.9 0.24384 134.55 / 1), color(--oklch 0.9 0.22238 138.18 / 1), color(--oklch 0.9 0.20619 141.82 / 1), color(--oklch 0.9 0.19362 145.45 / 1), color(--oklch 0.9 0.03067 329.09 / 1), color(--oklch 0.9 0.00536 152.73 / 1), color(--oklch 0.9 0.0202 156.36 / 1), color(--oklch 0.9 0.02441 160 / 1), color(--oklch 0.9 0.02118 163.64 / 1), color(--oklch 0.9 0.01041 167.27 / 1), color(--oklch 0.9 0.01147 350.91 / 1), color(--oklch 0.9 0.05689 354.55 / 1), color(--oklch 0.9 0.15497 178.18 / 1), color(--oklch 0.9 0.1556 181.82 / 1), color(--oklch 0.9 0.15708 185.45 / 1), color(--oklch 0.9 0.15589 189.09 / 1), color(--oklch 0.9 0.15425 192.73 / 1), color(--oklch 0.9 0.15008 196.36 / 1), color(--oklch 0.9 0.12658 200 / 1), color(--oklch 0.9 0.10983 203.64 / 1), color(--oklch 0.9 0.01686 27.273 / 1), color(--oklch 0.9 0.0287 210.91 / 1), color(--oklch 0.9 0.04084 214.55 / 1), color(--oklch 0.9 0.04427 218.18 / 1), color(--oklch 0.9 0.04441 221.82 / 1), color(--oklch 0.9 0.0431 225.45 / 1), color(--oklch 0.9 0.04112 229.09 / 1), color(--oklch 0.9 0.03883 232.73 / 1), color(--oklch 0.9 0.03641 236.36 / 1), color(--oklch 0.9 0.03393 240 / 1), color(--oklch 0.9 0.03138 243.64 / 1), color(--oklch 0.9 0.02866 247.27 / 1), color(--oklch 0.9 0.02552 250.91 / 1), color(--oklch 0.9 0.0212 254.55 / 1), color(--oklch 0.9 0.01317 258.18 / 1), color(--oklch 0.9 0.01887 81.818 / 1), color(--oklch 0.9 0.04813 265.45 / 1), color(--oklch 0.9 0.04811 269.09 / 1), color(--oklch 0.9 0.0831 92.727 / 1), color(--oklch 0.9 0.00036 276.36 / 1), color(--oklch 0.9 0.01827 280 / 1), color(--oklch 0.9 0.02615 283.64 / 1), color(--oklch 0.9 0.03053 287.27 / 1), color(--oklch 0.9 0.0331 290.91 / 1), color(--oklch 0.9 0.03429 294.55 / 1), color(--oklch 0.9 0.03388 298.18 / 1), color(--oklch 0.9 0.03076 301.82 / 1), color(--oklch 0.9 0.02106 305.45 / 1), color(--oklch 0.9 0.01717 129.09 / 1), color(--oklch 0.9 0.06811 312.73 / 1), color(--oklch 0.9 0.07289 316.36 / 1), color(--oklch 0.9 0.07874 320 / 1), color(--oklch 0.9 0.08599 323.64 / 1), color(--oklch 0.9 0.09033 327.27 / 1), color(--oklch 0.9 0.08316 330.91 / 1), color(--oklch 0.9 0.07729 334.55 / 1), color(--oklch 0.9 0.07245 338.18 / 1), color(--oklch 0.9 0.06842 341.82 / 1), color(--oklch 0.9 0.06506 345.45 / 1), color(--oklch 0.9 0.0235 169.09 / 1), color(--oklch 0.9 0.00322 172.73 / 1), color(--oklch 0.9 0.02296 356.36 / 1), color(--oklch 0.9 0.03085 0 / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;oklch(90% 0.4 0)&#39;</span><span class=p>,</span> <span class=s1>&#39;oklch(90% 0.4 360)&#39;</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;longer&#39;</span><span class=p>)])</span>
<span class=go>[color(--oklch 0.9 0.05626 0 / 1), color(--oklch 0.9 0.05492 3.6364 / 1), color(--oklch 0.9 0.05385 7.2727 / 1), color(--oklch 0.9 0.05303 10.909 / 1), color(--oklch 0.9 0.05244 14.545 / 1), color(--oklch 0.9 0.05207 18.182 / 1), color(--oklch 0.9 0.0519 21.818 / 1), color(--oklch 0.9 0.05195 25.455 / 1), color(--oklch 0.9 0.0522 29.091 / 1), color(--oklch 0.9 0.05266 32.727 / 1), color(--oklch 0.9 0.05334 36.364 / 1), color(--oklch 0.9 0.05426 40 / 1), color(--oklch 0.9 0.05543 43.636 / 1), color(--oklch 0.9 0.05688 47.273 / 1), color(--oklch 0.9 0.05865 50.909 / 1), color(--oklch 0.9 0.06078 54.546 / 1), color(--oklch 0.9 0.06333 58.182 / 1), color(--oklch 0.9 0.06636 61.819 / 1), color(--oklch 0.9 0.07 65.456 / 1), color(--oklch 0.9 0.07435 69.093 / 1), color(--oklch 0.9 0.0796 72.733 / 1), color(--oklch 0.9 0.08601 76.374 / 1), color(--oklch 0.9 0.09391 80.021 / 1), color(--oklch 0.9 0.10384 83.675 / 1), color(--oklch 0.9 0.1166 87.343 / 1), color(--oklch 0.9 0.13348 91.035 / 1), color(--oklch 0.9 0.15639 94.717 / 1), color(--oklch 0.9 0.1861 98.182 / 1), color(--oklch 0.9 0.18832 101.82 / 1), color(--oklch 0.9 0.19138 105.45 / 1), color(--oklch 0.9 0.19534 109.09 / 1), color(--oklch 0.9 0.20029 112.73 / 1), color(--oklch 0.9 0.20635 116.36 / 1), color(--oklch 0.9 0.21367 120 / 1), color(--oklch 0.9 0.22247 123.64 / 1), color(--oklch 0.9 0.23299 127.27 / 1), color(--oklch 0.9 0.2456 130.91 / 1), color(--oklch 0.9 0.24384 134.55 / 1), color(--oklch 0.9 0.22238 138.18 / 1), color(--oklch 0.9 0.20619 141.82 / 1), color(--oklch 0.9 0.19362 145.45 / 1), color(--oklch 0.9 0.1837 149.09 / 1), color(--oklch 0.9 0.17581 152.73 / 1), color(--oklch 0.9 0.16954 156.36 / 1), color(--oklch 0.9 0.16461 160 / 1), color(--oklch 0.9 0.16083 163.64 / 1), color(--oklch 0.9 0.15804 167.27 / 1), color(--oklch 0.9 0.15617 170.91 / 1), color(--oklch 0.9 0.15516 174.55 / 1), color(--oklch 0.9 0.15497 178.18 / 1), color(--oklch 0.9 0.1556 181.82 / 1), color(--oklch 0.9 0.15708 185.45 / 1), color(--oklch 0.9 0.15589 189.09 / 1), color(--oklch 0.9 0.15425 192.73 / 1), color(--oklch 0.9 0.15008 196.36 / 1), color(--oklch 0.9 0.12658 200 / 1), color(--oklch 0.9 0.10983 203.64 / 1), color(--oklch 0.9 0.09734 207.27 / 1), color(--oklch 0.9 0.08773 210.91 / 1), color(--oklch 0.9 0.08013 214.54 / 1), color(--oklch 0.9 0.07402 218.18 / 1), color(--oklch 0.9 0.06903 221.82 / 1), color(--oklch 0.9 0.06492 225.45 / 1), color(--oklch 0.9 0.06151 229.09 / 1), color(--oklch 0.9 0.05866 232.73 / 1), color(--oklch 0.9 0.05628 236.36 / 1), color(--oklch 0.9 0.0543 240 / 1), color(--oklch 0.9 0.05265 243.64 / 1), color(--oklch 0.9 0.0513 247.27 / 1), color(--oklch 0.9 0.05022 250.91 / 1), color(--oklch 0.9 0.04938 254.55 / 1), color(--oklch 0.9 0.04876 258.18 / 1), color(--oklch 0.9 0.04834 261.82 / 1), color(--oklch 0.9 0.04813 265.45 / 1), color(--oklch 0.9 0.04811 269.09 / 1), color(--oklch 0.9 0.04828 272.73 / 1), color(--oklch 0.9 0.04865 276.36 / 1), color(--oklch 0.9 0.04923 280 / 1), color(--oklch 0.9 0.05003 283.64 / 1), color(--oklch 0.9 0.05106 287.27 / 1), color(--oklch 0.9 0.05235 290.91 / 1), color(--oklch 0.9 0.05392 294.55 / 1), color(--oklch 0.9 0.05583 298.18 / 1), color(--oklch 0.9 0.05813 301.82 / 1), color(--oklch 0.9 0.06087 305.45 / 1), color(--oklch 0.9 0.06416 309.09 / 1), color(--oklch 0.9 0.06811 312.73 / 1), color(--oklch 0.9 0.07289 316.36 / 1), color(--oklch 0.9 0.07874 320 / 1), color(--oklch 0.9 0.08599 323.64 / 1), color(--oklch 0.9 0.09033 327.27 / 1), color(--oklch 0.9 0.08316 330.91 / 1), color(--oklch 0.9 0.07729 334.55 / 1), color(--oklch 0.9 0.07245 338.18 / 1), color(--oklch 0.9 0.06842 341.82 / 1), color(--oklch 0.9 0.06506 345.45 / 1), color(--oklch 0.9 0.06223 349.09 / 1), color(--oklch 0.9 0.05987 352.73 / 1), color(--oklch 0.9 0.05789 356.36 / 1), color(--oklch 0.9 0.05626 0 / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_21 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_21 spellcheck=false>Steps([c.fit('okhsl', method='raytrace') for c in Color.steps(['oklch(90% 0.4 0)', 'oklch(90% 0.4 360)'], steps=100, space='oklch', hue='longer')])
Steps([c.fit('okhsl', method='oklch-chroma') for c in Color.steps(['oklch(90% 0.4 0)', 'oklch(90% 0.4 360)'], steps=100, space='oklch', hue='longer')])
Steps([c.fit('srgb', method='raytrace') for c in Color.steps(['oklch(90% 0.4 0)', 'oklch(90% 0.4 360)'], steps=100, space='oklch', hue='longer')])</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_21 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_21 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_21 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_21 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <h3 id=gamut-mapping-in-any-perceptual-space>Gamut Mapping in Any Perceptual Space<a class=headerlink href=#gamut-mapping-in-any-perceptual-space title="Permanent link"></a></h3> <p>ColorAide provides a couple gamut mapping approaches and a few using different perceptual spaces to perform the operation, but th <code>minde-chroma</code> and the <code>raytrace</code> gamut mapping allow for using any perceptual space to perform the gamut mapping operation in. Any perceptual space in the LCh-ish or Lab-ish form can be specified via the <code>pspace</code> parameter.</p> <div class=playground id=__playground_22> <div class=playground-results id=__playground-results_22> <div class=color-command><div class=swatch-bar><span class=swatch title="oklch(0.48631 0.29467 277.07)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(76.142 14.412 255) 50%, rgb(76.142 14.412 255) 50%"></span></span> <span class=swatch title="oklch(0.47398 0.29406 276.64)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(72.525 0 250.38) 50%, rgb(72.525 0 250.38) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;oklch(50% 0.4 270)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;cam16-jmh&#39;</span><span class=p>)</span>
<span class=go>color(--oklch 0.48631 0.29467 277.07 / 1)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;oklch(50% 0.4 270)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;luv&#39;</span><span class=p>)</span>
<span class=go>color(--oklch 0.47398 0.29406 276.64 / 1)</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_22 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_22 spellcheck=false>Color('oklch(50% 0.4 270)').fit('srgb', method='raytrace', pspace='cam16-jmh')
Color('oklch(50% 0.4 270)').fit('srgb', method='raytrace', pspace='luv')</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_22 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_22 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_22 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_22 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>For the <abbr title="minimum delta E">MINDE</abbr> chroma approach, you would need to specify and configure an appropriate E distancing approach and determine an appropriate <abbr title="just noticeable difference">JND</abbr> limit for said distancing approach. Ideally, a E algorithm specific to the perceptual space is preferred to help prevent costly conversions to other color spaces. Performance of algorithm in different perceptual spaces is dependent on the E algorithm used, the <abbr title="just noticeable difference">JND</abbr> selected, and how uniformly perceptual the color space is.</p> <p>As an example, <code>minde-chroma</code> method uses OkLCh and uses the E<sub>ok</sub> distancing algorithm with a <abbr title="just noticeable difference">JND</abbr> of 0.02. The LCh variant uses CIELCh D65 and uses E<sub>2000</sub> with a <abbr title="just noticeable difference">JND</abbr> of 2. We can manually perform both of these by setting the perceptual space with <code>psapce</code>, the E configuration via <code>de_options</code>, and the <abbr title="just noticeable difference">JND</abbr> with <code>jnd</code>.</p> <div class=playground id=__playground_23> <div class=playground-results id=__playground-results_23> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(255 180.9 206.06) 0%,rgb(255 180.9 206.06) 1.0%,rgb(255 181.6 201.35) 1.0%,rgb(255 181.6 201.35) 2.0%,rgb(255 182.28 196.75) 2.0%,rgb(255 182.28 196.75) 3.0%,rgb(255 182.97 192.19) 3.0%,rgb(255 182.97 192.19) 4.0%,rgb(255 183.65 187.56) 4.0%,rgb(255 183.65 187.56) 5.0%,rgb(255 184.43 182.8) 5.0%,rgb(255 184.43 182.8) 6.0%,rgb(255 185.29 177.66) 6.0%,rgb(255 185.29 177.66) 7.0%,rgb(255 186.37 171.8) 7.0%,rgb(255 186.37 171.8) 8.0%,rgb(255 187.85 163.21) 8.0%,rgb(255 187.85 163.21) 9.0%,rgb(255 190.06 147.32) 9.0%,rgb(255 190.06 147.32) 10.0%,rgb(255 191.69 134.98) 10.0%,rgb(255 191.69 134.98) 11.0%,rgb(255 193.03 125.25) 11.0%,rgb(255 193.03 125.25) 12.0%,rgb(255 194.22 117.37) 12.0%,rgb(255 194.22 117.37) 13.0%,rgb(255 195.37 110.86) 13.0%,rgb(255 195.37 110.86) 14.0%,rgb(255 196.5 105.45) 14.0%,rgb(255 196.5 105.45) 15.0%,rgb(255 197.66 100.93) 15.0%,rgb(255 197.66 100.93) 16.0%,rgb(255 198.85 97.044) 16.0%,rgb(255 198.85 97.044) 17.0%,rgb(255 200.09 93.741) 17.0%,rgb(255 200.09 93.741) 18.0%,rgb(255 201.38 90.806) 18.0%,rgb(255 201.38 90.806) 19.0%,rgb(255 202.73 88.054) 19.0%,rgb(255 202.73 88.054) 20.0%,rgb(255 204.13 85.334) 20.0%,rgb(255 204.13 85.334) 21.0%,rgb(255 205.61 82.678) 21.0%,rgb(255 205.61 82.678) 22.0%,rgb(255 207.13 79.691) 22.0%,rgb(255 207.13 79.691) 23.0%,rgb(255 208.72 76.288) 23.0%,rgb(255 208.72 76.288) 24.0%,rgb(255 210.37 71.722) 24.0%,rgb(255 210.37 71.722) 25.0%,rgb(255 212.07 65.467) 25.0%,rgb(255 212.07 65.467) 26.0%,rgb(255 213.85 56.366) 26.0%,rgb(255 213.85 56.366) 27.0%,rgb(255 215.7 38.953) 27.0%,rgb(255 215.7 38.953) 28.0%,rgb(255 217.68 0) 28.0%,rgb(255 217.68 0) 29.0%,rgb(255 219.96 0) 29.0%,rgb(255 219.96 0) 30.0%,rgb(255 222.4 0) 30.0%,rgb(255 222.4 0) 31.0%,rgb(255 224.98 0) 31.0%,rgb(255 224.98 0) 32.0%,rgb(254.79 227.69 0) 32.0%,rgb(254.79 227.69 0) 33.0%,rgb(251.03 230.55 0) 33.0%,rgb(251.03 230.55 0) 34.0%,rgb(246.27 233.63 0) 34.0%,rgb(246.27 233.63 0) 35.0%,rgb(240.04 237.04 0) 35.0%,rgb(240.04 237.04 0) 36.0%,rgb(231.42 240.96 0) 36.0%,rgb(231.42 240.96 0) 37.0%,rgb(218.59 245.72 0) 37.0%,rgb(218.59 245.72 0) 38.0%,rgb(197.01 252 0) 38.0%,rgb(197.01 252 0) 39.0%,rgb(152.76 255 0) 39.0%,rgb(152.76 255 0) 40.0%,rgb(119.07 255 91.39) 40.0%,rgb(119.07 255 91.39) 41.0%,rgb(118.03 255 137.69) 41.0%,rgb(118.03 255 137.69) 42.0%,rgb(118.67 255 164.2) 42.0%,rgb(118.67 255 164.2) 43.0%,rgb(120.6 255 182.61) 43.0%,rgb(120.6 255 182.61) 44.0%,rgb(122.6 255 196.16) 44.0%,rgb(122.6 255 196.16) 45.0%,rgb(124.72 255 206.68) 45.0%,rgb(124.72 255 206.68) 46.0%,rgb(125.99 255 215.04) 46.0%,rgb(125.99 255 215.04) 47.0%,rgb(126.63 255 222) 47.0%,rgb(126.63 255 222) 48.0%,rgb(126.12 255 228.01) 48.0%,rgb(126.12 255 228.01) 49.0%,rgb(124.58 255 233.46) 49.0%,rgb(124.58 255 233.46) 50.0%,rgb(121.14 255 238.64) 50.0%,rgb(121.14 255 238.64) 51.0%,rgb(115.45 255 243.89) 51.0%,rgb(115.45 255 243.89) 52.0%,rgb(107.11 255 249.51) 52.0%,rgb(107.11 255 249.51) 53.0%,rgb(57.735 255 255) 53.0%,rgb(57.735 255 255) 54.0%,rgb(0 255 255) 54.0%,rgb(0 255 255) 55.0%,rgb(140.03 253.2 255) 55.0%,rgb(140.03 253.2 255) 56.0%,rgb(160.15 249.14 255) 56.0%,rgb(160.15 249.14 255) 57.0%,rgb(172.69 245.76 255) 57.0%,rgb(172.69 245.76 255) 58.0%,rgb(181.34 242.76 255) 58.0%,rgb(181.34 242.76 255) 59.0%,rgb(187.55 240.02 255) 59.0%,rgb(187.55 240.02 255) 60.0%,rgb(192.19 237.43 255) 60.0%,rgb(192.19 237.43 255) 61.0%,rgb(195.78 234.93 255) 61.0%,rgb(195.78 234.93 255) 62.0%,rgb(198.6 232.48 255) 62.0%,rgb(198.6 232.48 255) 63.0%,rgb(200.78 230.07 255) 63.0%,rgb(200.78 230.07 255) 64.0%,rgb(202.52 227.68 255) 64.0%,rgb(202.52 227.68 255) 65.0%,rgb(203.92 225.29 255) 65.0%,rgb(203.92 225.29 255) 66.0%,rgb(205.16 222.89 255) 66.0%,rgb(205.16 222.89 255) 67.0%,rgb(206.36 220.49 255) 67.0%,rgb(206.36 220.49 255) 68.0%,rgb(207.58 218.1 255) 68.0%,rgb(207.58 218.1 255) 69.0%,rgb(208.84 215.76 255) 69.0%,rgb(208.84 215.76 255) 70.0%,rgb(210.07 213.46 255) 70.0%,rgb(210.07 213.46 255) 71.0%,rgb(211.26 211.22 255) 71.0%,rgb(211.26 211.22 255) 72.0%,rgb(212.44 209.05 255) 72.0%,rgb(212.44 209.05 255) 73.0%,rgb(213.63 206.95 255) 73.0%,rgb(213.63 206.95 255) 74.0%,rgb(214.86 204.91 255) 74.0%,rgb(214.86 204.91 255) 75.0%,rgb(216.15 202.95 255) 75.0%,rgb(216.15 202.95 255) 76.0%,rgb(217.53 201.05 255) 76.0%,rgb(217.53 201.05 255) 77.0%,rgb(219.02 199.23 255) 77.0%,rgb(219.02 199.23 255) 78.0%,rgb(220.65 197.47 255) 78.0%,rgb(220.65 197.47 255) 79.0%,rgb(222.44 195.76 255) 79.0%,rgb(222.44 195.76 255) 80.0%,rgb(224.43 194.09 255) 80.0%,rgb(224.43 194.09 255) 81.0%,rgb(226.65 192.43 255) 81.0%,rgb(226.65 192.43 255) 82.0%,rgb(229.13 190.77 255) 82.0%,rgb(229.13 190.77 255) 83.0%,rgb(231.93 189.07 255) 83.0%,rgb(231.93 189.07 255) 84.0%,rgb(235.12 187.28 255) 84.0%,rgb(235.12 187.28 255) 85.0%,rgb(238.76 185.36 255) 85.0%,rgb(238.76 185.36 255) 86.0%,rgb(242.95 183.23 255) 86.0%,rgb(242.95 183.23 255) 87.0%,rgb(247.81 180.81 255) 87.0%,rgb(247.81 180.81 255) 88.0%,rgb(253.55 177.93 255) 88.0%,rgb(253.55 177.93 255) 89.0%,rgb(255 173.48 255) 89.0%,rgb(255 173.48 255) 90.0%,rgb(255 171.09 255) 90.0%,rgb(255 171.09 255) 91.0%,rgb(255 173.19 254.4) 91.0%,rgb(255 173.19 254.4) 92.0%,rgb(255 174.51 246.73) 92.0%,rgb(255 174.51 246.73) 93.0%,rgb(255 175.66 239.71) 93.0%,rgb(255 175.66 239.71) 94.0%,rgb(255 176.72 233.18) 94.0%,rgb(255 176.72 233.18) 95.0%,rgb(255 177.68 227.11) 95.0%,rgb(255 177.68 227.11) 96.0%,rgb(255 178.57 221.41) 96.0%,rgb(255 178.57 221.41) 97.0%,rgb(255 179.39 216.04) 97.0%,rgb(255 179.39 216.04) 98.0%,rgb(255 180.17 210.94) 98.0%,rgb(255 180.17 210.94) 99.0%,rgb(255 180.9 206.06) 99.0%,rgb(255 180.9 206.06) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(255 200.22 219.68) 0%,rgb(255 200.22 219.68) 1.0%,rgb(255 200.78 216.19) 1.0%,rgb(255 200.78 216.19) 2.0%,rgb(255 201.32 212.83) 2.0%,rgb(255 201.32 212.83) 3.0%,rgb(255 201.81 209.56) 3.0%,rgb(255 201.81 209.56) 4.0%,rgb(255 202.29 206.37) 4.0%,rgb(255 202.29 206.37) 5.0%,rgb(255 202.73 203.19) 5.0%,rgb(255 202.73 203.19) 6.0%,rgb(255 203.19 200.05) 6.0%,rgb(255 203.19 200.05) 7.0%,rgb(255 203.61 196.86) 7.0%,rgb(255 203.61 196.86) 8.0%,rgb(255 204.06 193.67) 8.0%,rgb(255 204.06 193.67) 9.0%,rgb(255 204.48 190.38) 9.0%,rgb(255 204.48 190.38) 10.0%,rgb(255 204.93 187.04) 10.0%,rgb(255 204.93 187.04) 11.0%,rgb(255 205.38 183.55) 11.0%,rgb(255 205.38 183.55) 12.0%,rgb(255 205.82 179.87) 12.0%,rgb(255 205.82 179.87) 13.0%,rgb(255 206.28 175.98) 13.0%,rgb(255 206.28 175.98) 14.0%,rgb(255 206.74 171.78) 14.0%,rgb(255 206.74 171.78) 15.0%,rgb(255 207.25 167.32) 15.0%,rgb(255 207.25 167.32) 16.0%,rgb(255 207.77 162.36) 16.0%,rgb(255 207.77 162.36) 17.0%,rgb(255 208.32 156.85) 17.0%,rgb(255 208.32 156.85) 18.0%,rgb(255 208.91 150.67) 18.0%,rgb(255 208.91 150.67) 19.0%,rgb(255 209.56 143.57) 19.0%,rgb(255 209.56 143.57) 20.0%,rgb(255 210.27 135.19) 20.0%,rgb(255 210.27 135.19) 21.0%,rgb(255 211.06 125.13) 21.0%,rgb(255 211.06 125.13) 22.0%,rgb(255 211.92 112.29) 22.0%,rgb(255 211.92 112.29) 23.0%,rgb(255 212.91 95.177) 23.0%,rgb(255 212.91 95.177) 24.0%,rgb(255 214.03 68.847) 24.0%,rgb(255 214.03 68.847) 25.0%,rgb(255 215.25 0) 25.0%,rgb(255 215.25 0) 26.0%,rgb(255 217.73 0) 26.0%,rgb(255 217.73 0) 27.0%,rgb(255 221 0) 27.0%,rgb(255 221 0) 28.0%,rgb(250.98 224.44 0) 28.0%,rgb(250.98 224.44 0) 29.0%,rgb(243.09 227.87 0) 29.0%,rgb(243.09 227.87 0) 30.0%,rgb(234.63 231.32 0) 30.0%,rgb(234.63 231.32 0) 31.0%,rgb(225.4 234.84 0) 31.0%,rgb(225.4 234.84 0) 32.0%,rgb(215.2 238.45 0) 32.0%,rgb(215.2 238.45 0) 33.0%,rgb(203.7 242.2 0) 33.0%,rgb(203.7 242.2 0) 34.0%,rgb(190.43 246.12 0) 34.0%,rgb(190.43 246.12 0) 35.0%,rgb(174.66 250.27 0) 35.0%,rgb(174.66 250.27 0) 36.0%,rgb(155.08 254.69 0) 36.0%,rgb(155.08 254.69 0) 37.0%,rgb(131.8 255 0) 37.0%,rgb(131.8 255 0) 38.0%,rgb(105.52 255 0) 38.0%,rgb(105.52 255 0) 39.0%,rgb(93.012 255 76.07) 39.0%,rgb(93.012 255 76.07) 40.0%,rgb(81.492 255 108.22) 40.0%,rgb(81.492 255 108.22) 41.0%,rgb(68.994 255 130.11) 41.0%,rgb(68.994 255 130.11) 42.0%,rgb(53.715 255 147.08) 42.0%,rgb(53.715 255 147.08) 43.0%,rgb(31.8 255 161.23) 43.0%,rgb(31.8 255 161.23) 44.0%,rgb(0 255 173.37) 44.0%,rgb(0 255 173.37) 45.0%,rgb(0 255 184.55) 45.0%,rgb(0 255 184.55) 46.0%,rgb(0 255 195.03) 46.0%,rgb(0 255 195.03) 47.0%,rgb(0 255 204.77) 47.0%,rgb(0 255 204.77) 48.0%,rgb(0 255 213.87) 48.0%,rgb(0 255 213.87) 49.0%,rgb(0 255 222.45) 49.0%,rgb(0 255 222.45) 50.0%,rgb(0 255 230.57) 50.0%,rgb(0 255 230.57) 51.0%,rgb(0 255 238.34) 51.0%,rgb(0 255 238.34) 52.0%,rgb(0 255 245.79) 52.0%,rgb(0 255 245.79) 53.0%,rgb(0 255 252.99) 53.0%,rgb(0 255 252.99) 54.0%,rgb(0 255 255) 54.0%,rgb(0 255 255) 55.0%,rgb(0 254.22 255) 55.0%,rgb(0 254.22 255) 56.0%,rgb(0 251.48 255) 56.0%,rgb(0 251.48 255) 57.0%,rgb(73.055 247.5 255) 57.0%,rgb(73.055 247.5 255) 58.0%,rgb(102.28 244.33 255) 58.0%,rgb(102.28 244.33 255) 59.0%,rgb(120.37 241.66 255) 59.0%,rgb(120.37 241.66 255) 60.0%,rgb(133.61 239.35 255) 60.0%,rgb(133.61 239.35 255) 61.0%,rgb(143.74 237.34 255) 61.0%,rgb(143.74 237.34 255) 62.0%,rgb(152.04 235.54 255) 62.0%,rgb(152.04 235.54 255) 63.0%,rgb(159.04 233.91 255) 63.0%,rgb(159.04 233.91 255) 64.0%,rgb(165.08 232.42 255) 64.0%,rgb(165.08 232.42 255) 65.0%,rgb(170.39 231.04 255) 65.0%,rgb(170.39 231.04 255) 66.0%,rgb(175.12 229.75 255) 66.0%,rgb(175.12 229.75 255) 67.0%,rgb(179.43 228.53 255) 67.0%,rgb(179.43 228.53 255) 68.0%,rgb(183.41 227.37 255) 68.0%,rgb(183.41 227.37 255) 69.0%,rgb(187.05 226.25 255) 69.0%,rgb(187.05 226.25 255) 70.0%,rgb(190.57 225.16 255) 70.0%,rgb(190.57 225.16 255) 71.0%,rgb(193.87 224.1 255) 71.0%,rgb(193.87 224.1 255) 72.0%,rgb(197.05 223.04 255) 72.0%,rgb(197.05 223.04 255) 73.0%,rgb(200.14 222 255) 73.0%,rgb(200.14 222 255) 74.0%,rgb(203.15 220.95 255) 74.0%,rgb(203.15 220.95 255) 75.0%,rgb(206.12 219.88 255) 75.0%,rgb(206.12 219.88 255) 76.0%,rgb(209.1 218.8 255) 76.0%,rgb(209.1 218.8 255) 77.0%,rgb(212.08 217.68 255) 77.0%,rgb(212.08 217.68 255) 78.0%,rgb(215.1 216.52 255) 78.0%,rgb(215.1 216.52 255) 79.0%,rgb(218.18 215.31 255) 79.0%,rgb(218.18 215.31 255) 80.0%,rgb(221.36 214.02 255) 80.0%,rgb(221.36 214.02 255) 81.0%,rgb(224.67 212.65 255) 81.0%,rgb(224.67 212.65 255) 82.0%,rgb(228.14 211.17 255) 82.0%,rgb(228.14 211.17 255) 83.0%,rgb(231.82 209.55 255) 83.0%,rgb(231.82 209.55 255) 84.0%,rgb(235.77 207.76 255) 84.0%,rgb(235.77 207.76 255) 85.0%,rgb(240.03 205.77 255) 85.0%,rgb(240.03 205.77 255) 86.0%,rgb(244.74 203.48 255) 86.0%,rgb(244.74 203.48 255) 87.0%,rgb(249.97 200.83 255) 87.0%,rgb(249.97 200.83 255) 88.0%,rgb(255 197.73 255) 88.0%,rgb(255 197.73 255) 89.0%,rgb(255 195.18 255) 89.0%,rgb(255 195.18 255) 90.0%,rgb(255 193.66 255) 90.0%,rgb(255 193.66 255) 91.0%,rgb(255 193.37 255) 91.0%,rgb(255 193.37 255) 92.0%,rgb(255 194.42 251.87) 92.0%,rgb(255 194.42 251.87) 93.0%,rgb(255 195.59 245.92) 93.0%,rgb(255 195.59 245.92) 94.0%,rgb(255 196.59 240.59) 94.0%,rgb(255 196.59 240.59) 95.0%,rgb(255 197.5 235.74) 95.0%,rgb(255 197.5 235.74) 96.0%,rgb(255 198.28 231.3) 96.0%,rgb(255 198.28 231.3) 97.0%,rgb(255 199 227.19) 97.0%,rgb(255 199 227.19) 98.0%,rgb(255 199.62 223.33) 98.0%,rgb(255 199.62 223.33) 99.0%,rgb(255 200.22 219.68) 99.0%,rgb(255 200.22 219.68) 100.0%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>gma_lch</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;pspace&#39;</span><span class=p>:</span> <span class=s1>&#39;lch-d65&#39;</span><span class=p>,</span> <span class=s1>&#39;de_options&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;method&#39;</span><span class=p>:</span> <span class=s1>&#39;2000&#39;</span><span class=p>},</span> <span class=s1>&#39;jnd&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>gma_oklch</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;pspace&#39;</span><span class=p>:</span> <span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=s1>&#39;de_options&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;method&#39;</span><span class=p>:</span> <span class=s1>&#39;ok&#39;</span><span class=p>},</span> <span class=s1>&#39;jnd&#39;</span><span class=p>:</span> <span class=mf>0.02</span><span class=p>}</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=o>**</span><span class=n>gma_lch</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;oklch(90% 0.4 0)&#39;</span><span class=p>,</span> <span class=s1>&#39;oklch(90% 0.4 360)&#39;</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;longer&#39;</span><span class=p>)])</span>
<span class=go>[color(--oklch 0.84918 0.09121 357.15 / 1), color(--oklch 0.84901 0.0884 1.4712 / 1), color(--oklch 0.8489 0.08612 5.9235 / 1), color(--oklch 0.84886 0.08434 10.532 / 1), color(--oklch 0.84883 0.0831 15.333 / 1), color(--oklch 0.84898 0.08232 20.426 / 1), color(--oklch 0.84924 0.08213 25.959 / 1), color(--oklch 0.84978 0.08269 32.293 / 1), color(--oklch 0.85052 0.08518 41.028 / 1), color(--oklch 0.85133 0.0939 54.434 / 1), color(--oklch 0.85212 0.10289 62.615 / 1), color(--oklch 0.85303 0.1107 67.921 / 1), color(--oklch 0.85411 0.11725 71.661 / 1), color(--oklch 0.85537 0.12273 74.479 / 1), color(--oklch 0.85683 0.12732 76.714 / 1), color(--oklch 0.85848 0.13118 78.567 / 1), color(--oklch 0.8603 0.13454 80.176 / 1), color(--oklch 0.86231 0.13744 81.612 / 1), color(--oklch 0.86448 0.14009 82.942 / 1), color(--oklch 0.8668 0.1426 84.212 / 1), color(--oklch 0.86924 0.14512 85.452 / 1), color(--oklch 0.87184 0.14761 86.668 / 1), color(--oklch 0.87454 0.15033 87.899 / 1), color(--oklch 0.87736 0.15332 89.146 / 1), color(--oklch 0.88022 0.15699 90.455 / 1), color(--oklch 0.88312 0.16151 91.831 / 1), color(--oklch 0.88608 0.16715 93.284 / 1), color(--oklch 0.88896 0.17519 94.91 / 1), color(--oklch 0.89209 0.1837 96.476 / 1), color(--oklch 0.89662 0.18504 97.429 / 1), color(--oklch 0.90149 0.18653 98.428 / 1), color(--oklch 0.90666 0.18817 99.462 / 1), color(--oklch 0.91192 0.18997 100.6 / 1), color(--oklch 0.91436 0.19222 102.97 / 1), color(--oklch 0.91655 0.19511 105.67 / 1), color(--oklch 0.91839 0.19901 108.83 / 1), color(--oklch 0.91973 0.20459 112.66 / 1), color(--oklch 0.92028 0.21328 117.54 / 1), color(--oklch 0.91945 0.22858 124.11 / 1), color(--oklch 0.90154 0.25286 132.63 / 1), color(--oklch 0.89131 0.23503 140.47 / 1), color(--oklch 0.89656 0.19826 146.57 / 1), color(--oklch 0.90131 0.174 152.26 / 1), color(--oklch 0.90572 0.15674 157.52 / 1), color(--oklch 0.90948 0.14448 162.32 / 1), color(--oklch 0.9128 0.13538 166.67 / 1), color(--oklch 0.91541 0.12902 170.66 / 1), color(--oklch 0.9175 0.12451 174.36 / 1), color(--oklch 0.91897 0.12175 177.88 / 1), color(--oklch 0.91997 0.12035 181.28 / 1), color(--oklch 0.92027 0.12065 184.69 / 1), color(--oklch 0.91993 0.12264 188.17 / 1), color(--oklch 0.91905 0.12632 191.79 / 1), color(--oklch 0.90985 0.14607 194.89 / 1), color(--oklch 0.9054 0.15455 194.77 / 1), color(--oklch 0.92843 0.10387 196.86 / 1), color(--oklch 0.9285 0.08567 201.11 / 1), color(--oklch 0.9276 0.07299 205.88 / 1), color(--oklch 0.92601 0.06378 211.24 / 1), color(--oklch 0.92387 0.05713 217.12 / 1), color(--oklch 0.92131 0.05236 223.49 / 1), color(--oklch 0.91839 0.04909 230.23 / 1), color(--oklch 0.91519 0.04706 237.16 / 1), color(--oklch 0.91173 0.04615 243.97 / 1), color(--oklch 0.90805 0.04613 250.51 / 1), color(--oklch 0.9042 0.04686 256.64 / 1), color(--oklch 0.90027 0.04816 262.37 / 1), color(--oklch 0.89633 0.04993 267.75 / 1), color(--oklch 0.89248 0.05207 272.76 / 1), color(--oklch 0.88877 0.05452 277.36 / 1), color(--oklch 0.88519 0.05721 281.48 / 1), color(--oklch 0.88173 0.06008 285.14 / 1), color(--oklch 0.87843 0.06308 288.41 / 1), color(--oklch 0.8753 0.06617 291.35 / 1), color(--oklch 0.87237 0.0693 294.02 / 1), color(--oklch 0.86967 0.07247 296.49 / 1), color(--oklch 0.86721 0.07566 298.8 / 1), color(--oklch 0.86501 0.07887 300.99 / 1), color(--oklch 0.86308 0.08212 303.1 / 1), color(--oklch 0.86143 0.08543 305.17 / 1), color(--oklch 0.86006 0.08884 307.23 / 1), color(--oklch 0.85896 0.09241 309.3 / 1), color(--oklch 0.85815 0.09619 311.4 / 1), color(--oklch 0.85762 0.1003 313.57 / 1), color(--oklch 0.85736 0.10487 315.84 / 1), color(--oklch 0.85739 0.11002 318.19 / 1), color(--oklch 0.85769 0.11599 320.67 / 1), color(--oklch 0.8583 0.12303 323.27 / 1), color(--oklch 0.85923 0.13159 326.02 / 1), color(--oklch 0.85347 0.14015 326.72 / 1), color(--oklch 0.84964 0.14423 326.75 / 1), color(--oklch 0.85277 0.14008 326.96 / 1), color(--oklch 0.852 0.13069 330.27 / 1), color(--oklch 0.85131 0.12251 333.7 / 1), color(--oklch 0.85078 0.11526 337.28 / 1), color(--oklch 0.85031 0.10895 340.99 / 1), color(--oklch 0.84994 0.10344 344.85 / 1), color(--oklch 0.84962 0.0987 348.83 / 1), color(--oklch 0.84938 0.09464 352.93 / 1), color(--oklch 0.84918 0.09121 357.15 / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=o>**</span><span class=n>gma_oklch</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;oklch(90% 0.4 0)&#39;</span><span class=p>,</span> <span class=s1>&#39;oklch(90% 0.4 360)&#39;</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;longer&#39;</span><span class=p>)])</span>
<span class=go>[color(--oklch 0.88717 0.06673 355.33 / 1), color(--oklch 0.88718 0.06441 359.67 / 1), color(--oklch 0.88719 0.06255 4.0928 / 1), color(--oklch 0.88718 0.06113 8.5912 / 1), color(--oklch 0.88719 0.06011 13.152 / 1), color(--oklch 0.88715 0.05951 17.75 / 1), color(--oklch 0.88717 0.05925 22.369 / 1), color(--oklch 0.88713 0.05941 26.987 / 1), color(--oklch 0.88715 0.05991 31.574 / 1), color(--oklch 0.88713 0.06083 36.121 / 1), color(--oklch 0.88716 0.0621 40.588 / 1), color(--oklch 0.88717 0.06379 44.978 / 1), color(--oklch 0.88716 0.06593 49.278 / 1), color(--oklch 0.88715 0.06854 53.473 / 1), color(--oklch 0.88712 0.07167 57.565 / 1), color(--oklch 0.88715 0.07531 61.519 / 1), color(--oklch 0.88713 0.07964 65.378 / 1), color(--oklch 0.88712 0.08471 69.122 / 1), color(--oklch 0.88712 0.09063 72.748 / 1), color(--oklch 0.88713 0.09758 76.267 / 1), color(--oklch 0.88713 0.10584 79.694 / 1), color(--oklch 0.88717 0.11564 83.019 / 1), color(--oklch 0.88715 0.12763 86.283 / 1), color(--oklch 0.88719 0.14226 89.462 / 1), color(--oklch 0.88719 0.16071 92.59 / 1), color(--oklch 0.88726 0.18232 95.438 / 1), color(--oklch 0.89218 0.18372 96.494 / 1), color(--oklch 0.8987 0.18567 97.858 / 1), color(--oklch 0.90192 0.18793 100.67 / 1), color(--oklch 0.90192 0.19107 104.69 / 1), color(--oklch 0.90193 0.19529 108.7 / 1), color(--oklch 0.90192 0.20068 112.7 / 1), color(--oklch 0.90192 0.20737 116.68 / 1), color(--oklch 0.90193 0.21554 120.62 / 1), color(--oklch 0.90194 0.22539 124.54 / 1), color(--oklch 0.90194 0.23722 128.42 / 1), color(--oklch 0.90194 0.25142 132.26 / 1), color(--oklch 0.89219 0.26266 135.44 / 1), color(--oklch 0.88263 0.27371 138.18 / 1), color(--oklch 0.88175 0.25494 141.76 / 1), color(--oklch 0.88189 0.23689 145.66 / 1), color(--oklch 0.88209 0.22286 149.58 / 1), color(--oklch 0.88221 0.21214 153.5 / 1), color(--oklch 0.88229 0.20391 157.42 / 1), color(--oklch 0.88313 0.19644 161.07 / 1), color(--oklch 0.88558 0.18764 164.42 / 1), color(--oklch 0.88805 0.17994 167.95 / 1), color(--oklch 0.8905 0.17342 171.57 / 1), color(--oklch 0.89291 0.168 175.25 / 1), color(--oklch 0.8953 0.1636 178.96 / 1), color(--oklch 0.89767 0.16015 182.69 / 1), color(--oklch 0.90003 0.15756 186.42 / 1), color(--oklch 0.90238 0.15577 190.11 / 1), color(--oklch 0.90473 0.15472 193.75 / 1), color(--oklch 0.9054 0.15455 194.77 / 1), color(--oklch 0.90357 0.15414 195.17 / 1), color(--oklch 0.89711 0.15276 196.59 / 1), color(--oklch 0.89505 0.13708 199.31 / 1), color(--oklch 0.89504 0.12221 202.11 / 1), color(--oklch 0.89502 0.11028 204.96 / 1), color(--oklch 0.89502 0.10034 207.93 / 1), color(--oklch 0.895 0.09216 210.95 / 1), color(--oklch 0.89499 0.08517 214.1 / 1), color(--oklch 0.89499 0.07918 217.37 / 1), color(--oklch 0.89499 0.07401 220.78 / 1), color(--oklch 0.89499 0.06955 224.33 / 1), color(--oklch 0.89499 0.06569 228.03 / 1), color(--oklch 0.89498 0.06237 231.88 / 1), color(--oklch 0.89499 0.05949 235.92 / 1), color(--oklch 0.89497 0.05709 240.08 / 1), color(--oklch 0.89498 0.05504 244.48 / 1), color(--oklch 0.89498 0.05341 249.01 / 1), color(--oklch 0.89497 0.05215 253.7 / 1), color(--oklch 0.89497 0.05126 258.51 / 1), color(--oklch 0.89496 0.05075 263.44 / 1), color(--oklch 0.89495 0.05063 268.45 / 1), color(--oklch 0.89496 0.05088 273.51 / 1), color(--oklch 0.89495 0.05156 278.57 / 1), color(--oklch 0.89494 0.05266 283.61 / 1), color(--oklch 0.89494 0.0542 288.57 / 1), color(--oklch 0.89494 0.05623 293.44 / 1), color(--oklch 0.89493 0.0588 298.19 / 1), color(--oklch 0.89493 0.06192 302.78 / 1), color(--oklch 0.89492 0.0657 307.21 / 1), color(--oklch 0.89491 0.07022 311.49 / 1), color(--oklch 0.89492 0.07558 315.56 / 1), color(--oklch 0.8949 0.08201 319.49 / 1), color(--oklch 0.8949 0.0897 323.25 / 1), color(--oklch 0.89413 0.09833 326.36 / 1), color(--oklch 0.88972 0.10274 326.4 / 1), color(--oklch 0.88709 0.10539 326.42 / 1), color(--oklch 0.8866 0.10588 326.42 / 1), color(--oklch 0.8873 0.10102 328.09 / 1), color(--oklch 0.88727 0.09341 331.65 / 1), color(--oklch 0.88723 0.087 335.3 / 1), color(--oklch 0.88726 0.08147 339.1 / 1), color(--oklch 0.88723 0.07682 342.98 / 1), color(--oklch 0.88724 0.07284 347 / 1), color(--oklch 0.88718 0.06954 351.1 / 1), color(--oklch 0.88717 0.06673 355.33 / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_23 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_23 spellcheck=false>gma_lch = {'pspace': 'lch-d65', 'de_options': {'method': '2000'}, 'jnd': 2}
gma_oklch = {'pspace': 'oklch', 'de_options': {'method': 'ok'}, 'jnd': 0.02}

Steps([c.fit('srgb', **gma_lch) for c in Color.steps(['oklch(90% 0.4 0)', 'oklch(90% 0.4 360)'], steps=100, space='oklch', hue='longer')])
Steps([c.fit('srgb', **gma_oklch) for c in Color.steps(['oklch(90% 0.4 0)', 'oklch(90% 0.4 360)'], steps=100, space='oklch', hue='longer')])</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_23 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_23 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_23 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_23 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>It should be noted that gamut mapping will be limited by the capabilities of the perceptual space being used. Some color spaces can swing to varying degrees outside the visible spectrum and some perceptual models can tolerate this more than others. While the characteristics of the color space can affect gamut mapping results, this does not mean the gamut mapping approach does not work, only that some color models may work best under more constraints.</p> <p>Consider the example below. We take a very saturated yellow in Display P3 (<span><span class="swatch out-of-gamut" title="color(display-p3 1 1 0)"><span class=swatch-color style="--swatch-stops: #fffd00,#fffd00;"></span></span><code class=highlight><span class=nf>color</span><span class=g>(</span><span class=kc>display-p3</span><span class=w> </span><span class=m>1</span><span class=w> </span><span class=m>1</span><span class=w> </span><span class=m>0</span><span class=g>)</span></code></span>) and then we interpolate it's lightness between 0, masking off chroma so that we are only interpolating lightness. We do this interpolation in CIELCh, whose chroma can swing very far outside the visible spectrum when interpolating hues at more extreme lightness. Finally, we gamut map in various LCh models. What we can observe is some models will struggle to map some of these colors as the hue preservation can break down at extreme limits. In the cases below, this specifically happens due to negative XYZ values that are produced due to high chroma in lower lightness. Some models can tolerate this more than others.</p> <div class=playground id=__playground_24> <div class=playground-results id=__playground-results_24> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(252.75 254.32 0) 0%,rgb(252.75 254.32 0) 5.0%,rgb(236.68 239.51 0) 5.0%,rgb(236.68 239.51 0) 10.0%,rgb(220.81 224.88 0) 10.0%,rgb(220.81 224.88 0) 15.0%,rgb(205.16 210.42 0) 15.0%,rgb(205.16 210.42 0) 20.0%,rgb(189.72 196.15 0) 20.0%,rgb(189.72 196.15 0) 25.0%,rgb(174.57 182.05 0) 25.0%,rgb(174.57 182.05 0) 30.0%,rgb(159.73 168.11 0) 30.0%,rgb(159.73 168.11 0) 35.0%,rgb(145.25 154.32 0) 35.0%,rgb(145.25 154.32 0) 40.0%,rgb(131.18 140.69 0) 40.0%,rgb(131.18 140.69 0) 45.0%,rgb(117.55 127.21 0) 45.0%,rgb(117.55 127.21 0) 50.0%,rgb(104.4 113.9 0) 50.0%,rgb(104.4 113.9 0) 55.0%,rgb(91.671 100.81 0) 55.0%,rgb(91.671 100.81 0) 60.0%,rgb(78.181 88.717 0) 60.0%,rgb(78.181 88.717 0) 65.0%,rgb(66.874 75.88 0) 65.0%,rgb(66.874 75.88 0) 70.0%,rgb(56.131 63.075 0) 70.0%,rgb(56.131 63.075 0) 75.0%,rgb(45.835 50.374 0) 75.0%,rgb(45.835 50.374 0) 80.0%,rgb(35.901 37.644 0) 80.0%,rgb(35.901 37.644 0) 85.0%,rgb(25.864 24.407 0) 85.0%,rgb(25.864 24.407 0) 90.0%,rgb(11.01 6.5832 0) 90.0%,rgb(11.01 6.5832 0) 95.0%,rgb(0 0 0) 95.0%,rgb(0 0 0) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(255 247.05 201.87) 0%,rgb(255 247.05 201.87) 5.0%,rgb(245.38 237.15 0) 5.0%,rgb(245.38 237.15 0) 10.0%,rgb(230.6 222.22 0) 10.0%,rgb(230.6 222.22 0) 15.0%,rgb(216.08 207.45 0) 15.0%,rgb(216.08 207.45 0) 20.0%,rgb(201.3 193.02 0) 20.0%,rgb(201.3 193.02 0) 25.0%,rgb(186.59 178.83 0) 25.0%,rgb(186.59 178.83 0) 30.0%,rgb(172.09 164.84 0) 30.0%,rgb(172.09 164.84 0) 35.0%,rgb(157.79 151.06 0) 35.0%,rgb(157.79 151.06 0) 40.0%,rgb(143.7 137.51 0) 40.0%,rgb(143.7 137.51 0) 45.0%,rgb(129.83 124.19 0) 45.0%,rgb(129.83 124.19 0) 50.0%,rgb(116.18 111.12 0) 50.0%,rgb(116.18 111.12 0) 55.0%,rgb(102.74 98.318 0) 55.0%,rgb(102.74 98.318 0) 60.0%,rgb(89.524 85.791 0) 60.0%,rgb(89.524 85.791 0) 65.0%,rgb(76.522 73.558 0) 65.0%,rgb(76.522 73.558 0) 70.0%,rgb(63.857 61.591 0) 70.0%,rgb(63.857 61.591 0) 75.0%,rgb(51.597 49.869 0) 75.0%,rgb(51.597 49.869 0) 80.0%,rgb(39.667 38.392 0) 80.0%,rgb(39.667 38.392 0) 85.0%,rgb(29.098 26.751 0) 85.0%,rgb(29.098 26.751 0) 90.0%,rgb(16.506 14.542 0) 90.0%,rgb(16.506 14.542 0) 95.0%,rgb(0 0 0) 95.0%,rgb(0 0 0) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(254.06 254.16 0) 0%,rgb(254.06 254.16 0) 5.0%,rgb(238.15 239.34 0) 5.0%,rgb(238.15 239.34 0) 10.0%,rgb(222.44 224.69 0) 10.0%,rgb(222.44 224.69 0) 15.0%,rgb(206.93 210.22 0) 15.0%,rgb(206.93 210.22 0) 20.0%,rgb(191.64 195.93 0) 20.0%,rgb(191.64 195.93 0) 25.0%,rgb(176.67 181.81 0) 25.0%,rgb(176.67 181.81 0) 30.0%,rgb(162.12 167.82 0) 30.0%,rgb(162.12 167.82 0) 35.0%,rgb(148.25 153.91 0) 35.0%,rgb(148.25 153.91 0) 40.0%,rgb(134.97 140.12 0) 40.0%,rgb(134.97 140.12 0) 45.0%,rgb(121.67 126.63 0) 45.0%,rgb(121.67 126.63 0) 50.0%,rgb(108.73 113.34 0) 50.0%,rgb(108.73 113.34 0) 55.0%,rgb(96.178 100.27 0) 55.0%,rgb(96.178 100.27 0) 60.0%,rgb(84.055 87.422 0) 60.0%,rgb(84.055 87.422 0) 65.0%,rgb(72.396 74.79 0) 65.0%,rgb(72.396 74.79 0) 70.0%,rgb(61.24 62.377 0) 70.0%,rgb(61.24 62.377 0) 75.0%,rgb(50.628 50.164 0) 75.0%,rgb(50.628 50.164 0) 80.0%,rgb(40.587 38.105 0) 80.0%,rgb(40.587 38.105 0) 85.0%,rgb(31.027 26.104 0) 85.0%,rgb(31.027 26.104 0) 90.0%,rgb(20.202 13.187 0) 90.0%,rgb(20.202 13.187 0) 95.0%,rgb(0 0 0) 95.0%,rgb(0 0 0) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(250.98 254.42 0) 0%,rgb(250.98 254.42 0) 5.0%,rgb(234.81 239.59 0) 5.0%,rgb(234.81 239.59 0) 10.0%,rgb(218.89 224.91 0) 10.0%,rgb(218.89 224.91 0) 15.0%,rgb(203.22 210.41 0) 15.0%,rgb(203.22 210.41 0) 20.0%,rgb(187.81 196.09 0) 20.0%,rgb(187.81 196.09 0) 25.0%,rgb(172.65 181.94 0) 25.0%,rgb(172.65 181.94 0) 30.0%,rgb(157.78 167.93 0) 30.0%,rgb(157.78 167.93 0) 35.0%,rgb(143.21 154.08 0) 35.0%,rgb(143.21 154.08 0) 40.0%,rgb(128.98 140.39 0) 40.0%,rgb(128.98 140.39 0) 45.0%,rgb(115.08 126.84 0) 45.0%,rgb(115.08 126.84 0) 50.0%,rgb(101.48 113.48 0) 50.0%,rgb(101.48 113.48 0) 55.0%,rgb(87.636 100.54 0) 55.0%,rgb(87.636 100.54 0) 60.0%,rgb(96.671 0 147.87) 60.0%,rgb(96.671 0 147.87) 65.0%,rgb(82.148 0 126.62) 65.0%,rgb(82.148 0 126.62) 70.0%,rgb(67.795 0 105.63) 70.0%,rgb(67.795 0 105.63) 75.0%,rgb(53.474 0 84.684) 75.0%,rgb(53.474 0 84.684) 80.0%,rgb(38.775 0 63.183) 80.0%,rgb(38.775 0 63.183) 85.0%,rgb(21.635 0 38.111) 85.0%,rgb(21.635 0 38.111) 90.0%,rgb(0 0 0) 90.0%,rgb(0 0 0) 95.0%,rgb(0 0 0) 95.0%,rgb(0 0 0) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(254.14 254.14 0) 0%,rgb(254.14 254.14 0) 5.0%,rgb(238.13 239.34 0) 5.0%,rgb(238.13 239.34 0) 10.0%,rgb(222.29 224.73 0) 10.0%,rgb(222.29 224.73 0) 15.0%,rgb(206.62 210.31 0) 15.0%,rgb(206.62 210.31 0) 20.0%,rgb(191.13 196.08 0) 20.0%,rgb(191.13 196.08 0) 25.0%,rgb(175.93 182.02 0) 25.0%,rgb(175.93 182.02 0) 30.0%,rgb(161.07 168.12 0) 30.0%,rgb(161.07 168.12 0) 35.0%,rgb(146.6 154.37 0) 35.0%,rgb(146.6 154.37 0) 40.0%,rgb(132.57 140.79 0) 40.0%,rgb(132.57 140.79 0) 45.0%,rgb(119.06 127.35 0) 45.0%,rgb(119.06 127.35 0) 50.0%,rgb(106.13 114.06 0) 50.0%,rgb(106.13 114.06 0) 55.0%,rgb(93.84 100.92 0) 55.0%,rgb(93.84 100.92 0) 60.0%,rgb(82.219 87.934 0) 60.0%,rgb(82.219 87.934 0) 65.0%,rgb(71.224 75.122 0) 65.0%,rgb(71.224 75.122 0) 70.0%,rgb(60.712 62.529 0) 70.0%,rgb(60.712 62.529 0) 75.0%,rgb(50.434 50.222 0) 75.0%,rgb(50.434 50.222 0) 80.0%,rgb(40.089 38.261 0) 80.0%,rgb(40.089 38.261 0) 85.0%,rgb(0 22.719 69.309) 85.0%,rgb(0 22.719 69.309) 90.0%,rgb(0 12.015 43.787) 90.0%,rgb(0 12.015 43.787) 95.0%,rgb(0 0 0) 95.0%,rgb(0 0 0) 100.0%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>yellow</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(display-p3 1 1 0)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>lightness_mask</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;lch(0% none none)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>yellow</span><span class=p>,</span> <span class=n>lightness_mask</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;lch&#39;</span><span class=p>)])</span>
<span class=go>[color(--lch 97.252 94.474 99.968 / 1), color(--lch 92.116 90.244 100.33 / 1), color(--lch 86.981 86.019 100.72 / 1), color(--lch 81.848 81.8 101.15 / 1), color(--lch 76.716 77.587 101.63 / 1), color(--lch 71.583 73.375 102.14 / 1), color(--lch 66.446 69.159 102.67 / 1), color(--lch 61.303 64.934 103.2 / 1), color(--lch 56.155 60.694 103.7 / 1), color(--lch 50.999 56.432 104.17 / 1), color(--lch 45.834 52.143 104.56 / 1), color(--lch 40.663 47.836 104.91 / 1), color(--lch 35.631 43.818 106.43 / 1), color(--lch 30.421 39.374 106.27 / 1), color(--lch 25.124 34.439 105.77 / 1), color(--lch 19.731 28.372 105.2 / 1), color(--lch 14.159 21.103 104.22 / 1), color(--lch 8.1264 12.265 101.36 / 1), color(--lch 1.9671 2.9842 79.847 / 1), color(--lch 0 0 none / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;lch99o&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>yellow</span><span class=p>,</span> <span class=n>lightness_mask</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;lch&#39;</span><span class=p>)])</span>
<span class=go>[color(--lch 97.038 22.96 96.153 / 1), color(--lch 92.214 89.989 97.362 / 1), color(--lch 87.091 85.717 97.183 / 1), color(--lch 81.969 81.446 96.949 / 1), color(--lch 76.847 77.184 96.878 / 1), color(--lch 71.724 72.924 96.861 / 1), color(--lch 66.6 68.664 96.843 / 1), color(--lch 61.473 64.401 96.827 / 1), color(--lch 56.343 60.137 96.818 / 1), color(--lch 51.21 55.869 96.823 / 1), color(--lch 46.071 51.599 96.852 / 1), color(--lch 40.924 47.323 96.92 / 1), color(--lch 35.767 43.039 97.053 / 1), color(--lch 30.594 38.745 97.292 / 1), color(--lch 25.396 34.033 97.641 / 1), color(--lch 20.157 28.339 98.228 / 1), color(--lch 14.844 21.718 99.385 / 1), color(--lch 9.3945 14.051 98.579 / 1), color(--lch 4.0615 6.0794 98.13 / 1), color(--lch 0 0 none / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;hct&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>yellow</span><span class=p>,</span> <span class=n>lightness_mask</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;lch&#39;</span><span class=p>)])</span>
<span class=go>[color(--lch 97.316 94.474 99.598 / 1), color(--lch 92.189 90.239 99.889 / 1), color(--lch 87.062 86.008 100.21 / 1), color(--lch 81.937 81.782 100.56 / 1), color(--lch 76.813 77.56 100.95 / 1), color(--lch 71.688 73.334 101.34 / 1), color(--lch 66.563 69.099 101.69 / 1), color(--lch 61.437 64.832 101.85 / 1), color(--lch 56.31 60.536 101.82 / 1), color(--lch 51.178 56.255 101.94 / 1), color(--lch 46.042 51.962 102.01 / 1), color(--lch 40.898 47.651 101.99 / 1), color(--lch 35.745 43.318 101.81 / 1), color(--lch 30.577 38.956 101.39 / 1), color(--lch 25.384 34.191 100.69 / 1), color(--lch 20.152 28.407 99.637 / 1), color(--lch 14.849 21.647 97.546 / 1), color(--lch 9.4049 13.959 92.117 / 1), color(--lch 4.0759 6.2258 78.058 / 1), color(--lch 0 0 none / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;jzczhz&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>yellow</span><span class=p>,</span> <span class=n>lightness_mask</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;lch&#39;</span><span class=p>)])</span>
<span class=go>[color(--lch 97.139 94.455 100.44 / 1), color(--lch 91.987 90.221 100.84 / 1), color(--lch 86.837 85.991 101.27 / 1), color(--lch 81.689 81.766 101.73 / 1), color(--lch 76.544 77.547 102.23 / 1), color(--lch 71.395 73.327 102.76 / 1), color(--lch 66.237 69.101 103.33 / 1), color(--lch 61.067 64.865 103.92 / 1), color(--lch 55.883 60.613 104.53 / 1), color(--lch 50.68 56.34 105.17 / 1), color(--lch 45.456 52.052 105.87 / 1), color(--lch 40.235 47.847 107.09 / 1), color(--lch 25.052 77.611 313.27 / 1), color(--lch 20.684 69.351 313.27 / 1), color(--lch 16.234 60.938 313.27 / 1), color(--lch 11.635 52.242 313.27 / 1), color(--lch 6.7735 42.632 313.1 / 1), color(--lch 2.6403 23.628 305.32 / 1), color(--lch 0 0 none / 1), color(--lch 0 0 none / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;lchuv&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>yellow</span><span class=p>,</span> <span class=n>lightness_mask</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;lch&#39;</span><span class=p>)])</span>
<span class=go>[color(--lch 97.317 94.47 99.572 / 1), color(--lch 92.189 90.24 99.895 / 1), color(--lch 87.062 86.016 100.26 / 1), color(--lch 81.936 81.799 100.68 / 1), color(--lch 76.811 77.59 101.16 / 1), color(--lch 71.686 73.383 101.67 / 1), color(--lch 66.559 69.173 102.18 / 1), color(--lch 61.431 64.955 102.68 / 1), color(--lch 56.302 60.723 103.14 / 1), color(--lch 51.169 56.469 103.51 / 1), color(--lch 46.032 52.183 103.74 / 1), color(--lch 40.889 47.854 103.71 / 1), color(--lch 35.738 43.476 103.34 / 1), color(--lch 30.572 39.052 102.52 / 1), color(--lch 25.382 34.234 101.29 / 1), color(--lch 20.151 28.423 99.916 / 1), color(--lch 14.846 21.683 98.546 / 1), color(--lch 8.7143 33.663 285.14 / 1), color(--lch 3.7511 22.378 280.24 / 1), color(--lch 0 0 none / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_24 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_24 spellcheck=false>yellow = Color('color(display-p3 1 1 0)')
lightness_mask = Color('lch(0% none none)')
Steps([c.fit('srgb', method='raytrace', pspace='oklch') for c in Color.steps([yellow, lightness_mask], steps=20, space='lch')])
Steps([c.fit('srgb', method='raytrace', pspace='lch99o') for c in Color.steps([yellow, lightness_mask], steps=20, space='lch')])
Steps([c.fit('srgb', method='raytrace', pspace='hct') for c in Color.steps([yellow, lightness_mask], steps=20, space='lch')])
Steps([c.fit('srgb', method='raytrace', pspace='jzczhz') for c in Color.steps([yellow, lightness_mask], steps=20, space='lch')])
Steps([c.fit('srgb', method='raytrace', pspace='lchuv') for c in Color.steps([yellow, lightness_mask], steps=20, space='lch')])</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_24 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_24 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_24 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_24 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>Almost any perceptual model, if pushed far enough, can start to break down. Converting to and from these spaces <em>before</em> reducing chroma can introduce such disparities. Every color space has limitations, some spaces just have more agreeable ones.</p> <p>If you are working within reasonable gamuts, most will work fine. And if you want to do something like above, holding chroma really high for all lightness values, you will often find that it works best when you do it directly in the color space that is doing the gamut mapping as you will have to "fit" the color before converting to another color space.</p> <div class=playground id=__playground_25> <div class=playground-results id=__playground-results_25> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(252.75 254.32 0) 0%,rgb(252.75 254.32 0) 5.0%,rgb(235.31 236.78 0) 5.0%,rgb(235.31 236.78 0) 10.0%,rgb(218.12 219.49 0) 10.0%,rgb(218.12 219.49 0) 15.0%,rgb(201.18 202.45 0) 15.0%,rgb(201.18 202.45 0) 20.0%,rgb(184.5 185.67 0) 20.0%,rgb(184.5 185.67 0) 25.0%,rgb(168.1 169.17 0) 25.0%,rgb(168.1 169.17 0) 30.0%,rgb(151.98 152.96 0) 30.0%,rgb(151.98 152.96 0) 35.0%,rgb(136.18 137.06 0) 35.0%,rgb(136.18 137.06 0) 40.0%,rgb(120.7 121.49 0) 40.0%,rgb(120.7 121.49 0) 45.0%,rgb(105.57 106.27 0) 45.0%,rgb(105.57 106.27 0) 50.0%,rgb(90.809 91.427 0) 50.0%,rgb(90.809 91.427 0) 55.0%,rgb(76.457 76.991 0) 55.0%,rgb(76.457 76.991 0) 60.0%,rgb(62.547 62.999 0) 60.0%,rgb(62.547 62.999 0) 65.0%,rgb(49.127 49.5 0) 65.0%,rgb(49.127 49.5 0) 70.0%,rgb(36.257 36.553 0) 70.0%,rgb(36.257 36.553 0) 75.0%,rgb(24.018 24.242 0) 75.0%,rgb(24.018 24.242 0) 80.0%,rgb(12.527 12.684 0) 80.0%,rgb(12.527 12.684 0) 85.0%,rgb(3.7659 3.8194 0) 85.0%,rgb(3.7659 3.8194 0) 90.0%,rgb(0.47074 0.47743 0) 90.0%,rgb(0.47074 0.47743 0) 95.0%,rgb(0 0 0) 95.0%,rgb(0 0 0) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(255 247.05 201.87) 0%,rgb(255 247.05 201.87) 5.0%,rgb(242.56 234.93 0) 5.0%,rgb(242.56 234.93 0) 10.0%,rgb(225.26 218.15 0) 10.0%,rgb(225.26 218.15 0) 15.0%,rgb(208.49 201.87 0) 15.0%,rgb(208.49 201.87 0) 20.0%,rgb(192.24 186.11 0) 20.0%,rgb(192.24 186.11 0) 25.0%,rgb(176.51 170.84 0) 25.0%,rgb(176.51 170.84 0) 30.0%,rgb(161.29 156.08 0) 30.0%,rgb(161.29 156.08 0) 35.0%,rgb(146.58 141.81 0) 35.0%,rgb(146.58 141.81 0) 40.0%,rgb(132.37 128.02 0) 40.0%,rgb(132.37 128.02 0) 45.0%,rgb(118.67 114.73 0) 45.0%,rgb(118.67 114.73 0) 50.0%,rgb(105.47 101.91 0) 50.0%,rgb(105.47 101.91 0) 55.0%,rgb(92.76 89.585 0) 55.0%,rgb(92.76 89.585 0) 60.0%,rgb(80.556 77.744 0) 60.0%,rgb(80.556 77.744 0) 65.0%,rgb(68.91 66.374 0) 65.0%,rgb(68.91 66.374 0) 70.0%,rgb(57.966 55.439 0) 70.0%,rgb(57.966 55.439 0) 75.0%,rgb(47.692 44.958 0) 75.0%,rgb(47.692 44.958 0) 80.0%,rgb(38.05 34.957 0) 80.0%,rgb(38.05 34.957 0) 85.0%,rgb(29.009 25.466 0) 85.0%,rgb(29.009 25.466 0) 90.0%,rgb(18.145 15.39 0) 90.0%,rgb(18.145 15.39 0) 95.0%,rgb(0 0 0) 95.0%,rgb(0 0 0) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(254.06 254.16 0) 0%,rgb(254.06 254.16 0) 5.0%,rgb(239.01 239.11 0) 5.0%,rgb(239.01 239.11 0) 10.0%,rgb(224.14 224.23 0) 10.0%,rgb(224.14 224.23 0) 15.0%,rgb(209.44 209.54 0) 15.0%,rgb(209.44 209.54 0) 20.0%,rgb(194.94 195.03 0) 20.0%,rgb(194.94 195.03 0) 25.0%,rgb(180.64 180.73 0) 25.0%,rgb(180.64 180.73 0) 30.0%,rgb(166.55 166.63 0) 30.0%,rgb(166.55 166.63 0) 35.0%,rgb(152.67 152.75 0) 35.0%,rgb(152.67 152.75 0) 40.0%,rgb(139.02 139.09 0) 40.0%,rgb(139.02 139.09 0) 45.0%,rgb(125.61 125.68 0) 45.0%,rgb(125.61 125.68 0) 50.0%,rgb(112.46 112.52 0) 50.0%,rgb(112.46 112.52 0) 55.0%,rgb(99.567 99.622 0) 55.0%,rgb(99.567 99.622 0) 60.0%,rgb(86.966 87.016 0) 60.0%,rgb(86.966 87.016 0) 65.0%,rgb(74.672 74.716 0) 65.0%,rgb(74.672 74.716 0) 70.0%,rgb(62.71 62.749 0) 70.0%,rgb(62.71 62.749 0) 75.0%,rgb(51.111 51.145 0) 75.0%,rgb(51.111 51.145 0) 80.0%,rgb(39.913 39.941 0) 80.0%,rgb(39.913 39.941 0) 85.0%,rgb(29.163 29.186 0) 85.0%,rgb(29.163 29.186 0) 90.0%,rgb(18.06 18.077 0) 90.0%,rgb(18.06 18.077 0) 95.0%,rgb(0 0 0) 95.0%,rgb(0 0 0) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(250.98 254.42 0) 0%,rgb(250.98 254.42 0) 5.0%,rgb(236.31 239.71 0) 5.0%,rgb(236.31 239.71 0) 10.0%,rgb(221.79 225.14 0) 10.0%,rgb(221.79 225.14 0) 15.0%,rgb(207.41 210.7 0) 15.0%,rgb(207.41 210.7 0) 20.0%,rgb(193.19 196.41 0) 20.0%,rgb(193.19 196.41 0) 25.0%,rgb(179.12 182.27 0) 25.0%,rgb(179.12 182.27 0) 30.0%,rgb(165.21 168.28 0) 30.0%,rgb(165.21 168.28 0) 35.0%,rgb(151.47 154.44 0) 35.0%,rgb(151.47 154.44 0) 40.0%,rgb(137.89 140.77 0) 40.0%,rgb(137.89 140.77 0) 45.0%,rgb(124.48 127.25 0) 45.0%,rgb(124.48 127.25 0) 50.0%,rgb(111.24 113.88 0) 50.0%,rgb(111.24 113.88 0) 55.0%,rgb(98.16 100.67 0) 55.0%,rgb(98.16 100.67 0) 60.0%,rgb(85.238 87.601 0) 60.0%,rgb(85.238 87.601 0) 65.0%,rgb(72.457 74.657 0) 65.0%,rgb(72.457 74.657 0) 70.0%,rgb(59.792 61.81 0) 70.0%,rgb(59.792 61.81 0) 75.0%,rgb(47.194 49.006 0) 75.0%,rgb(47.194 49.006 0) 80.0%,rgb(34.567 36.144 0) 80.0%,rgb(34.567 36.144 0) 85.0%,rgb(21.708 23.005 0) 85.0%,rgb(21.708 23.005 0) 90.0%,rgb(8.141 8.9921 0) 90.0%,rgb(8.141 8.9921 0) 95.0%,rgb(0 0 0) 95.0%,rgb(0 0 0) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(254.14 254.14 0) 0%,rgb(254.14 254.14 0) 5.0%,rgb(239.09 239.09 0) 5.0%,rgb(239.09 239.09 0) 10.0%,rgb(224.21 224.21 0) 10.0%,rgb(224.21 224.21 0) 15.0%,rgb(209.51 209.51 0) 15.0%,rgb(209.51 209.51 0) 20.0%,rgb(195.01 195.01 0) 20.0%,rgb(195.01 195.01 0) 25.0%,rgb(180.71 180.71 0) 25.0%,rgb(180.71 180.71 0) 30.0%,rgb(166.61 166.61 0) 30.0%,rgb(166.61 166.61 0) 35.0%,rgb(152.73 152.73 0) 35.0%,rgb(152.73 152.73 0) 40.0%,rgb(139.08 139.08 0) 40.0%,rgb(139.08 139.08 0) 45.0%,rgb(125.66 125.66 0) 45.0%,rgb(125.66 125.66 0) 50.0%,rgb(112.5 112.5 0) 50.0%,rgb(112.5 112.5 0) 55.0%,rgb(99.61 99.61 0) 55.0%,rgb(99.61 99.61 0) 60.0%,rgb(87.004 87.004 0) 60.0%,rgb(87.004 87.004 0) 65.0%,rgb(74.706 74.706 0) 65.0%,rgb(74.706 74.706 0) 70.0%,rgb(62.74 62.74 0) 70.0%,rgb(62.74 62.74 0) 75.0%,rgb(51.137 51.137 0) 75.0%,rgb(51.137 51.137 0) 80.0%,rgb(39.935 39.935 0) 80.0%,rgb(39.935 39.935 0) 85.0%,rgb(29.181 29.181 0) 85.0%,rgb(29.181 29.181 0) 90.0%,rgb(18.073 18.073 0) 90.0%,rgb(18.073 18.073 0) 95.0%,rgb(0 0 0) 95.0%,rgb(0 0 0) 100.0%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>yellow</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(display-p3 1 1 0)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>lightness_mask</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;oklch(0% none none)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>yellow</span><span class=p>,</span> <span class=n>lightness_mask</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>)])</span>
<span class=go>[color(--oklch 0.96476 0.21094 110.23 / 1), color(--oklch 0.91399 0.19984 110.23 / 1), color(--oklch 0.86321 0.18874 110.23 / 1), color(--oklch 0.81243 0.17763 110.23 / 1), color(--oklch 0.76166 0.16653 110.23 / 1), color(--oklch 0.71088 0.15543 110.23 / 1), color(--oklch 0.6601 0.14433 110.23 / 1), color(--oklch 0.60932 0.13323 110.23 / 1), color(--oklch 0.55855 0.12212 110.23 / 1), color(--oklch 0.50777 0.11102 110.23 / 1), color(--oklch 0.45699 0.09992 110.23 / 1), color(--oklch 0.40622 0.08882 110.23 / 1), color(--oklch 0.35544 0.07772 110.23 / 1), color(--oklch 0.30466 0.06661 110.23 / 1), color(--oklch 0.25389 0.05551 110.23 / 1), color(--oklch 0.20311 0.04441 110.23 / 1), color(--oklch 0.15233 0.03331 110.23 / 1), color(--oklch 0.10155 0.0222 110.23 / 1), color(--oklch 0.05078 0.0111 110.23 / 1), color(--oklch 0 0 none / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>yellow</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(display-p3 1 1 0)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>lightness_mask</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(--lch99o 0% none none)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;lch99o&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>yellow</span><span class=p>,</span> <span class=n>lightness_mask</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;lch99o&#39;</span><span class=p>)])</span>
<span class=go>[color(--lch99o 97.304 20.716 98.051 / 1), color(--lch99o 92.182 43.933 97.877 / 1), color(--lch99o 87.061 42.844 97.877 / 1), color(--lch99o 81.94 41.72 97.877 / 1), color(--lch99o 76.819 40.558 97.877 / 1), color(--lch99o 71.697 39.356 97.877 / 1), color(--lch99o 66.576 38.109 97.877 / 1), color(--lch99o 61.455 36.813 97.877 / 1), color(--lch99o 56.334 35.464 97.877 / 1), color(--lch99o 51.212 34.055 97.877 / 1), color(--lch99o 46.091 32.58 97.877 / 1), color(--lch99o 40.97 31.031 97.877 / 1), color(--lch99o 35.849 29.399 97.877 / 1), color(--lch99o 30.727 27.581 97.877 / 1), color(--lch99o 25.606 25.272 97.877 / 1), color(--lch99o 20.485 22.368 97.877 / 1), color(--lch99o 15.364 18.721 97.877 / 1), color(--lch99o 10.242 14.071 97.877 / 1), color(--lch99o 5.1212 8.0424 97.877 / 1), color(--lch99o 0 0 none / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>yellow</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(display-p3 1 1 0)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>lightness_mask</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(--hct none none 0%)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;hct&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>yellow</span><span class=p>,</span> <span class=n>lightness_mask</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;hct&#39;</span><span class=p>)])</span>
<span class=go>[color(--hct 111.07 75.366 96.849 / 1), color(--hct 111.07 72.594 91.752 / 1), color(--hct 111.07 69.788 86.655 / 1), color(--hct 111.07 66.946 81.557 / 1), color(--hct 111.07 64.066 76.46 / 1), color(--hct 111.07 61.147 71.363 / 1), color(--hct 111.07 58.186 66.265 / 1), color(--hct 111.07 55.18 61.168 / 1), color(--hct 111.07 52.127 56.071 / 1), color(--hct 111.07 49.024 50.973 / 1), color(--hct 111.07 45.866 45.876 / 1), color(--hct 111.07 42.649 40.779 / 1), color(--hct 111.07 39.368 35.681 / 1), color(--hct 111.07 36.015 30.584 / 1), color(--hct 111.07 32.581 25.487 / 1), color(--hct 111.07 29.056 20.389 / 1), color(--hct 111.07 25.424 15.292 / 1), color(--hct 111.07 21.666 10.195 / 1), color(--hct 111.07 17.402 5.0973 / 1), color(--hct none 0 0 / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>yellow</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(display-p3 1 1 0)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>lightness_mask</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(jzczhz 0% none none)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;jzczhz&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>yellow</span><span class=p>,</span> <span class=n>lightness_mask</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;jzczhz&#39;</span><span class=p>)])</span>
<span class=go>[color(jzczhz 0.2083 0.13765 102.74 / 1), color(jzczhz 0.19734 0.13381 102.74 / 1), color(jzczhz 0.18637 0.12977 102.74 / 1), color(jzczhz 0.17541 0.12552 102.74 / 1), color(jzczhz 0.16445 0.12103 102.74 / 1), color(jzczhz 0.15348 0.1163 102.74 / 1), color(jzczhz 0.14252 0.1113 102.74 / 1), color(jzczhz 0.13156 0.10601 102.74 / 1), color(jzczhz 0.12059 0.10039 102.74 / 1), color(jzczhz 0.10963 0.09443 102.74 / 1), color(jzczhz 0.09867 0.08808 102.74 / 1), color(jzczhz 0.08771 0.0813 102.74 / 1), color(jzczhz 0.07674 0.07405 102.74 / 1), color(jzczhz 0.06578 0.06625 102.74 / 1), color(jzczhz 0.05482 0.05785 102.74 / 1), color(jzczhz 0.04385 0.04873 102.74 / 1), color(jzczhz 0.03289 0.03876 102.74 / 1), color(jzczhz 0.02193 0.02772 102.74 / 1), color(jzczhz 0.01096 0.01523 102.74 / 1), color(jzczhz 0 0 none / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>yellow</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(display-p3 1 1 0)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>lightness_mask</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(--lchuv 0% none none)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;lchuv&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>yellow</span><span class=p>,</span> <span class=n>lightness_mask</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;lchuv&#39;</span><span class=p>)])</span>
<span class=go>[color(--lchuv 96.849 106.77 85.874 / 1), color(--lchuv 91.752 101.15 85.874 / 1), color(--lchuv 86.655 95.528 85.874 / 1), color(--lchuv 81.557 89.909 85.874 / 1), color(--lchuv 76.46 84.29 85.874 / 1), color(--lchuv 71.363 78.67 85.874 / 1), color(--lchuv 66.265 73.051 85.874 / 1), color(--lchuv 61.168 67.432 85.874 / 1), color(--lchuv 56.071 61.812 85.874 / 1), color(--lchuv 50.973 56.193 85.874 / 1), color(--lchuv 45.876 50.574 85.874 / 1), color(--lchuv 40.779 44.954 85.874 / 1), color(--lchuv 35.681 39.335 85.874 / 1), color(--lchuv 30.584 33.716 85.874 / 1), color(--lchuv 25.487 28.097 85.874 / 1), color(--lchuv 20.389 22.477 85.874 / 1), color(--lchuv 15.292 16.858 85.874 / 1), color(--lchuv 10.195 11.239 85.874 / 1), color(--lchuv 5.0973 5.6193 85.874 / 1), color(--lchuv 0 0 none / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_25 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_25 spellcheck=false>yellow = Color('color(display-p3 1 1 0)')
lightness_mask = Color('oklch(0% none none)')
Steps([c.fit('srgb', method='raytrace', pspace='oklch') for c in Color.steps([yellow, lightness_mask], steps=20, space='oklch')])
yellow = Color('color(display-p3 1 1 0)')
lightness_mask = Color('color(--lch99o 0% none none)')
Steps([c.fit('srgb', method='raytrace', pspace='lch99o') for c in Color.steps([yellow, lightness_mask], steps=20, space='lch99o')])
yellow = Color('color(display-p3 1 1 0)')
lightness_mask = Color('color(--hct none none 0%)')
Steps([c.fit('srgb', method='raytrace', pspace='hct') for c in Color.steps([yellow, lightness_mask], steps=20, space='hct')])
yellow = Color('color(display-p3 1 1 0)')
lightness_mask = Color('color(jzczhz 0% none none)')
Steps([c.fit('srgb', method='raytrace', pspace='jzczhz') for c in Color.steps([yellow, lightness_mask], steps=20, space='jzczhz')])
yellow = Color('color(display-p3 1 1 0)')
lightness_mask = Color('color(--lchuv 0% none none)')
Steps([c.fit('srgb', method='raytrace', pspace='lchuv') for c in Color.steps([yellow, lightness_mask], steps=20, space='lchuv')])</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_25 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_25 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_25 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_25 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>Lastly, if we have a particular color space that we'd like to have as the default, we can derive a variant for our particular color space using our preferred method of gamut mapping. Generally it is recommended to use the base plugins <code>minde-chroma</code> or <code>raytrace</code> as the base.</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Ray Trace</label><label for=__tabbed_2_2><abbr title="minimum delta E">MINDE</abbr> Chroma</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=playground id=__playground_26> <div class=playground-results id=__playground-results_26> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(0 0 0) 0%,rgb(0 0 0) 8.333333333333334%,rgb(41 19 46) 8.333333333333334%,rgb(41 19 46) 16.666666666666668%,rgb(63 40 68) 16.666666666666668%,rgb(63 40 68) 25.0%,rgb(87 62 91) 25.0%,rgb(87 62 91) 33.333333333333336%,rgb(112 85 116) 33.333333333333336%,rgb(112 85 116) 41.66666666666667%,rgb(138 109 141) 41.66666666666667%,rgb(138 109 141) 50.00000000000001%,rgb(165 135 168) 50.00000000000001%,rgb(165 135 168) 58.33333333333334%,rgb(193 161 195) 58.33333333333334%,rgb(193 161 195) 66.66666666666667%,rgb(222 188 223) 66.66666666666667%,rgb(222 188 223) 75.0%,rgb(251 215 252) 75.0%,rgb(251 215 252) 83.33333333333333%,rgb(255 235 253) 83.33333333333333%,rgb(255 235 253) 91.66666666666666%,rgb(255 255 255) 91.66666666666666%,rgb(255 255 255) 99.99999999999999%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>coloraide.gamut.fit_raytrace</span><span class=w> </span><span class=kn>import</span> <span class=n>RayTrace</span>
<span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>coloraide.spaces.hct</span><span class=w> </span><span class=kn>import</span> <span class=n>HCT</span>
<span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>coloraide</span><span class=w> </span><span class=kn>import</span> <span class=n>Color</span> <span class=k>as</span> <span class=n>Base</span>
<span class=gp>&gt;&gt;&gt; </span><span class=k>class</span><span class=w> </span><span class=nc>HCTRayTrace</span><span class=p>(</span><span class=n>RayTrace</span><span class=p>):</span>
<span class=gp>... </span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Apply gamut mapping using ray tracing.&quot;&quot;&quot;</span>
<span class=gp>... </span>
<span class=gp>... </span>    <span class=n>NAME</span> <span class=o>=</span> <span class=s1>&#39;hct-raytrace&#39;</span>
<span class=gp>... </span>    <span class=n>PSPACE</span> <span class=o>=</span> <span class=s2>&quot;hct&quot;</span>
<span class=gp>... </span>
<span class=gp>&gt;&gt;&gt; </span><span class=k>class</span><span class=w> </span><span class=nc>Color</span><span class=p>(</span><span class=n>Base</span><span class=p>):</span> <span class=o>...</span>
<span class=gp>... </span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=o>.</span><span class=n>register</span><span class=p>([</span><span class=n>HCT</span><span class=p>(),</span> <span class=n>HCTRayTrace</span><span class=p>()])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;hct&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>325</span><span class=p>,</span> <span class=mi>24</span><span class=p>,</span> <span class=mi>50</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>tones</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>40</span><span class=p>,</span> <span class=mi>50</span><span class=p>,</span> <span class=mi>60</span><span class=p>,</span> <span class=mi>70</span><span class=p>,</span> <span class=mi>80</span><span class=p>,</span> <span class=mi>90</span><span class=p>,</span> <span class=mi>95</span><span class=p>,</span> <span class=mi>100</span><span class=p>]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>clone</span><span class=p>()</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s1>&#39;tone&#39;</span><span class=p>,</span> <span class=n>tone</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>to_string</span><span class=p>(</span><span class=nb>hex</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>fit</span><span class=o>=</span><span class=s1>&#39;hct-raytrace&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>tone</span> <span class=ow>in</span> <span class=n>tones</span><span class=p>])</span>
<span class=go>[&#39;#000000&#39;, &#39;#29132e&#39;, &#39;#3f2844&#39;, &#39;#573e5b&#39;, &#39;#705574&#39;, &#39;#8a6d8d&#39;, &#39;#a587a8&#39;, &#39;#c1a1c3&#39;, &#39;#debcdf&#39;, &#39;#fbd7fc&#39;, &#39;#ffebfd&#39;, &#39;#ffffff&#39;]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_26 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_26 spellcheck=false>from coloraide.gamut.fit_raytrace import RayTrace
from coloraide.spaces.hct import HCT
from coloraide import Color as Base

class HCTRayTrace(RayTrace):
    """Apply gamut mapping using ray tracing."""

    NAME = 'hct-raytrace'
    PSPACE = "hct"

class Color(Base): ...

Color.register([HCT(), HCTRayTrace()])

c = Color('hct', [325, 24, 50])
tones = [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 100]
Steps([c.clone().set('tone', tone).convert('srgb').to_string(hex=True, fit='hct-raytrace') for tone in tones])</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_26 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_26 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_26 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_26 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>If we want to make ray tracing the default algorithm for all gamut mapping, we can simply set <code>FIT</code> to our method.</p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Color</span><span class=p>(</span><span class=n>Base</span><span class=p>):</span>
    <span class=n>FIT</span> <span class=o>=</span> <span class=s1>&#39;hct-raytrace&#39;</span>

<span class=n>Color</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>HCTRayTrace</span><span class=p>(),</span> <span class=n>overwrite</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=playground id=__playground_27> <div class=playground-results id=__playground-results_27> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(0 0 0) 0%,rgb(0 0 0) 8.333333333333334%,rgb(41 19 46) 8.333333333333334%,rgb(41 19 46) 16.666666666666668%,rgb(63 40 68) 16.666666666666668%,rgb(63 40 68) 25.0%,rgb(87 62 91) 25.0%,rgb(87 62 91) 33.333333333333336%,rgb(112 85 116) 33.333333333333336%,rgb(112 85 116) 41.66666666666667%,rgb(138 109 141) 41.66666666666667%,rgb(138 109 141) 50.00000000000001%,rgb(165 135 168) 50.00000000000001%,rgb(165 135 168) 58.33333333333334%,rgb(193 161 195) 58.33333333333334%,rgb(193 161 195) 66.66666666666667%,rgb(222 188 223) 66.66666666666667%,rgb(222 188 223) 75.0%,rgb(251 215 252) 75.0%,rgb(251 215 252) 83.33333333333333%,rgb(255 232 255) 83.33333333333333%,rgb(255 232 255) 91.66666666666666%,rgb(255 255 255) 91.66666666666666%,rgb(255 255 255) 99.99999999999999%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>coloraide</span><span class=w> </span><span class=kn>import</span> <span class=n>Color</span> <span class=k>as</span> <span class=n>Base</span>
<span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>coloraide.spaces.hct</span><span class=w> </span><span class=kn>import</span> <span class=n>HCT</span>
<span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>coloraide.distance.delta_e_hct</span><span class=w> </span><span class=kn>import</span> <span class=n>DEHCT</span>
<span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>coloraide.gamut.fit_minde_chroma</span><span class=w> </span><span class=kn>import</span> <span class=n>MINDEChroma</span>
<span class=gp>&gt;&gt;&gt; </span><span class=k>class</span><span class=w> </span><span class=nc>HCTChroma</span><span class=p>(</span><span class=n>MINDEChroma</span><span class=p>):</span>
<span class=gp>... </span><span class=w>    </span><span class=sd>&quot;&quot;&quot;HCT chroma gamut mapping class.&quot;&quot;&quot;</span>
<span class=gp>... </span>
<span class=gp>... </span>    <span class=n>NAME</span> <span class=o>=</span> <span class=s2>&quot;hct-chroma&quot;</span>
<span class=gp>... </span>    <span class=n>JND</span> <span class=o>=</span> <span class=mf>2.0</span>
<span class=gp>... </span>    <span class=n>DE_OPTIONS</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=s2>&quot;hct&quot;</span><span class=p>}</span>
<span class=gp>... </span>    <span class=n>PSPACE</span> <span class=o>=</span> <span class=s2>&quot;hct&quot;</span>
<span class=gp>... </span>
<span class=gp>&gt;&gt;&gt; </span><span class=k>class</span><span class=w> </span><span class=nc>Color</span><span class=p>(</span><span class=n>Base</span><span class=p>):</span> <span class=o>...</span>
<span class=gp>... </span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=o>.</span><span class=n>register</span><span class=p>([</span><span class=n>HCT</span><span class=p>(),</span> <span class=n>DEHCT</span><span class=p>(),</span> <span class=n>HCTChroma</span><span class=p>()])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;hct&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>325</span><span class=p>,</span> <span class=mi>24</span><span class=p>,</span> <span class=mi>50</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>tones</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>40</span><span class=p>,</span> <span class=mi>50</span><span class=p>,</span> <span class=mi>60</span><span class=p>,</span> <span class=mi>70</span><span class=p>,</span> <span class=mi>80</span><span class=p>,</span> <span class=mi>90</span><span class=p>,</span> <span class=mi>95</span><span class=p>,</span> <span class=mi>100</span><span class=p>]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>([</span><span class=n>c</span><span class=o>.</span><span class=n>clone</span><span class=p>()</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s1>&#39;tone&#39;</span><span class=p>,</span> <span class=n>tone</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>to_string</span><span class=p>(</span><span class=nb>hex</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>fit</span><span class=o>=</span><span class=s1>&#39;hct-chroma&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>tone</span> <span class=ow>in</span> <span class=n>tones</span><span class=p>])</span>
<span class=go>[&#39;#000000&#39;, &#39;#29132e&#39;, &#39;#3f2844&#39;, &#39;#573e5b&#39;, &#39;#705574&#39;, &#39;#8a6d8d&#39;, &#39;#a587a8&#39;, &#39;#c1a1c3&#39;, &#39;#debcdf&#39;, &#39;#fbd7fc&#39;, &#39;#ffe8ff&#39;, &#39;#ffffff&#39;]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_27 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_27 spellcheck=false>from coloraide import Color as Base
from coloraide.spaces.hct import HCT
from coloraide.distance.delta_e_hct import DEHCT
from coloraide.gamut.fit_minde_chroma import MINDEChroma

class HCTChroma(MINDEChroma):
    """HCT chroma gamut mapping class."""

    NAME = "hct-chroma"
    JND = 2.0
    DE_OPTIONS = {"method": "hct"}
    PSPACE = "hct"

class Color(Base): ...

Color.register([HCT(), DEHCT(), HCTChroma()])

c = Color('hct', [325, 24, 50])
tones = [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 100]
Steps([c.clone().set('tone', tone).convert('srgb').to_string(hex=True, fit='hct-chroma') for tone in tones])</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_27 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_27 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_27 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_27 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>If we want to make ray tracing the default algorithm for all gamut mapping, we can simply set <code>FIT</code> to our method.</p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Color</span><span class=p>(</span><span class=n>Base</span><span class=p>):</span>
    <span class=n>FIT</span> <span class=o>=</span> <span class=s1>&#39;hct-chroma&#39;</span>

<span class=n>Color</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>HCTChroma</span><span class=p>(),</span> <span class=n>overwrite</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> </div> </div> </div> <h3 id=adaptive-lightness>Adaptive Lightness<a class=headerlink href=#adaptive-lightness title="Permanent link"></a></h3> <p>Both <abbr title="minimum delta E">MINDE</abbr> chroma reduction and ray trace chroma reduction support adaptive lightness. This is an option to allow for a non-constant lightness chroma reduction. Adaptive lightness allows us to essentially choose a dynamic anchor point different than our constant lightness anchor. Choosing a different anchor point can allow us to preserve more chroma/colorfulness by sacrificing some lightness.</p> <p>Essentially, a lightness focal point is selected by which the chroma reduction will be biased towards by some factor <strong></strong>. This is done by taking this focal lightness and using it as a reference by which a new, non-constant lightness anchor point is calculated relative to this focal point. The anchor point is biased more or less towards this focal lightness depending on how large or small the <strong></strong> value is respectively.</p> <p>Below shows examples of chroma reduction with a focal lightness of 50% and an <strong></strong> value of 0, 0.5, and 5 respectively.</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:3><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><input id=__tabbed_3_3 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>Constant Lightness ( = 0)</label><label for=__tabbed_3_2>Adaptive Lightness ( = 0.5)</label><label for=__tabbed_3_3>Adaptive Lightness ( = 5)</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><img alt="Adaptive Lightness  = 0" src=../images/adaptive-0.png></p> </div> <div class=tabbed-block> <p><img alt="Adaptive Lightness  = 0.5" src=../images/adaptive-05.png></p> </div> <div class=tabbed-block> <p><img alt="Adaptive Lightness  = 5" src=../images/adaptive-5.png></p> </div> </div> </div> <p>There are various ways in which adaptive lightness could be implemented, but we will talk about two basic approaches: hue independent and hue dependent.</p> <p>A hue independent approach will select some lightness focal point. This focal point can be anywhere, but it will be the same regardless of the hue. This focal point will be used to calculate new anchor points relative to the focal point based on the given <strong></strong> that will guide the chroma reduction.</p> <p>A hue dependent approach will select a lightness focal point for each hue. In such approaches, the lightness selected is often a lightness value that corresponds with the maximum chroma for the current hue in the target gamut, this lightness and chroma point being called the cusp. By biasing chroma reduction towards the lightness of the cusp, it better accounts for the geometry of the perceptual color space and ensures that the process is providing colors with more, not less, chroma in all situations.</p> <div class="tabbed-set tabbed-alternate" data-tabs=4:2><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>Hue Independent ( = 0.5)</label><label for=__tabbed_4_2>Hue Dependent ( = 0.5)</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><img alt="Hue Independent  = 0" src=../images/adaptive-hue-independent-05.png></p> </div> <div class=tabbed-block> <p><img alt="Hue Dependent  = 0.5" src=../images/adaptive-hue-dependent-05.png></p> </div> </div> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The current algorithms we use to determine anchor points relative to a lightness focal point is described in the following article by the author of Oklab:</p> <ul> <li><a href=https://bottosson.github.io/posts/gamutclipping/#adaptive-%2C-hue-independent>Hue independent</a>.</li> <li><a href=https://bottosson.github.io/posts/gamutclipping/#adaptive-%2C-hue-dependent>Hue dependent</a>.</li> </ul> <p>These algorithms are not specific to Oklab and are general functions that can be applied to any similar color space.</p> </div> <p>Generally, the hue dependent approach is the more preferable approach, but it is more complex to calculate the cusp in every supported gamut for a every perceptual space in a performant, generic way. Conversely, the hue independent approach requires no specialized calculation as the lightness focal point is a single, arbitrary point with no relation to the perceptual hue or the gamut making it fast and easy to calculate the required anchor points, but its practical range will be more limited. If only a smaller factor is needed, the hue dependent approach could be a faster, and a more desirable approach.</p> <p>Currently, ColorAide only implements a hue independent approach as a generalized approach for <em>any</em> perceptual space and <em>any</em> target gamut is difficult, that's not to say that a more specialized, limited hue dependent approach can't be offered in the future, but none are currently offered at this time.</p> <p>To enable hue independent adaptive lightness, simply set the <code>adaptive</code> option in any <abbr title="minimum delta E">MINDE</abbr> chroma or ray trace gamut mapping method. A factor of 0 is equivalent to constant lightness and will disables adaptive lightness. Any other positive value will create a bias towards the focal point of 50% lightness. The biasing of the chroma reduction towards the focal point will increase as the provided factor increases. A practical range might be more in the ballpark of 0 - 0.5, maybe even lower, but higher values can be used if desired.</p> <div class="tabbed-set tabbed-alternate" data-tabs=5:2><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><input id=__tabbed_5_2 name=__tabbed_5 type=radio><div class=tabbed-labels><label for=__tabbed_5_1>Ray Trace</label><label for=__tabbed_5_2><abbr title="minimum delta E">MINDE</abbr> Chroma</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=playground id=__playground_28> <div class=playground-results id=__playground-results_28> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(255 154.75 186.34) 0%,rgb(255 154.75 186.34) 1.0%,rgb(255 155.68 181.12) 1.0%,rgb(255 155.68 181.12) 2.0%,rgb(255 156.55 176.08) 2.0%,rgb(255 156.55 176.08) 3.0%,rgb(255 157.36 171.15) 3.0%,rgb(255 157.36 171.15) 4.0%,rgb(255 158.13 166.3) 4.0%,rgb(255 158.13 166.3) 5.0%,rgb(255 158.85 161.47) 5.0%,rgb(255 158.85 161.47) 6.0%,rgb(255 159.55 156.64) 6.0%,rgb(255 159.55 156.64) 7.0%,rgb(255 160.22 151.74) 7.0%,rgb(255 160.22 151.74) 8.0%,rgb(255 160.88 146.74) 8.0%,rgb(255 160.88 146.74) 9.0%,rgb(255 161.52 141.59) 9.0%,rgb(255 161.52 141.59) 10.0%,rgb(255 162.15 136.22) 10.0%,rgb(255 162.15 136.22) 11.0%,rgb(255 162.79 130.56) 11.0%,rgb(255 162.79 130.56) 12.0%,rgb(255 163.42 124.53) 12.0%,rgb(255 163.42 124.53) 13.0%,rgb(255 164.06 118) 13.0%,rgb(255 164.06 118) 14.0%,rgb(255 164.71 110.82) 14.0%,rgb(255 164.71 110.82) 15.0%,rgb(255 165.37 102.78) 15.0%,rgb(255 165.37 102.78) 16.0%,rgb(255 166.06 93.523) 16.0%,rgb(255 166.06 93.523) 17.0%,rgb(255 166.77 82.48) 17.0%,rgb(255 166.77 82.48) 18.0%,rgb(255 167.51 68.515) 18.0%,rgb(255 167.51 68.515) 19.0%,rgb(255 168.29 48.788) 19.0%,rgb(255 168.29 48.788) 20.0%,rgb(255 169.1 2.2915) 20.0%,rgb(255 169.1 2.2915) 21.0%,rgb(249.91 172.35 0) 21.0%,rgb(249.91 172.35 0) 22.0%,rgb(244.75 175.47 0) 22.0%,rgb(244.75 175.47 0) 23.0%,rgb(239.6 178.44 0) 23.0%,rgb(239.6 178.44 0) 24.0%,rgb(234.41 181.29 0) 24.0%,rgb(234.41 181.29 0) 25.0%,rgb(229.12 184.05 0) 25.0%,rgb(229.12 184.05 0) 26.0%,rgb(223.7 186.76 0) 26.0%,rgb(223.7 186.76 0) 27.0%,rgb(218.08 189.43 0) 27.0%,rgb(218.08 189.43 0) 28.0%,rgb(212.19 192.09 0) 28.0%,rgb(212.19 192.09 0) 29.0%,rgb(205.96 194.76 0) 29.0%,rgb(205.96 194.76 0) 30.0%,rgb(199.27 197.46 0) 30.0%,rgb(199.27 197.46 0) 31.0%,rgb(192.02 200.22 0) 31.0%,rgb(192.02 200.22 0) 32.0%,rgb(184.02 203.06 0) 32.0%,rgb(184.02 203.06 0) 33.0%,rgb(175.05 206.01 0) 33.0%,rgb(175.05 206.01 0) 34.0%,rgb(164.78 209.11 0) 34.0%,rgb(164.78 209.11 0) 35.0%,rgb(152.69 212.39 0) 35.0%,rgb(152.69 212.39 0) 36.0%,rgb(137.95 215.91 0) 36.0%,rgb(137.95 215.91 0) 37.0%,rgb(118.92 219.72 0) 37.0%,rgb(118.92 219.72 0) 38.0%,rgb(91.692 223.9 0) 38.0%,rgb(91.692 223.9 0) 39.0%,rgb(36.257 228.54 0) 39.0%,rgb(36.257 228.54 0) 40.0%,rgb(0 228.36 69.901) 40.0%,rgb(0 228.36 69.901) 41.0%,rgb(0 227.13 100.56) 41.0%,rgb(0 227.13 100.56) 42.0%,rgb(0 226 120.7) 42.0%,rgb(0 226 120.7) 43.0%,rgb(0 224.96 135.98) 43.0%,rgb(0 224.96 135.98) 44.0%,rgb(0 224 148.35) 44.0%,rgb(0 224 148.35) 45.0%,rgb(0 223.09 158.8) 45.0%,rgb(0 223.09 158.8) 46.0%,rgb(0 222.23 167.88) 46.0%,rgb(0 222.23 167.88) 47.0%,rgb(0 221.42 175.96) 47.0%,rgb(0 221.42 175.96) 48.0%,rgb(0 220.63 183.28) 48.0%,rgb(0 220.63 183.28) 49.0%,rgb(0 219.86 190.02) 49.0%,rgb(0 219.86 190.02) 50.0%,rgb(0 219.1 196.31) 50.0%,rgb(0 219.1 196.31) 51.0%,rgb(0 218.36 202.25) 51.0%,rgb(0 218.36 202.25) 52.0%,rgb(0 217.61 207.93) 52.0%,rgb(0 217.61 207.93) 53.0%,rgb(0 216.86 213.42) 53.0%,rgb(0 216.86 213.42) 54.0%,rgb(0 216.11 218.78) 54.0%,rgb(0 216.11 218.78) 55.0%,rgb(0 215.33 224.05) 55.0%,rgb(0 215.33 224.05) 56.0%,rgb(0 214.53 229.3) 56.0%,rgb(0 214.53 229.3) 57.0%,rgb(0 213.7 234.58) 57.0%,rgb(0 213.7 234.58) 58.0%,rgb(0 212.82 239.93) 58.0%,rgb(0 212.82 239.93) 59.0%,rgb(0 211.89 245.41) 59.0%,rgb(0 211.89 245.41) 60.0%,rgb(0 210.89 251.08) 60.0%,rgb(0 210.89 251.08) 61.0%,rgb(31.75 209.34 255) 61.0%,rgb(31.75 209.34 255) 62.0%,rgb(65.613 207 255) 62.0%,rgb(65.613 207 255) 63.0%,rgb(84.389 204.86 255) 63.0%,rgb(84.389 204.86 255) 64.0%,rgb(97.945 202.89 255) 64.0%,rgb(97.945 202.89 255) 65.0%,rgb(108.68 201.06 255) 65.0%,rgb(108.68 201.06 255) 66.0%,rgb(117.61 199.34 255) 66.0%,rgb(117.61 199.34 255) 67.0%,rgb(125.32 197.7 255) 67.0%,rgb(125.32 197.7 255) 68.0%,rgb(132.13 196.12 255) 68.0%,rgb(132.13 196.12 255) 69.0%,rgb(138.28 194.6 255) 69.0%,rgb(138.28 194.6 255) 70.0%,rgb(143.91 193.11 255) 70.0%,rgb(143.91 193.11 255) 71.0%,rgb(149.15 191.65 255) 71.0%,rgb(149.15 191.65 255) 72.0%,rgb(154.09 190.19 255) 72.0%,rgb(154.09 190.19 255) 73.0%,rgb(158.8 188.74 255) 73.0%,rgb(158.8 188.74 255) 74.0%,rgb(163.34 187.27 255) 74.0%,rgb(163.34 187.27 255) 75.0%,rgb(167.76 185.77 255) 75.0%,rgb(167.76 185.77 255) 76.0%,rgb(172.1 184.24 255) 76.0%,rgb(172.1 184.24 255) 77.0%,rgb(176.41 182.65 255) 77.0%,rgb(176.41 182.65 255) 78.0%,rgb(180.73 180.99 255) 78.0%,rgb(180.73 180.99 255) 79.0%,rgb(185.1 179.24 255) 79.0%,rgb(185.1 179.24 255) 80.0%,rgb(189.55 177.37 255) 80.0%,rgb(189.55 177.37 255) 81.0%,rgb(194.14 175.37 255) 81.0%,rgb(194.14 175.37 255) 82.0%,rgb(198.92 173.18 255) 82.0%,rgb(198.92 173.18 255) 83.0%,rgb(203.94 170.78 255) 83.0%,rgb(203.94 170.78 255) 84.0%,rgb(209.28 168.08 255) 84.0%,rgb(209.28 168.08 255) 85.0%,rgb(215.02 165.03 255) 85.0%,rgb(215.02 165.03 255) 86.0%,rgb(221.27 161.49 255) 86.0%,rgb(221.27 161.49 255) 87.0%,rgb(228.18 157.31 255) 87.0%,rgb(228.18 157.31 255) 88.0%,rgb(235.92 152.25 255) 88.0%,rgb(235.92 152.25 255) 89.0%,rgb(244.78 145.91 255) 89.0%,rgb(244.78 145.91 255) 90.0%,rgb(255 137.76 254.88) 90.0%,rgb(255 137.76 254.88) 91.0%,rgb(255 141.25 243.61) 91.0%,rgb(255 141.25 243.61) 92.0%,rgb(255 144.04 233.78) 92.0%,rgb(255 144.04 233.78) 93.0%,rgb(255 146.33 225.07) 93.0%,rgb(255 146.33 225.07) 94.0%,rgb(255 148.25 217.25) 94.0%,rgb(255 148.25 217.25) 95.0%,rgb(255 149.9 210.14) 95.0%,rgb(255 149.9 210.14) 96.0%,rgb(255 151.33 203.59) 96.0%,rgb(255 151.33 203.59) 97.0%,rgb(255 152.59 197.5) 97.0%,rgb(255 152.59 197.5) 98.0%,rgb(255 153.72 191.78) 98.0%,rgb(255 153.72 191.78) 99.0%,rgb(255 154.75 186.34) 99.0%,rgb(255 154.75 186.34) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(255 114.58 164.71) 0%,rgb(255 114.58 164.71) 1.0%,rgb(255 115.49 157.08) 1.0%,rgb(255 115.49 157.08) 2.0%,rgb(255 116.39 149.63) 2.0%,rgb(255 116.39 149.63) 3.0%,rgb(255 117.29 142.32) 3.0%,rgb(255 117.29 142.32) 4.0%,rgb(255 118.21 135.07) 4.0%,rgb(255 118.21 135.07) 5.0%,rgb(255 119.15 127.82) 5.0%,rgb(255 119.15 127.82) 6.0%,rgb(255 120.12 120.49) 6.0%,rgb(255 120.12 120.49) 7.0%,rgb(255 121.13 113) 7.0%,rgb(255 121.13 113) 8.0%,rgb(255 122.18 105.25) 8.0%,rgb(255 122.18 105.25) 9.0%,rgb(255 123.28 97.117) 9.0%,rgb(255 123.28 97.117) 10.0%,rgb(255 124.44 88.407) 10.0%,rgb(255 124.44 88.407) 11.0%,rgb(255 125.67 78.853) 11.0%,rgb(255 125.67 78.853) 12.0%,rgb(255 126.98 67.998) 12.0%,rgb(255 126.98 67.998) 13.0%,rgb(255 128.38 54.943) 13.0%,rgb(255 128.38 54.943) 14.0%,rgb(255 129.88 37.279) 14.0%,rgb(255 129.88 37.279) 15.0%,rgb(254.83 131.57 0) 15.0%,rgb(254.83 131.57 0) 16.0%,rgb(248.11 135.84 0) 16.0%,rgb(248.11 135.84 0) 17.0%,rgb(241.92 139.6 0) 17.0%,rgb(241.92 139.6 0) 18.0%,rgb(236.16 142.98 0) 18.0%,rgb(236.16 142.98 0) 19.0%,rgb(230.74 146.07 0) 19.0%,rgb(230.74 146.07 0) 20.0%,rgb(225.58 148.95 0) 20.0%,rgb(225.58 148.95 0) 21.0%,rgb(220.63 151.66 0) 21.0%,rgb(220.63 151.66 0) 22.0%,rgb(215.81 154.27 0) 22.0%,rgb(215.81 154.27 0) 23.0%,rgb(211.08 156.79 0) 23.0%,rgb(211.08 156.79 0) 24.0%,rgb(206.39 159.26 0) 24.0%,rgb(206.39 159.26 0) 25.0%,rgb(201.7 161.71 0) 25.0%,rgb(201.7 161.71 0) 26.0%,rgb(196.95 164.16 0) 26.0%,rgb(196.95 164.16 0) 27.0%,rgb(192.09 166.64 0) 27.0%,rgb(192.09 166.64 0) 28.0%,rgb(187.05 169.18 0) 28.0%,rgb(187.05 169.18 0) 29.0%,rgb(181.76 171.8 0) 29.0%,rgb(181.76 171.8 0) 30.0%,rgb(176.14 174.52 0) 30.0%,rgb(176.14 174.52 0) 31.0%,rgb(170.06 177.39 0) 31.0%,rgb(170.06 177.39 0) 32.0%,rgb(163.38 180.43 0) 32.0%,rgb(163.38 180.43 0) 33.0%,rgb(155.89 183.71 0) 33.0%,rgb(155.89 183.71 0) 34.0%,rgb(147.27 187.26 0) 34.0%,rgb(147.27 187.26 0) 35.0%,rgb(137.06 191.16 0) 35.0%,rgb(137.06 191.16 0) 36.0%,rgb(124.46 195.5 0) 36.0%,rgb(124.46 195.5 0) 37.0%,rgb(107.93 200.39 0) 37.0%,rgb(107.93 200.39 0) 38.0%,rgb(83.735 206 0) 38.0%,rgb(83.735 206 0) 39.0%,rgb(32.942 212.55 0) 39.0%,rgb(32.942 212.55 0) 40.0%,rgb(0 210.15 63.596) 40.0%,rgb(0 210.15 63.596) 41.0%,rgb(0 206.47 90.741) 41.0%,rgb(0 206.47 90.741) 42.0%,rgb(0 203.5 108.07) 42.0%,rgb(0 203.5 108.07) 43.0%,rgb(0 201.03 120.95) 43.0%,rgb(0 201.03 120.95) 44.0%,rgb(0 198.94 131.26) 44.0%,rgb(0 198.94 131.26) 45.0%,rgb(0 197.14 139.88) 45.0%,rgb(0 197.14 139.88) 46.0%,rgb(0 195.57 147.35) 46.0%,rgb(0 195.57 147.35) 47.0%,rgb(0 194.18 153.99) 47.0%,rgb(0 194.18 153.99) 48.0%,rgb(0 192.95 160.01) 48.0%,rgb(0 192.95 160.01) 49.0%,rgb(0 191.83 165.57) 49.0%,rgb(0 191.83 165.57) 50.0%,rgb(0 190.82 170.79) 50.0%,rgb(0 190.82 170.79) 51.0%,rgb(0 189.89 175.76) 51.0%,rgb(0 189.89 175.76) 52.0%,rgb(0 189.03 180.55) 52.0%,rgb(0 189.03 180.55) 53.0%,rgb(0 188.24 185.22) 53.0%,rgb(0 188.24 185.22) 54.0%,rgb(0 187.49 189.83) 54.0%,rgb(0 187.49 189.83) 55.0%,rgb(0 186.79 194.42) 55.0%,rgb(0 186.79 194.42) 56.0%,rgb(0 186.12 199.05) 56.0%,rgb(0 186.12 199.05) 57.0%,rgb(0 185.47 203.77) 57.0%,rgb(0 185.47 203.77) 58.0%,rgb(0 184.85 208.62) 58.0%,rgb(0 184.85 208.62) 59.0%,rgb(0 184.25 213.67) 59.0%,rgb(0 184.25 213.67) 60.0%,rgb(0 183.65 218.97) 60.0%,rgb(0 183.65 218.97) 61.0%,rgb(0 183.04 224.61) 61.0%,rgb(0 183.04 224.61) 62.0%,rgb(0 182.43 230.67) 62.0%,rgb(0 182.43 230.67) 63.0%,rgb(0 181.79 237.26) 63.0%,rgb(0 181.79 237.26) 64.0%,rgb(0 181.1 244.55) 64.0%,rgb(0 181.1 244.55) 65.0%,rgb(0 180.34 252.74) 65.0%,rgb(0 180.34 252.74) 66.0%,rgb(39.596 178.19 255) 66.0%,rgb(39.596 178.19 255) 67.0%,rgb(61.736 175.7 255) 67.0%,rgb(61.736 175.7 255) 68.0%,rgb(76.783 173.33 255) 68.0%,rgb(76.783 173.33 255) 69.0%,rgb(88.675 171.07 255) 69.0%,rgb(88.675 171.07 255) 70.0%,rgb(98.73 168.88 255) 70.0%,rgb(98.73 168.88 255) 71.0%,rgb(107.58 166.75 255) 71.0%,rgb(107.58 166.75 255) 72.0%,rgb(115.6 164.67 255) 72.0%,rgb(115.6 164.67 255) 73.0%,rgb(123.02 162.62 255) 73.0%,rgb(123.02 162.62 255) 74.0%,rgb(130 160.58 255) 74.0%,rgb(130 160.58 255) 75.0%,rgb(136.68 158.54 255) 75.0%,rgb(136.68 158.54 255) 76.0%,rgb(143.13 156.49 255) 76.0%,rgb(143.13 156.49 255) 77.0%,rgb(149.46 154.4 255) 77.0%,rgb(149.46 154.4 255) 78.0%,rgb(155.71 152.26 255) 78.0%,rgb(155.71 152.26 255) 79.0%,rgb(161.97 150.05 255) 79.0%,rgb(161.97 150.05 255) 80.0%,rgb(168.28 147.74 255) 80.0%,rgb(168.28 147.74 255) 81.0%,rgb(174.72 145.29 255) 81.0%,rgb(174.72 145.29 255) 82.0%,rgb(181.35 142.68 255) 82.0%,rgb(181.35 142.68 255) 83.0%,rgb(188.24 139.86 255) 83.0%,rgb(188.24 139.86 255) 84.0%,rgb(195.47 136.75 255) 84.0%,rgb(195.47 136.75 255) 85.0%,rgb(203.14 133.28 255) 85.0%,rgb(203.14 133.28 255) 86.0%,rgb(211.36 129.32 255) 86.0%,rgb(211.36 129.32 255) 87.0%,rgb(220.28 124.71 255) 87.0%,rgb(220.28 124.71 255) 88.0%,rgb(230.09 119.18 255) 88.0%,rgb(230.09 119.18 255) 89.0%,rgb(241.02 112.31 255) 89.0%,rgb(241.02 112.31 255) 90.0%,rgb(253.41 103.37 255) 90.0%,rgb(253.41 103.37 255) 91.0%,rgb(255 104.26 242.9) 91.0%,rgb(255 104.26 242.9) 92.0%,rgb(255 106.25 230.39) 92.0%,rgb(255 106.25 230.39) 93.0%,rgb(255 107.9 218.96) 93.0%,rgb(255 107.9 218.96) 94.0%,rgb(255 109.3 208.44) 94.0%,rgb(255 109.3 208.44) 95.0%,rgb(255 110.54 198.66) 95.0%,rgb(255 110.54 198.66) 96.0%,rgb(255 111.65 189.5) 96.0%,rgb(255 111.65 189.5) 97.0%,rgb(255 112.68 180.85) 97.0%,rgb(255 112.68 180.85) 98.0%,rgb(255 113.65 172.61) 98.0%,rgb(255 113.65 172.61) 99.0%,rgb(255 114.58 164.71) 99.0%,rgb(255 114.58 164.71) 100.0%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>[</span>
<span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>adaptive</span><span class=o>=</span><span class=mf>0.0</span><span class=p>)</span>
<span class=gp>... </span>        <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;oklch(80% 0.4 0)&#39;</span><span class=p>,</span> <span class=s1>&#39;oklch(80% 0.4 360)&#39;</span><span class=p>],</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;longer&#39;</span><span class=p>)</span>
<span class=gp>... </span>    <span class=p>]</span>
<span class=gp>... </span><span class=p>)</span>
<span class=go>[color(--oklch 0.8 0.12455 360 / 1), color(--oklch 0.8 0.12152 3.6364 / 1), color(--oklch 0.8 0.11908 7.2727 / 1), color(--oklch 0.8 0.11718 10.909 / 1), color(--oklch 0.8 0.11577 14.545 / 1), color(--oklch 0.8 0.11484 18.182 / 1), color(--oklch 0.8 0.11437 21.818 / 1), color(--oklch 0.8 0.11434 25.455 / 1), color(--oklch 0.8 0.11476 29.091 / 1), color(--oklch 0.8 0.11563 32.727 / 1), color(--oklch 0.8 0.11697 36.364 / 1), color(--oklch 0.8 0.11881 40 / 1), color(--oklch 0.8 0.12119 43.636 / 1), color(--oklch 0.8 0.12416 47.273 / 1), color(--oklch 0.8 0.12778 50.909 / 1), color(--oklch 0.8 0.13214 54.546 / 1), color(--oklch 0.8 0.13735 58.185 / 1), color(--oklch 0.8 0.14357 61.826 / 1), color(--oklch 0.8 0.15099 65.476 / 1), color(--oklch 0.8 0.15982 69.118 / 1), color(--oklch 0.8 0.17031 72.727 / 1), color(--oklch 0.8 0.16779 76.364 / 1), color(--oklch 0.8 0.1657 80 / 1), color(--oklch 0.8 0.1643 83.636 / 1), color(--oklch 0.8 0.16359 87.273 / 1), color(--oklch 0.8 0.16353 90.909 / 1), color(--oklch 0.8 0.16414 94.545 / 1), color(--oklch 0.8 0.16542 98.182 / 1), color(--oklch 0.8 0.1674 101.82 / 1), color(--oklch 0.8 0.17012 105.45 / 1), color(--oklch 0.8 0.17364 109.09 / 1), color(--oklch 0.8 0.17804 112.73 / 1), color(--oklch 0.8 0.18342 116.36 / 1), color(--oklch 0.8 0.18993 120 / 1), color(--oklch 0.8 0.19775 123.64 / 1), color(--oklch 0.8 0.2071 127.27 / 1), color(--oklch 0.8 0.21831 130.91 / 1), color(--oklch 0.8 0.23178 134.55 / 1), color(--oklch 0.8 0.24809 138.18 / 1), color(--oklch 0.8 0.26802 141.82 / 1), color(--oklch 0.8 0.24828 145.45 / 1), color(--oklch 0.8 0.22524 149.09 / 1), color(--oklch 0.8 0.20717 152.73 / 1), color(--oklch 0.8 0.19271 156.36 / 1), color(--oklch 0.8 0.18097 160 / 1), color(--oklch 0.8 0.17135 163.64 / 1), color(--oklch 0.8 0.16341 167.27 / 1), color(--oklch 0.8 0.15685 170.91 / 1), color(--oklch 0.8 0.15144 174.55 / 1), color(--oklch 0.8 0.14702 178.18 / 1), color(--oklch 0.8 0.14346 181.82 / 1), color(--oklch 0.8 0.14067 185.45 / 1), color(--oklch 0.8 0.13857 189.09 / 1), color(--oklch 0.8 0.13711 192.73 / 1), color(--oklch 0.8 0.13626 196.36 / 1), color(--oklch 0.8 0.136 200 / 1), color(--oklch 0.8 0.13634 203.64 / 1), color(--oklch 0.8 0.13726 207.27 / 1), color(--oklch 0.8 0.1388 210.91 / 1), color(--oklch 0.8 0.141 214.55 / 1), color(--oklch 0.8 0.14391 218.18 / 1), color(--oklch 0.8 0.14309 221.82 / 1), color(--oklch 0.8 0.13463 225.45 / 1), color(--oklch 0.8 0.1276 229.09 / 1), color(--oklch 0.8 0.12174 232.73 / 1), color(--oklch 0.8 0.11684 236.36 / 1), color(--oklch 0.8 0.11276 240 / 1), color(--oklch 0.8 0.10938 243.64 / 1), color(--oklch 0.8 0.10661 247.27 / 1), color(--oklch 0.8 0.10439 250.91 / 1), color(--oklch 0.8 0.10267 254.55 / 1), color(--oklch 0.8 0.1014 258.18 / 1), color(--oklch 0.8 0.10057 261.82 / 1), color(--oklch 0.8 0.10015 265.45 / 1), color(--oklch 0.8 0.10013 269.09 / 1), color(--oklch 0.8 0.10052 272.73 / 1), color(--oklch 0.8 0.10132 276.36 / 1), color(--oklch 0.8 0.10255 280 / 1), color(--oklch 0.8 0.10424 283.64 / 1), color(--oklch 0.8 0.10642 287.27 / 1), color(--oklch 0.8 0.10914 290.91 / 1), color(--oklch 0.8 0.11247 294.55 / 1), color(--oklch 0.8 0.11649 298.18 / 1), color(--oklch 0.8 0.12132 301.82 / 1), color(--oklch 0.8 0.1271 305.45 / 1), color(--oklch 0.8 0.13402 309.09 / 1), color(--oklch 0.8 0.14236 312.73 / 1), color(--oklch 0.8 0.15245 316.36 / 1), color(--oklch 0.8 0.1648 320 / 1), color(--oklch 0.8 0.18012 323.64 / 1), color(--oklch 0.8 0.19909 327.27 / 1), color(--oklch 0.8 0.18377 330.91 / 1), color(--oklch 0.8 0.1711 334.55 / 1), color(--oklch 0.8 0.16053 338.18 / 1), color(--oklch 0.8 0.15168 341.82 / 1), color(--oklch 0.8 0.14423 345.45 / 1), color(--oklch 0.8 0.13796 349.09 / 1), color(--oklch 0.8 0.13268 352.73 / 1), color(--oklch 0.8 0.12824 356.36 / 1), color(--oklch 0.8 0.12455 360 / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>[</span>
<span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>adaptive</span><span class=o>=</span><span class=mf>0.5</span><span class=p>)</span>
<span class=gp>... </span>        <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;oklch(80% 0.4 0)&#39;</span><span class=p>,</span> <span class=s1>&#39;oklch(80% 0.4 360)&#39;</span><span class=p>],</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;longer&#39;</span><span class=p>)</span>
<span class=gp>... </span>    <span class=p>]</span>
<span class=gp>... </span><span class=p>)</span>
<span class=go>[color(--oklch 0.73529 0.17729 0 / 1), color(--oklch 0.73426 0.17375 3.6364 / 1), color(--oklch 0.73342 0.17086 7.2727 / 1), color(--oklch 0.73275 0.16857 10.909 / 1), color(--oklch 0.73225 0.16684 14.545 / 1), color(--oklch 0.7319 0.16565 18.182 / 1), color(--oklch 0.73171 0.16498 21.818 / 1), color(--oklch 0.73167 0.16483 25.455 / 1), color(--oklch 0.73177 0.1652 29.091 / 1), color(--oklch 0.73203 0.16608 32.727 / 1), color(--oklch 0.73244 0.16751 36.364 / 1), color(--oklch 0.73302 0.16949 40 / 1), color(--oklch 0.73377 0.17207 43.636 / 1), color(--oklch 0.7347 0.17528 47.273 / 1), color(--oklch 0.73584 0.17918 50.91 / 1), color(--oklch 0.73709 0.18351 54.546 / 1), color(--oklch 0.73478 0.17554 58.182 / 1), color(--oklch 0.73286 0.16893 61.818 / 1), color(--oklch 0.73128 0.16349 65.455 / 1), color(--oklch 0.72998 0.15904 69.091 / 1), color(--oklch 0.72895 0.15549 72.726 / 1), color(--oklch 0.72815 0.15273 76.357 / 1), color(--oklch 0.72757 0.1507 79.992 / 1), color(--oklch 0.72717 0.14935 83.633 / 1), color(--oklch 0.72697 0.14865 87.271 / 1), color(--oklch 0.72695 0.1486 90.909 / 1), color(--oklch 0.72712 0.14919 94.545 / 1), color(--oklch 0.72748 0.15042 98.182 / 1), color(--oklch 0.72804 0.15234 101.82 / 1), color(--oklch 0.7288 0.15498 105.45 / 1), color(--oklch 0.7298 0.1584 109.09 / 1), color(--oklch 0.73105 0.16269 112.73 / 1), color(--oklch 0.73258 0.16796 116.36 / 1), color(--oklch 0.73444 0.17437 120 / 1), color(--oklch 0.73669 0.1821 123.64 / 1), color(--oklch 0.73939 0.19141 127.27 / 1), color(--oklch 0.74266 0.20266 130.91 / 1), color(--oklch 0.74663 0.21632 134.55 / 1), color(--oklch 0.75149 0.23305 138.18 / 1), color(--oklch 0.75752 0.25379 141.82 / 1), color(--oklch 0.75155 0.23325 145.45 / 1), color(--oklch 0.74469 0.20967 149.09 / 1), color(--oklch 0.73941 0.19148 152.73 / 1), color(--oklch 0.73524 0.17711 156.36 / 1), color(--oklch 0.73188 0.16556 160 / 1), color(--oklch 0.72915 0.15617 163.64 / 1), color(--oklch 0.72692 0.14848 167.27 / 1), color(--oklch 0.72508 0.14216 170.91 / 1), color(--oklch 0.72357 0.13698 174.55 / 1), color(--oklch 0.72235 0.13275 178.18 / 1), color(--oklch 0.72136 0.12936 181.82 / 1), color(--oklch 0.72059 0.12671 185.45 / 1), color(--oklch 0.72001 0.12471 189.09 / 1), color(--oklch 0.71961 0.12333 192.73 / 1), color(--oklch 0.71938 0.12253 196.36 / 1), color(--oklch 0.7193 0.12229 200 / 1), color(--oklch 0.7194 0.1226 203.64 / 1), color(--oklch 0.71965 0.12347 207.27 / 1), color(--oklch 0.72008 0.12494 210.91 / 1), color(--oklch 0.72068 0.12702 214.55 / 1), color(--oklch 0.72149 0.12979 218.18 / 1), color(--oklch 0.72251 0.13332 221.82 / 1), color(--oklch 0.72379 0.13771 225.46 / 1), color(--oklch 0.72535 0.14311 229.09 / 1), color(--oklch 0.72727 0.14971 232.73 / 1), color(--oklch 0.72963 0.15781 236.36 / 1), color(--oklch 0.72931 0.15671 240 / 1), color(--oklch 0.72816 0.15276 243.64 / 1), color(--oklch 0.72721 0.1495 247.27 / 1), color(--oklch 0.72645 0.14687 250.91 / 1), color(--oklch 0.72585 0.14482 254.55 / 1), color(--oklch 0.72542 0.14332 258.18 / 1), color(--oklch 0.72513 0.14233 261.82 / 1), color(--oklch 0.72499 0.14184 265.45 / 1), color(--oklch 0.72499 0.14185 269.09 / 1), color(--oklch 0.72513 0.14235 272.73 / 1), color(--oklch 0.72542 0.14335 276.36 / 1), color(--oklch 0.72586 0.14486 280 / 1), color(--oklch 0.72646 0.14692 283.64 / 1), color(--oklch 0.72723 0.14955 287.27 / 1), color(--oklch 0.72818 0.15282 290.91 / 1), color(--oklch 0.72933 0.15678 294.55 / 1), color(--oklch 0.7307 0.16151 298.18 / 1), color(--oklch 0.73233 0.16712 301.82 / 1), color(--oklch 0.73425 0.17373 305.45 / 1), color(--oklch 0.73652 0.18152 309.09 / 1), color(--oklch 0.73918 0.1907 312.73 / 1), color(--oklch 0.74233 0.20154 316.36 / 1), color(--oklch 0.74608 0.21443 320 / 1), color(--oklch 0.75056 0.22985 323.64 / 1), color(--oklch 0.75598 0.24851 327.27 / 1), color(--oklch 0.75313 0.2387 330.91 / 1), color(--oklch 0.7496 0.22655 334.55 / 1), color(--oklch 0.74655 0.21605 338.18 / 1), color(--oklch 0.74391 0.20697 341.82 / 1), color(--oklch 0.74163 0.19911 345.45 / 1), color(--oklch 0.73966 0.19233 349.09 / 1), color(--oklch 0.73796 0.1865 352.73 / 1), color(--oklch 0.73651 0.18151 356.36 / 1), color(--oklch 0.73529 0.17729 0 / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_28 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_28 spellcheck=false>Steps(
    [
        c.fit('srgb', method='raytrace', pspace='oklch', adaptive=0.0)
        for c in Color.steps(['oklch(80% 0.4 0)', 'oklch(80% 0.4 360)'], space='oklch', steps=100, hue='longer')
    ]
)
Steps(
    [
        c.fit('srgb', method='raytrace', pspace='oklch', adaptive=0.5)
        for c in Color.steps(['oklch(80% 0.4 0)', 'oklch(80% 0.4 360)'], space='oklch', steps=100, hue='longer')
    ]
)</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_28 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_28 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_28 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_28 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> </div> <div class=tabbed-block> <div class=playground id=__playground_29> <div class=playground-results id=__playground-results_29> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(255 154.73 186.34) 0%,rgb(255 154.73 186.34) 1.0%,rgb(255 155.66 181.12) 1.0%,rgb(255 155.66 181.12) 2.0%,rgb(255 156.53 176.07) 2.0%,rgb(255 156.53 176.07) 3.0%,rgb(255 157.36 171.15) 3.0%,rgb(255 157.36 171.15) 4.0%,rgb(255 158.11 166.29) 4.0%,rgb(255 158.11 166.29) 5.0%,rgb(255 158.85 161.47) 5.0%,rgb(255 158.85 161.47) 6.0%,rgb(255 159.52 156.61) 6.0%,rgb(255 159.52 156.61) 7.0%,rgb(255 160.22 151.74) 7.0%,rgb(255 160.22 151.74) 8.0%,rgb(255 160.85 146.71) 8.0%,rgb(255 160.85 146.71) 9.0%,rgb(255 161.49 141.55) 9.0%,rgb(255 161.49 141.55) 10.0%,rgb(255 162.15 136.21) 10.0%,rgb(255 162.15 136.21) 11.0%,rgb(255 162.78 130.54) 11.0%,rgb(255 162.78 130.54) 12.0%,rgb(255 163.39 124.47) 12.0%,rgb(255 163.39 124.47) 13.0%,rgb(255 164.04 117.96) 13.0%,rgb(255 164.04 117.96) 14.0%,rgb(255 164.69 110.78) 14.0%,rgb(255 164.69 110.78) 15.0%,rgb(255 165.35 102.71) 15.0%,rgb(255 165.35 102.71) 16.0%,rgb(255 166.04 93.481) 16.0%,rgb(255 166.04 93.481) 17.0%,rgb(255 166.76 82.508) 17.0%,rgb(255 166.76 82.508) 18.0%,rgb(255 167.5 68.561) 18.0%,rgb(255 167.5 68.561) 19.0%,rgb(255 168.28 48.944) 19.0%,rgb(255 168.28 48.944) 20.0%,rgb(255 169.1 2.2469) 20.0%,rgb(255 169.1 2.2469) 21.0%,rgb(249.93 172.34 0) 21.0%,rgb(249.93 172.34 0) 22.0%,rgb(244.76 175.47 0) 22.0%,rgb(244.76 175.47 0) 23.0%,rgb(239.61 178.43 0) 23.0%,rgb(239.61 178.43 0) 24.0%,rgb(234.43 181.28 0) 24.0%,rgb(234.43 181.28 0) 25.0%,rgb(229.13 184.05 0) 25.0%,rgb(229.13 184.05 0) 26.0%,rgb(223.71 186.76 0) 26.0%,rgb(223.71 186.76 0) 27.0%,rgb(218.08 189.43 0) 27.0%,rgb(218.08 189.43 0) 28.0%,rgb(212.2 192.09 0) 28.0%,rgb(212.2 192.09 0) 29.0%,rgb(205.97 194.76 0) 29.0%,rgb(205.97 194.76 0) 30.0%,rgb(199.28 197.46 0) 30.0%,rgb(199.28 197.46 0) 31.0%,rgb(192.02 200.22 0) 31.0%,rgb(192.02 200.22 0) 32.0%,rgb(184.02 203.06 0) 32.0%,rgb(184.02 203.06 0) 33.0%,rgb(175.05 206.01 0) 33.0%,rgb(175.05 206.01 0) 34.0%,rgb(164.78 209.11 0) 34.0%,rgb(164.78 209.11 0) 35.0%,rgb(152.69 212.4 0) 35.0%,rgb(152.69 212.4 0) 36.0%,rgb(137.93 215.91 0) 36.0%,rgb(137.93 215.91 0) 37.0%,rgb(118.9 219.72 0) 37.0%,rgb(118.9 219.72 0) 38.0%,rgb(91.662 223.9 0) 38.0%,rgb(91.662 223.9 0) 39.0%,rgb(36.169 228.54 0) 39.0%,rgb(36.169 228.54 0) 40.0%,rgb(0 228.37 69.856) 40.0%,rgb(0 228.37 69.856) 41.0%,rgb(0 227.14 100.53) 41.0%,rgb(0 227.14 100.53) 42.0%,rgb(0 226.01 120.68) 42.0%,rgb(0 226.01 120.68) 43.0%,rgb(0 224.97 135.96) 43.0%,rgb(0 224.97 135.96) 44.0%,rgb(0 224.01 148.33) 44.0%,rgb(0 224.01 148.33) 45.0%,rgb(0 223.1 158.79) 45.0%,rgb(0 223.1 158.79) 46.0%,rgb(0 222.25 167.87) 46.0%,rgb(0 222.25 167.87) 47.0%,rgb(0 221.43 175.96) 47.0%,rgb(0 221.43 175.96) 48.0%,rgb(0 220.63 183.28) 48.0%,rgb(0 220.63 183.28) 49.0%,rgb(0 219.86 190.02) 49.0%,rgb(0 219.86 190.02) 50.0%,rgb(0 219.12 196.32) 50.0%,rgb(0 219.12 196.32) 51.0%,rgb(0 218.37 202.26) 51.0%,rgb(0 218.37 202.26) 52.0%,rgb(0 217.61 207.94) 52.0%,rgb(0 217.61 207.94) 53.0%,rgb(0 216.86 213.42) 53.0%,rgb(0 216.86 213.42) 54.0%,rgb(0 216.12 218.79) 54.0%,rgb(0 216.12 218.79) 55.0%,rgb(0 215.33 224.06) 55.0%,rgb(0 215.33 224.06) 56.0%,rgb(0 214.54 229.33) 56.0%,rgb(0 214.54 229.33) 57.0%,rgb(0 213.7 234.59) 57.0%,rgb(0 213.7 234.59) 58.0%,rgb(0 212.83 239.95) 58.0%,rgb(0 212.83 239.95) 59.0%,rgb(0 211.89 245.42) 59.0%,rgb(0 211.89 245.42) 60.0%,rgb(0 210.9 251.1) 60.0%,rgb(0 210.9 251.1) 61.0%,rgb(31.43 209.35 255) 61.0%,rgb(31.43 209.35 255) 62.0%,rgb(65.553 207 255) 62.0%,rgb(65.553 207 255) 63.0%,rgb(84.345 204.86 255) 63.0%,rgb(84.345 204.86 255) 64.0%,rgb(97.902 202.9 255) 64.0%,rgb(97.902 202.9 255) 65.0%,rgb(108.62 201.07 255) 65.0%,rgb(108.62 201.07 255) 66.0%,rgb(117.59 199.34 255) 66.0%,rgb(117.59 199.34 255) 67.0%,rgb(125.25 197.7 255) 67.0%,rgb(125.25 197.7 255) 68.0%,rgb(132.11 196.12 255) 68.0%,rgb(132.11 196.12 255) 69.0%,rgb(138.27 194.6 255) 69.0%,rgb(138.27 194.6 255) 70.0%,rgb(143.88 193.11 255) 70.0%,rgb(143.88 193.11 255) 71.0%,rgb(149.12 191.65 255) 71.0%,rgb(149.12 191.65 255) 72.0%,rgb(154.08 190.19 255) 72.0%,rgb(154.08 190.19 255) 73.0%,rgb(158.78 188.73 255) 73.0%,rgb(158.78 188.73 255) 74.0%,rgb(163.32 187.26 255) 74.0%,rgb(163.32 187.26 255) 75.0%,rgb(167.74 185.77 255) 75.0%,rgb(167.74 185.77 255) 76.0%,rgb(172.09 184.23 255) 76.0%,rgb(172.09 184.23 255) 77.0%,rgb(176.4 182.64 255) 77.0%,rgb(176.4 182.64 255) 78.0%,rgb(180.72 180.98 255) 78.0%,rgb(180.72 180.98 255) 79.0%,rgb(185.09 179.23 255) 79.0%,rgb(185.09 179.23 255) 80.0%,rgb(189.55 177.37 255) 80.0%,rgb(189.55 177.37 255) 81.0%,rgb(194.14 175.36 255) 81.0%,rgb(194.14 175.36 255) 82.0%,rgb(198.92 173.18 255) 82.0%,rgb(198.92 173.18 255) 83.0%,rgb(203.95 170.76 255) 83.0%,rgb(203.95 170.76 255) 84.0%,rgb(209.29 168.07 255) 84.0%,rgb(209.29 168.07 255) 85.0%,rgb(215.03 165.01 255) 85.0%,rgb(215.03 165.01 255) 86.0%,rgb(221.28 161.48 255) 86.0%,rgb(221.28 161.48 255) 87.0%,rgb(228.2 157.29 255) 87.0%,rgb(228.2 157.29 255) 88.0%,rgb(235.94 152.23 255) 88.0%,rgb(235.94 152.23 255) 89.0%,rgb(244.79 145.89 255) 89.0%,rgb(244.79 145.89 255) 90.0%,rgb(255 137.75 254.89) 90.0%,rgb(255 137.75 254.89) 91.0%,rgb(255 141.24 243.62) 91.0%,rgb(255 141.24 243.62) 92.0%,rgb(255 144 233.8) 92.0%,rgb(255 144 233.8) 93.0%,rgb(255 146.32 225.07) 93.0%,rgb(255 146.32 225.07) 94.0%,rgb(255 148.23 217.26) 94.0%,rgb(255 148.23 217.26) 95.0%,rgb(255 149.9 210.14) 95.0%,rgb(255 149.9 210.14) 96.0%,rgb(255 151.32 203.6) 96.0%,rgb(255 151.32 203.6) 97.0%,rgb(255 152.58 197.5) 97.0%,rgb(255 152.58 197.5) 98.0%,rgb(255 153.7 191.78) 98.0%,rgb(255 153.7 191.78) 99.0%,rgb(255 154.73 186.34) 99.0%,rgb(255 154.73 186.34) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(255 114.57 164.71) 0%,rgb(255 114.57 164.71) 1.0%,rgb(255 115.49 157.08) 1.0%,rgb(255 115.49 157.08) 2.0%,rgb(255 116.38 149.63) 2.0%,rgb(255 116.38 149.63) 3.0%,rgb(255 117.29 142.32) 3.0%,rgb(255 117.29 142.32) 4.0%,rgb(255 118.21 135.07) 4.0%,rgb(255 118.21 135.07) 5.0%,rgb(255 119.15 127.82) 5.0%,rgb(255 119.15 127.82) 6.0%,rgb(255 120.12 120.49) 6.0%,rgb(255 120.12 120.49) 7.0%,rgb(255 121.12 113) 7.0%,rgb(255 121.12 113) 8.0%,rgb(255 122.17 105.25) 8.0%,rgb(255 122.17 105.25) 9.0%,rgb(255 123.28 97.115) 9.0%,rgb(255 123.28 97.115) 10.0%,rgb(255 124.43 88.396) 10.0%,rgb(255 124.43 88.396) 11.0%,rgb(255 125.67 78.843) 11.0%,rgb(255 125.67 78.843) 12.0%,rgb(255 126.98 67.996) 12.0%,rgb(255 126.98 67.996) 13.0%,rgb(255 128.38 54.929) 13.0%,rgb(255 128.38 54.929) 14.0%,rgb(255 129.88 37.254) 14.0%,rgb(255 129.88 37.254) 15.0%,rgb(254.84 131.57 0) 15.0%,rgb(254.84 131.57 0) 16.0%,rgb(248.12 135.84 0) 16.0%,rgb(248.12 135.84 0) 17.0%,rgb(241.93 139.6 0) 17.0%,rgb(241.93 139.6 0) 18.0%,rgb(236.17 142.98 0) 18.0%,rgb(236.17 142.98 0) 19.0%,rgb(230.74 146.07 0) 19.0%,rgb(230.74 146.07 0) 20.0%,rgb(225.58 148.95 0) 20.0%,rgb(225.58 148.95 0) 21.0%,rgb(220.62 151.67 0) 21.0%,rgb(220.62 151.67 0) 22.0%,rgb(215.81 154.27 0) 22.0%,rgb(215.81 154.27 0) 23.0%,rgb(211.08 156.79 0) 23.0%,rgb(211.08 156.79 0) 24.0%,rgb(206.39 159.26 0) 24.0%,rgb(206.39 159.26 0) 25.0%,rgb(201.7 161.71 0) 25.0%,rgb(201.7 161.71 0) 26.0%,rgb(196.95 164.16 0) 26.0%,rgb(196.95 164.16 0) 27.0%,rgb(192.09 166.64 0) 27.0%,rgb(192.09 166.64 0) 28.0%,rgb(187.05 169.18 0) 28.0%,rgb(187.05 169.18 0) 29.0%,rgb(181.76 171.8 0) 29.0%,rgb(181.76 171.8 0) 30.0%,rgb(176.14 174.52 0) 30.0%,rgb(176.14 174.52 0) 31.0%,rgb(170.06 177.39 0) 31.0%,rgb(170.06 177.39 0) 32.0%,rgb(163.38 180.44 0) 32.0%,rgb(163.38 180.44 0) 33.0%,rgb(155.89 183.71 0) 33.0%,rgb(155.89 183.71 0) 34.0%,rgb(147.27 187.26 0) 34.0%,rgb(147.27 187.26 0) 35.0%,rgb(137.06 191.16 0) 35.0%,rgb(137.06 191.16 0) 36.0%,rgb(124.46 195.5 0) 36.0%,rgb(124.46 195.5 0) 37.0%,rgb(107.93 200.39 0) 37.0%,rgb(107.93 200.39 0) 38.0%,rgb(83.739 206 0) 38.0%,rgb(83.739 206 0) 39.0%,rgb(32.907 212.55 0) 39.0%,rgb(32.907 212.55 0) 40.0%,rgb(0 210.16 63.592) 40.0%,rgb(0 210.16 63.592) 41.0%,rgb(0 206.47 90.74) 41.0%,rgb(0 206.47 90.74) 42.0%,rgb(0 203.5 108.07) 42.0%,rgb(0 203.5 108.07) 43.0%,rgb(0 201.03 120.95) 43.0%,rgb(0 201.03 120.95) 44.0%,rgb(0 198.94 131.25) 44.0%,rgb(0 198.94 131.25) 45.0%,rgb(0 197.14 139.88) 45.0%,rgb(0 197.14 139.88) 46.0%,rgb(0 195.57 147.35) 46.0%,rgb(0 195.57 147.35) 47.0%,rgb(0 194.19 153.99) 47.0%,rgb(0 194.19 153.99) 48.0%,rgb(0 192.95 160.01) 48.0%,rgb(0 192.95 160.01) 49.0%,rgb(0 191.83 165.57) 49.0%,rgb(0 191.83 165.57) 50.0%,rgb(0 190.82 170.79) 50.0%,rgb(0 190.82 170.79) 51.0%,rgb(0 189.89 175.76) 51.0%,rgb(0 189.89 175.76) 52.0%,rgb(0 189.04 180.55) 52.0%,rgb(0 189.04 180.55) 53.0%,rgb(0 188.24 185.22) 53.0%,rgb(0 188.24 185.22) 54.0%,rgb(0 187.49 189.83) 54.0%,rgb(0 187.49 189.83) 55.0%,rgb(0 186.79 194.42) 55.0%,rgb(0 186.79 194.42) 56.0%,rgb(0 186.12 199.06) 56.0%,rgb(0 186.12 199.06) 57.0%,rgb(0 185.48 203.78) 57.0%,rgb(0 185.48 203.78) 58.0%,rgb(0 184.86 208.63) 58.0%,rgb(0 184.86 208.63) 59.0%,rgb(0 184.25 213.67) 59.0%,rgb(0 184.25 213.67) 60.0%,rgb(0 183.65 218.98) 60.0%,rgb(0 183.65 218.98) 61.0%,rgb(0 183.05 224.61) 61.0%,rgb(0 183.05 224.61) 62.0%,rgb(0 182.43 230.67) 62.0%,rgb(0 182.43 230.67) 63.0%,rgb(0 181.79 237.27) 63.0%,rgb(0 181.79 237.27) 64.0%,rgb(0 181.1 244.56) 64.0%,rgb(0 181.1 244.56) 65.0%,rgb(0 180.35 252.76) 65.0%,rgb(0 180.35 252.76) 66.0%,rgb(39.589 178.19 255) 66.0%,rgb(39.589 178.19 255) 67.0%,rgb(61.735 175.7 255) 67.0%,rgb(61.735 175.7 255) 68.0%,rgb(76.773 173.33 255) 68.0%,rgb(76.773 173.33 255) 69.0%,rgb(88.672 171.07 255) 69.0%,rgb(88.672 171.07 255) 70.0%,rgb(98.729 168.88 255) 70.0%,rgb(98.729 168.88 255) 71.0%,rgb(107.58 166.75 255) 71.0%,rgb(107.58 166.75 255) 72.0%,rgb(115.6 164.67 255) 72.0%,rgb(115.6 164.67 255) 73.0%,rgb(123.02 162.62 255) 73.0%,rgb(123.02 162.62 255) 74.0%,rgb(130 160.58 255) 74.0%,rgb(130 160.58 255) 75.0%,rgb(136.68 158.54 255) 75.0%,rgb(136.68 158.54 255) 76.0%,rgb(143.13 156.49 255) 76.0%,rgb(143.13 156.49 255) 77.0%,rgb(149.45 154.4 255) 77.0%,rgb(149.45 154.4 255) 78.0%,rgb(155.71 152.26 255) 78.0%,rgb(155.71 152.26 255) 79.0%,rgb(161.97 150.05 255) 79.0%,rgb(161.97 150.05 255) 80.0%,rgb(168.28 147.74 255) 80.0%,rgb(168.28 147.74 255) 81.0%,rgb(174.72 145.29 255) 81.0%,rgb(174.72 145.29 255) 82.0%,rgb(181.35 142.68 255) 82.0%,rgb(181.35 142.68 255) 83.0%,rgb(188.24 139.86 255) 83.0%,rgb(188.24 139.86 255) 84.0%,rgb(195.47 136.75 255) 84.0%,rgb(195.47 136.75 255) 85.0%,rgb(203.14 133.28 255) 85.0%,rgb(203.14 133.28 255) 86.0%,rgb(211.36 129.32 255) 86.0%,rgb(211.36 129.32 255) 87.0%,rgb(220.29 124.7 255) 87.0%,rgb(220.29 124.7 255) 88.0%,rgb(230.09 119.18 255) 88.0%,rgb(230.09 119.18 255) 89.0%,rgb(241.02 112.31 255) 89.0%,rgb(241.02 112.31 255) 90.0%,rgb(253.41 103.37 255) 90.0%,rgb(253.41 103.37 255) 91.0%,rgb(255 104.26 242.9) 91.0%,rgb(255 104.26 242.9) 92.0%,rgb(255 106.24 230.4) 92.0%,rgb(255 106.24 230.4) 93.0%,rgb(255 107.89 218.97) 93.0%,rgb(255 107.89 218.97) 94.0%,rgb(255 109.3 208.44) 94.0%,rgb(255 109.3 208.44) 95.0%,rgb(255 110.54 198.66) 95.0%,rgb(255 110.54 198.66) 96.0%,rgb(255 111.65 189.5) 96.0%,rgb(255 111.65 189.5) 97.0%,rgb(255 112.68 180.85) 97.0%,rgb(255 112.68 180.85) 98.0%,rgb(255 113.64 172.61) 98.0%,rgb(255 113.64 172.61) 99.0%,rgb(255 114.57 164.71) 99.0%,rgb(255 114.57 164.71) 100.0%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>[</span>
<span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;minde-chroma&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>adaptive</span><span class=o>=</span><span class=mf>0.0</span><span class=p>,</span> <span class=n>jnd</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>... </span>        <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;oklch(80% 0.4 0)&#39;</span><span class=p>,</span> <span class=s1>&#39;oklch(80% 0.4 360)&#39;</span><span class=p>],</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;longer&#39;</span><span class=p>)</span>
<span class=gp>... </span>    <span class=p>]</span>
<span class=gp>... </span><span class=p>)</span>
<span class=go>[color(--oklch 0.79997 0.12458 359.99 / 1), color(--oklch 0.79997 0.12155 3.6308 / 1), color(--oklch 0.79997 0.11911 7.2679 / 1), color(--oklch 0.79999 0.11718 10.908 / 1), color(--oklch 0.79997 0.11579 14.543 / 1), color(--oklch 0.8 0.11484 18.182 / 1), color(--oklch 0.79995 0.1144 21.818 / 1), color(--oklch 0.79999 0.11435 25.455 / 1), color(--oklch 0.79995 0.11479 29.094 / 1), color(--oklch 0.79994 0.11567 32.733 / 1), color(--oklch 0.79999 0.11698 36.365 / 1), color(--oklch 0.79998 0.11883 40.003 / 1), color(--oklch 0.79995 0.12124 43.647 / 1), color(--oklch 0.79997 0.12419 47.28 / 1), color(--oklch 0.79997 0.12781 50.916 / 1), color(--oklch 0.79995 0.13219 54.558 / 1), color(--oklch 0.79997 0.13738 58.189 / 1), color(--oklch 0.8 0.14355 61.818 / 1), color(--oklch 0.79998 0.15097 65.46 / 1), color(--oklch 0.79999 0.15976 69.093 / 1), color(--oklch 0.8 0.17031 72.728 / 1), color(--oklch 0.80001 0.1678 76.347 / 1), color(--oklch 0.8 0.1657 79.995 / 1), color(--oklch 0.80001 0.16431 83.627 / 1), color(--oklch 0.80001 0.16359 87.26 / 1), color(--oklch 0.8 0.16353 90.904 / 1), color(--oklch 0.8 0.16414 94.543 / 1), color(--oklch 0.8 0.16542 98.181 / 1), color(--oklch 0.80001 0.1674 101.81 / 1), color(--oklch 0.80001 0.17012 105.45 / 1), color(--oklch 0.80001 0.17364 109.09 / 1), color(--oklch 0.80001 0.17804 112.73 / 1), color(--oklch 0.80001 0.18343 116.36 / 1), color(--oklch 0.8 0.18993 120 / 1), color(--oklch 0.8 0.19775 123.64 / 1), color(--oklch 0.8 0.20711 127.27 / 1), color(--oklch 0.8 0.21832 130.91 / 1), color(--oklch 0.8 0.2318 134.55 / 1), color(--oklch 0.8 0.24811 138.19 / 1), color(--oklch 0.8 0.26804 141.82 / 1), color(--oklch 0.80001 0.24832 145.45 / 1), color(--oklch 0.80002 0.22527 149.09 / 1), color(--oklch 0.80002 0.2072 152.72 / 1), color(--oklch 0.80002 0.19274 156.36 / 1), color(--oklch 0.80003 0.18101 159.99 / 1), color(--oklch 0.80001 0.17136 163.63 / 1), color(--oklch 0.80003 0.16343 167.27 / 1), color(--oklch 0.80004 0.15687 170.9 / 1), color(--oklch 0.80001 0.15145 174.54 / 1), color(--oklch 0.80002 0.14703 178.18 / 1), color(--oklch 0.80004 0.14348 181.81 / 1), color(--oklch 0.80003 0.14067 185.45 / 1), color(--oklch 0.8 0.13857 189.09 / 1), color(--oklch 0.8 0.13711 192.73 / 1), color(--oklch 0.80003 0.13627 196.37 / 1), color(--oklch 0.80001 0.13601 200 / 1), color(--oklch 0.80004 0.13634 203.64 / 1), color(--oklch 0.80002 0.13727 207.28 / 1), color(--oklch 0.80003 0.13881 210.92 / 1), color(--oklch 0.80001 0.141 214.55 / 1), color(--oklch 0.80002 0.14392 218.19 / 1), color(--oklch 0.79998 0.14314 221.8 / 1), color(--oklch 0.79999 0.13465 225.44 / 1), color(--oklch 0.79999 0.12762 229.08 / 1), color(--oklch 0.79999 0.12176 232.72 / 1), color(--oklch 0.79999 0.11687 236.35 / 1), color(--oklch 0.79999 0.11277 239.99 / 1), color(--oklch 0.79998 0.10941 243.61 / 1), color(--oklch 0.79999 0.10662 247.27 / 1), color(--oklch 0.8 0.10439 250.91 / 1), color(--oklch 0.79998 0.10268 254.53 / 1), color(--oklch 0.79998 0.10141 258.17 / 1), color(--oklch 0.79999 0.10057 261.81 / 1), color(--oklch 0.79999 0.10015 265.45 / 1), color(--oklch 0.79998 0.10014 269.08 / 1), color(--oklch 0.79998 0.10053 272.72 / 1), color(--oklch 0.79999 0.10133 276.36 / 1), color(--oklch 0.79998 0.10256 280 / 1), color(--oklch 0.79998 0.10425 283.64 / 1), color(--oklch 0.79999 0.10642 287.27 / 1), color(--oklch 0.79999 0.10915 290.91 / 1), color(--oklch 0.79999 0.11247 294.55 / 1), color(--oklch 0.8 0.11649 298.18 / 1), color(--oklch 0.79998 0.12134 301.83 / 1), color(--oklch 0.79999 0.12712 305.46 / 1), color(--oklch 0.79999 0.13405 309.1 / 1), color(--oklch 0.79999 0.14237 312.73 / 1), color(--oklch 0.79998 0.1525 316.38 / 1), color(--oklch 0.79999 0.16483 320.01 / 1), color(--oklch 0.79999 0.18016 323.64 / 1), color(--oklch 0.79999 0.19912 327.27 / 1), color(--oklch 0.79999 0.18379 330.91 / 1), color(--oklch 0.79996 0.17117 334.54 / 1), color(--oklch 0.79999 0.16054 338.18 / 1), color(--oklch 0.79997 0.15173 341.81 / 1), color(--oklch 0.8 0.14424 345.45 / 1), color(--oklch 0.79999 0.13798 349.09 / 1), color(--oklch 0.79998 0.1327 352.72 / 1), color(--oklch 0.79996 0.12828 356.35 / 1), color(--oklch 0.79997 0.12458 359.99 / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>[</span>
<span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;minde-chroma&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>adaptive</span><span class=o>=</span><span class=mf>0.5</span><span class=p>,</span> <span class=n>jnd</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>... </span>        <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;oklch(80% 0.4 0)&#39;</span><span class=p>,</span> <span class=s1>&#39;oklch(80% 0.4 360)&#39;</span><span class=p>],</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;oklch&#39;</span><span class=p>,</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;longer&#39;</span><span class=p>)</span>
<span class=gp>... </span>    <span class=p>]</span>
<span class=gp>... </span><span class=p>)</span>
<span class=go>[color(--oklch 0.73528 0.17729 360 / 1), color(--oklch 0.73426 0.17375 3.6363 / 1), color(--oklch 0.73341 0.17087 7.2719 / 1), color(--oklch 0.73275 0.16857 10.908 / 1), color(--oklch 0.73225 0.16684 14.545 / 1), color(--oklch 0.7319 0.16565 18.182 / 1), color(--oklch 0.73171 0.16499 21.818 / 1), color(--oklch 0.73166 0.16484 25.455 / 1), color(--oklch 0.73177 0.1652 29.091 / 1), color(--oklch 0.73203 0.16609 32.727 / 1), color(--oklch 0.73243 0.16752 36.365 / 1), color(--oklch 0.73301 0.1695 40.001 / 1), color(--oklch 0.73377 0.17207 43.637 / 1), color(--oklch 0.7347 0.17529 47.274 / 1), color(--oklch 0.73583 0.17919 50.911 / 1), color(--oklch 0.7371 0.18351 54.543 / 1), color(--oklch 0.73479 0.17555 58.177 / 1), color(--oklch 0.73286 0.16894 61.815 / 1), color(--oklch 0.73128 0.16349 65.451 / 1), color(--oklch 0.72999 0.15905 69.087 / 1), color(--oklch 0.72895 0.15549 72.725 / 1), color(--oklch 0.72815 0.15272 76.361 / 1), color(--oklch 0.72756 0.15069 79.997 / 1), color(--oklch 0.72718 0.14935 83.633 / 1), color(--oklch 0.72697 0.14865 87.272 / 1), color(--oklch 0.72695 0.1486 90.908 / 1), color(--oklch 0.72712 0.14919 94.545 / 1), color(--oklch 0.72749 0.15043 98.18 / 1), color(--oklch 0.72804 0.15234 101.82 / 1), color(--oklch 0.72881 0.15498 105.45 / 1), color(--oklch 0.72981 0.1584 109.09 / 1), color(--oklch 0.73105 0.16269 112.73 / 1), color(--oklch 0.73258 0.16796 116.36 / 1), color(--oklch 0.73445 0.17437 120 / 1), color(--oklch 0.73669 0.1821 123.64 / 1), color(--oklch 0.7394 0.19142 127.27 / 1), color(--oklch 0.74266 0.20266 130.91 / 1), color(--oklch 0.74663 0.21632 134.55 / 1), color(--oklch 0.75149 0.23305 138.18 / 1), color(--oklch 0.75752 0.2538 141.82 / 1), color(--oklch 0.75155 0.23325 145.45 / 1), color(--oklch 0.7447 0.20967 149.09 / 1), color(--oklch 0.73942 0.19149 152.72 / 1), color(--oklch 0.73524 0.17712 156.36 / 1), color(--oklch 0.73189 0.16557 160 / 1), color(--oklch 0.72915 0.15617 163.64 / 1), color(--oklch 0.72692 0.14848 167.27 / 1), color(--oklch 0.72508 0.14216 170.91 / 1), color(--oklch 0.72358 0.13698 174.54 / 1), color(--oklch 0.72235 0.13276 178.18 / 1), color(--oklch 0.72137 0.12936 181.82 / 1), color(--oklch 0.72059 0.12671 185.45 / 1), color(--oklch 0.72002 0.12471 189.09 / 1), color(--oklch 0.71962 0.12333 192.73 / 1), color(--oklch 0.71938 0.12253 196.36 / 1), color(--oklch 0.71931 0.12229 200 / 1), color(--oklch 0.7194 0.1226 203.64 / 1), color(--oklch 0.71966 0.12348 207.27 / 1), color(--oklch 0.72009 0.12494 210.91 / 1), color(--oklch 0.72068 0.12702 214.55 / 1), color(--oklch 0.7215 0.12979 218.19 / 1), color(--oklch 0.72252 0.13332 221.82 / 1), color(--oklch 0.7238 0.13771 225.46 / 1), color(--oklch 0.72536 0.14311 229.09 / 1), color(--oklch 0.72729 0.14972 232.73 / 1), color(--oklch 0.72964 0.15783 236.37 / 1), color(--oklch 0.72931 0.15671 240 / 1), color(--oklch 0.72816 0.15276 243.64 / 1), color(--oklch 0.72721 0.1495 247.27 / 1), color(--oklch 0.72645 0.14687 250.91 / 1), color(--oklch 0.72585 0.14482 254.55 / 1), color(--oklch 0.72541 0.14332 258.18 / 1), color(--oklch 0.72513 0.14233 261.82 / 1), color(--oklch 0.72499 0.14184 265.45 / 1), color(--oklch 0.72499 0.14185 269.09 / 1), color(--oklch 0.72513 0.14235 272.73 / 1), color(--oklch 0.72542 0.14335 276.36 / 1), color(--oklch 0.72586 0.14486 280 / 1), color(--oklch 0.72646 0.14692 283.64 / 1), color(--oklch 0.72723 0.14955 287.27 / 1), color(--oklch 0.72818 0.15282 290.91 / 1), color(--oklch 0.72933 0.15678 294.55 / 1), color(--oklch 0.7307 0.16151 298.18 / 1), color(--oklch 0.73233 0.16712 301.82 / 1), color(--oklch 0.73425 0.17374 305.46 / 1), color(--oklch 0.73652 0.18153 309.09 / 1), color(--oklch 0.73918 0.1907 312.73 / 1), color(--oklch 0.74233 0.20155 316.37 / 1), color(--oklch 0.74608 0.21443 320 / 1), color(--oklch 0.75056 0.22986 323.64 / 1), color(--oklch 0.75598 0.24851 327.27 / 1), color(--oklch 0.75313 0.2387 330.91 / 1), color(--oklch 0.7496 0.22656 334.54 / 1), color(--oklch 0.74654 0.21606 338.18 / 1), color(--oklch 0.74391 0.20698 341.82 / 1), color(--oklch 0.74162 0.19912 345.45 / 1), color(--oklch 0.73966 0.19233 349.09 / 1), color(--oklch 0.73796 0.1865 352.73 / 1), color(--oklch 0.73651 0.18151 356.36 / 1), color(--oklch 0.73528 0.17729 360 / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_29 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_29 spellcheck=false>Steps(
    [
        c.fit('srgb', method='minde-chroma', pspace='oklch', adaptive=0.0, jnd=0)
        for c in Color.steps(['oklch(80% 0.4 0)', 'oklch(80% 0.4 360)'], space='oklch', steps=100, hue='longer')
    ]
)
Steps(
    [
        c.fit('srgb', method='minde-chroma', pspace='oklch', adaptive=0.5, jnd=0)
        for c in Color.steps(['oklch(80% 0.4 0)', 'oklch(80% 0.4 360)'], space='oklch', steps=100, hue='longer')
    ]
)</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_29 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_29 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_29 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_29 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> </div> </div> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Generally, adaptive lightness can be used within any perceptual space against any target gamut using the ray trace or <abbr title="minimum delta E">MINDE</abbr> chroma reduction approach. With that said, it should be noted that some spaces will not perform as well at high <strong></strong> values due to their geometry regardless of whether the ray trace or <abbr title="minimum delta E">MINDE</abbr> chroma reduction approach is used.</p> <p>The one exception to the above statement is the Luv/LCH<sub>uv</sub> color space which exhibited less accurate results in our testing when using the ray trace approach and high <strong></strong> values that strayed too far from constant lightness. The dark blue region of Luv/LCH<sub>uv</sub> created chroma reduction curves that pushed the ray trace algorithm too hard with adaptive lightness.</p> <p>While Luv/LCH<sub>uv</sub> is currently the only space provided by ColorAide that had trouble with high <strong></strong> values when using the ray trace algorithm, there may be others that have yet to be implemented. In these rare cases, it may be better to use <abbr title="minimum delta E">MINDE</abbr> chroma reduction which, while slower, has a straightforward algorithm that is less likely to have issues. For all others, ray trace will give the best performance with comparable results.</p> <div class="tabbed-set tabbed-alternate" data-tabs=6:2><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><input id=__tabbed_6_2 name=__tabbed_6 type=radio><div class=tabbed-labels><label for=__tabbed_6_1>Ray Trace</label><label for=__tabbed_6_2><abbr title="minimum delta E">MINDE</abbr> Chroma</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=playground id=__playground_30> <div class=playground-results id=__playground-results_30> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(28.59 0 97.413) 0%,rgb(28.59 0 97.413) 1.0%,rgb(30.252 0 101.76) 1.0%,rgb(30.252 0 101.76) 2.0%,rgb(31.926 0 106.14) 2.0%,rgb(31.926 0 106.14) 3.0%,rgb(33.613 0 110.55) 3.0%,rgb(33.613 0 110.55) 4.0%,rgb(35.312 0 114.99) 4.0%,rgb(35.312 0 114.99) 5.0%,rgb(37.023 0 119.46) 5.0%,rgb(37.023 0 119.46) 6.0%,rgb(38.745 0 123.97) 6.0%,rgb(38.745 0 123.97) 7.0%,rgb(40.478 0 128.5) 7.0%,rgb(40.478 0 128.5) 8.0%,rgb(42.223 0 133.06) 8.0%,rgb(42.223 0 133.06) 9.0%,rgb(43.979 0 137.65) 9.0%,rgb(43.979 0 137.65) 10.0%,rgb(45.745 0 142.27) 10.0%,rgb(45.745 0 142.27) 11.0%,rgb(47.521 0 146.92) 11.0%,rgb(47.521 0 146.92) 12.0%,rgb(49.308 0 151.59) 12.0%,rgb(49.308 0 151.59) 13.0%,rgb(51.106 0 156.29) 13.0%,rgb(51.106 0 156.29) 14.0%,rgb(52.913 0 161.02) 14.0%,rgb(52.913 0 161.02) 15.0%,rgb(54.73 0 165.77) 15.0%,rgb(54.73 0 165.77) 16.0%,rgb(56.556 0 170.55) 16.0%,rgb(56.556 0 170.55) 17.0%,rgb(58.392 0 175.35) 17.0%,rgb(58.392 0 175.35) 18.0%,rgb(60.238 0 180.17) 18.0%,rgb(60.238 0 180.17) 19.0%,rgb(62.093 0 185.02) 19.0%,rgb(62.093 0 185.02) 20.0%,rgb(63.956 0 189.9) 20.0%,rgb(63.956 0 189.9) 21.0%,rgb(65.829 0 194.79) 21.0%,rgb(65.829 0 194.79) 22.0%,rgb(67.64 5.8837 197.01) 22.0%,rgb(67.64 5.8837 197.01) 23.0%,rgb(69.389 16.836 196.39) 23.0%,rgb(69.389 16.836 196.39) 24.0%,rgb(71.158 24.133 196.07) 24.0%,rgb(71.158 24.133 196.07) 25.0%,rgb(72.944 29.809 196) 25.0%,rgb(72.944 29.809 196) 26.0%,rgb(74.747 34.59 196.15) 26.0%,rgb(74.747 34.59 196.15) 27.0%,rgb(76.564 38.798 196.49) 27.0%,rgb(76.564 38.798 196.49) 28.0%,rgb(78.395 42.607 196.99) 28.0%,rgb(78.395 42.607 196.99) 29.0%,rgb(80.238 46.123 197.63) 29.0%,rgb(80.238 46.123 197.63) 30.0%,rgb(82.093 49.415 198.4) 30.0%,rgb(82.093 49.415 198.4) 31.0%,rgb(83.96 52.533 199.29) 31.0%,rgb(83.96 52.533 199.29) 32.0%,rgb(85.837 55.512 200.28) 32.0%,rgb(85.837 55.512 200.28) 33.0%,rgb(87.725 58.376 201.36) 33.0%,rgb(87.725 58.376 201.36) 34.0%,rgb(89.623 61.148 202.51) 34.0%,rgb(89.623 61.148 202.51) 35.0%,rgb(91.53 63.841 203.75) 35.0%,rgb(91.53 63.841 203.75) 36.0%,rgb(93.446 66.469 205.05) 36.0%,rgb(93.446 66.469 205.05) 37.0%,rgb(95.371 69.041 206.41) 37.0%,rgb(95.371 69.041 206.41) 38.0%,rgb(97.305 71.566 207.83) 38.0%,rgb(97.305 71.566 207.83) 39.0%,rgb(99.248 74.05 209.3) 39.0%,rgb(99.248 74.05 209.3) 40.0%,rgb(101.2 76.499 210.82) 40.0%,rgb(101.2 76.499 210.82) 41.0%,rgb(103.16 78.918 212.39) 41.0%,rgb(103.16 78.918 212.39) 42.0%,rgb(105.12 81.311 213.99) 42.0%,rgb(105.12 81.311 213.99) 43.0%,rgb(107.1 83.681 215.64) 43.0%,rgb(107.1 83.681 215.64) 44.0%,rgb(109.08 86.031 217.32) 44.0%,rgb(109.08 86.031 217.32) 45.0%,rgb(111.07 88.364 219.03) 45.0%,rgb(111.07 88.364 219.03) 46.0%,rgb(113.06 90.681 220.77) 46.0%,rgb(113.06 90.681 220.77) 47.0%,rgb(115.07 92.986 222.54) 47.0%,rgb(115.07 92.986 222.54) 48.0%,rgb(117.08 95.279 224.35) 48.0%,rgb(117.08 95.279 224.35) 49.0%,rgb(119.1 97.562 226.17) 49.0%,rgb(119.1 97.562 226.17) 50.0%,rgb(121.12 99.836 228.02) 50.0%,rgb(121.12 99.836 228.02) 51.0%,rgb(123.15 102.1 229.9) 51.0%,rgb(123.15 102.1 229.9) 52.0%,rgb(125.19 104.36 231.79) 52.0%,rgb(125.19 104.36 231.79) 53.0%,rgb(127.23 106.62 233.71) 53.0%,rgb(127.23 106.62 233.71) 54.0%,rgb(129.28 108.87 235.65) 54.0%,rgb(129.28 108.87 235.65) 55.0%,rgb(131.34 111.11 237.61) 55.0%,rgb(131.34 111.11 237.61) 56.0%,rgb(133.4 113.36 239.58) 56.0%,rgb(133.4 113.36 239.58) 57.0%,rgb(135.47 115.6 241.57) 57.0%,rgb(135.47 115.6 241.57) 58.0%,rgb(137.55 117.83 243.58) 58.0%,rgb(137.55 117.83 243.58) 59.0%,rgb(139.63 120.07 245.6) 59.0%,rgb(139.63 120.07 245.6) 60.0%,rgb(141.72 122.3 247.64) 60.0%,rgb(141.72 122.3 247.64) 61.0%,rgb(143.81 124.54 249.7) 61.0%,rgb(143.81 124.54 249.7) 62.0%,rgb(145.91 126.77 251.77) 62.0%,rgb(145.91 126.77 251.77) 63.0%,rgb(148.02 129 253.85) 63.0%,rgb(148.02 129 253.85) 64.0%,rgb(150.12 131.47 255) 64.0%,rgb(150.12 131.47 255) 65.0%,rgb(152.21 134.2 255) 65.0%,rgb(152.21 134.2 255) 66.0%,rgb(154.3 136.92 255) 66.0%,rgb(154.3 136.92 255) 67.0%,rgb(156.4 139.63 255) 67.0%,rgb(156.4 139.63 255) 68.0%,rgb(158.51 142.33 255) 68.0%,rgb(158.51 142.33 255) 69.0%,rgb(160.62 145.01 255) 69.0%,rgb(160.62 145.01 255) 70.0%,rgb(162.74 147.68 255) 70.0%,rgb(162.74 147.68 255) 71.0%,rgb(164.87 150.35 255) 71.0%,rgb(164.87 150.35 255) 72.0%,rgb(167 153.01 255) 72.0%,rgb(167 153.01 255) 73.0%,rgb(169.13 155.65 255) 73.0%,rgb(169.13 155.65 255) 74.0%,rgb(171.28 158.29 255) 74.0%,rgb(171.28 158.29 255) 75.0%,rgb(173.42 160.93 255) 75.0%,rgb(173.42 160.93 255) 76.0%,rgb(175.58 163.56 255) 76.0%,rgb(175.58 163.56 255) 77.0%,rgb(177.74 166.18 255) 77.0%,rgb(177.74 166.18 255) 78.0%,rgb(179.9 168.79 255) 78.0%,rgb(179.9 168.79 255) 79.0%,rgb(182.07 171.41 255) 79.0%,rgb(182.07 171.41 255) 80.0%,rgb(184.25 174.01 255) 80.0%,rgb(184.25 174.01 255) 81.0%,rgb(186.43 176.62 255) 81.0%,rgb(186.43 176.62 255) 82.0%,rgb(188.61 179.22 255) 82.0%,rgb(188.61 179.22 255) 83.0%,rgb(190.8 181.81 255) 83.0%,rgb(190.8 181.81 255) 84.0%,rgb(193 184.4 255) 84.0%,rgb(193 184.4 255) 85.0%,rgb(195.2 186.99 255) 85.0%,rgb(195.2 186.99 255) 86.0%,rgb(197.41 189.58 255) 86.0%,rgb(197.41 189.58 255) 87.0%,rgb(199.62 192.17 255) 87.0%,rgb(199.62 192.17 255) 88.0%,rgb(201.84 194.75 255) 88.0%,rgb(201.84 194.75 255) 89.0%,rgb(204.06 197.33 255) 89.0%,rgb(204.06 197.33 255) 90.0%,rgb(206.28 199.91 255) 90.0%,rgb(206.28 199.91 255) 91.0%,rgb(208.52 202.49 255) 91.0%,rgb(208.52 202.49 255) 92.0%,rgb(210.75 205.07 255) 92.0%,rgb(210.75 205.07 255) 93.0%,rgb(212.99 207.65 255) 93.0%,rgb(212.99 207.65 255) 94.0%,rgb(215.24 210.22 255) 94.0%,rgb(215.24 210.22 255) 95.0%,rgb(217.49 212.8 255) 95.0%,rgb(217.49 212.8 255) 96.0%,rgb(219.75 215.37 255) 96.0%,rgb(219.75 215.37 255) 97.0%,rgb(222.01 217.95 255) 97.0%,rgb(222.01 217.95 255) 98.0%,rgb(224.27 220.52 255) 98.0%,rgb(224.27 220.52 255) 99.0%,rgb(226.54 223.1 255) 99.0%,rgb(226.54 223.1 255) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(44.717 0 139.59) 0%,rgb(44.717 0 139.59) 1.0%,rgb(44.368 0 138.67) 1.0%,rgb(44.368 0 138.67) 2.0%,rgb(45.027 0 140.4) 2.0%,rgb(45.027 0 140.4) 3.0%,rgb(43.664 0 136.83) 3.0%,rgb(43.664 0 136.83) 4.0%,rgb(48.429 0 149.29) 4.0%,rgb(48.429 0 149.29) 5.0%,rgb(47.565 0 147.03) 5.0%,rgb(47.565 0 147.03) 6.0%,rgb(50.478 0 154.65) 6.0%,rgb(50.478 0 154.65) 7.0%,rgb(50.047 0 153.52) 7.0%,rgb(50.047 0 153.52) 8.0%,rgb(86.79 0 249.61) 8.0%,rgb(86.79 0 249.61) 9.0%,rgb(79.768 0 231.24) 9.0%,rgb(79.768 0 231.24) 10.0%,rgb(75.151 0 219.17) 10.0%,rgb(75.151 0 219.17) 11.0%,rgb(71.967 0 210.85) 11.0%,rgb(71.967 0 210.85) 12.0%,rgb(69.723 0 204.98) 12.0%,rgb(69.723 0 204.98) 13.0%,rgb(68.136 0 200.83) 13.0%,rgb(68.136 0 200.83) 14.0%,rgb(64.811 0 192.13) 14.0%,rgb(64.811 0 192.13) 15.0%,rgb(62.817 0 186.92) 15.0%,rgb(62.817 0 186.92) 16.0%,rgb(62.428 0 185.9) 16.0%,rgb(62.428 0 185.9) 17.0%,rgb(62.701 0 186.61) 17.0%,rgb(62.701 0 186.61) 18.0%,rgb(63.32 0 188.23) 18.0%,rgb(63.32 0 188.23) 19.0%,rgb(64.153 0 190.41) 19.0%,rgb(64.153 0 190.41) 20.0%,rgb(65.13 0 192.97) 20.0%,rgb(65.13 0 192.97) 21.0%,rgb(66.216 0 195.81) 21.0%,rgb(66.216 0 195.81) 22.0%,rgb(67.64 5.8837 197.01) 22.0%,rgb(67.64 5.8837 197.01) 23.0%,rgb(69.389 16.836 196.39) 23.0%,rgb(69.389 16.836 196.39) 24.0%,rgb(71.158 24.133 196.07) 24.0%,rgb(71.158 24.133 196.07) 25.0%,rgb(72.944 29.809 196) 25.0%,rgb(72.944 29.809 196) 26.0%,rgb(74.747 34.59 196.15) 26.0%,rgb(74.747 34.59 196.15) 27.0%,rgb(76.564 38.798 196.49) 27.0%,rgb(76.564 38.798 196.49) 28.0%,rgb(78.395 42.607 196.99) 28.0%,rgb(78.395 42.607 196.99) 29.0%,rgb(80.238 46.123 197.63) 29.0%,rgb(80.238 46.123 197.63) 30.0%,rgb(82.093 49.415 198.4) 30.0%,rgb(82.093 49.415 198.4) 31.0%,rgb(83.96 52.533 199.29) 31.0%,rgb(83.96 52.533 199.29) 32.0%,rgb(85.837 55.512 200.28) 32.0%,rgb(85.837 55.512 200.28) 33.0%,rgb(87.725 58.376 201.36) 33.0%,rgb(87.725 58.376 201.36) 34.0%,rgb(89.623 61.148 202.51) 34.0%,rgb(89.623 61.148 202.51) 35.0%,rgb(91.53 63.841 203.75) 35.0%,rgb(91.53 63.841 203.75) 36.0%,rgb(93.446 66.469 205.05) 36.0%,rgb(93.446 66.469 205.05) 37.0%,rgb(95.371 69.041 206.41) 37.0%,rgb(95.371 69.041 206.41) 38.0%,rgb(97.305 71.566 207.83) 38.0%,rgb(97.305 71.566 207.83) 39.0%,rgb(99.248 74.05 209.3) 39.0%,rgb(99.248 74.05 209.3) 40.0%,rgb(101.2 76.499 210.82) 40.0%,rgb(101.2 76.499 210.82) 41.0%,rgb(103.16 78.918 212.39) 41.0%,rgb(103.16 78.918 212.39) 42.0%,rgb(105.12 81.311 213.99) 42.0%,rgb(105.12 81.311 213.99) 43.0%,rgb(107.1 83.681 215.64) 43.0%,rgb(107.1 83.681 215.64) 44.0%,rgb(109.08 86.031 217.32) 44.0%,rgb(109.08 86.031 217.32) 45.0%,rgb(111.07 88.364 219.03) 45.0%,rgb(111.07 88.364 219.03) 46.0%,rgb(113.06 90.681 220.77) 46.0%,rgb(113.06 90.681 220.77) 47.0%,rgb(115.07 92.986 222.54) 47.0%,rgb(115.07 92.986 222.54) 48.0%,rgb(117.08 95.279 224.35) 48.0%,rgb(117.08 95.279 224.35) 49.0%,rgb(119.1 97.562 226.17) 49.0%,rgb(119.1 97.562 226.17) 50.0%,rgb(121.12 99.836 228.02) 50.0%,rgb(121.12 99.836 228.02) 51.0%,rgb(123.15 102.1 229.9) 51.0%,rgb(123.15 102.1 229.9) 52.0%,rgb(125.19 104.36 231.79) 52.0%,rgb(125.19 104.36 231.79) 53.0%,rgb(127.23 106.62 233.71) 53.0%,rgb(127.23 106.62 233.71) 54.0%,rgb(129.28 108.87 235.65) 54.0%,rgb(129.28 108.87 235.65) 55.0%,rgb(131.34 111.11 237.61) 55.0%,rgb(131.34 111.11 237.61) 56.0%,rgb(133.4 113.36 239.58) 56.0%,rgb(133.4 113.36 239.58) 57.0%,rgb(135.47 115.6 241.57) 57.0%,rgb(135.47 115.6 241.57) 58.0%,rgb(137.55 117.83 243.58) 58.0%,rgb(137.55 117.83 243.58) 59.0%,rgb(139.63 120.07 245.6) 59.0%,rgb(139.63 120.07 245.6) 60.0%,rgb(141.72 122.3 247.64) 60.0%,rgb(141.72 122.3 247.64) 61.0%,rgb(143.81 124.54 249.7) 61.0%,rgb(143.81 124.54 249.7) 62.0%,rgb(145.91 126.77 251.77) 62.0%,rgb(145.91 126.77 251.77) 63.0%,rgb(148.02 129 253.85) 63.0%,rgb(148.02 129 253.85) 64.0%,rgb(149.99 131.31 255) 64.0%,rgb(149.99 131.31 255) 65.0%,rgb(151.78 133.65 255) 65.0%,rgb(151.78 133.65 255) 66.0%,rgb(153.54 135.94 255) 66.0%,rgb(153.54 135.94 255) 67.0%,rgb(155.27 138.17 255) 67.0%,rgb(155.27 138.17 255) 68.0%,rgb(156.96 140.35 255) 68.0%,rgb(156.96 140.35 255) 69.0%,rgb(158.62 142.47 255) 69.0%,rgb(158.62 142.47 255) 70.0%,rgb(160.25 144.54 255) 70.0%,rgb(160.25 144.54 255) 71.0%,rgb(161.85 146.56 255) 71.0%,rgb(161.85 146.56 255) 72.0%,rgb(163.42 148.54 255) 72.0%,rgb(163.42 148.54 255) 73.0%,rgb(164.96 150.47 255) 73.0%,rgb(164.96 150.47 255) 74.0%,rgb(166.47 152.35 255) 74.0%,rgb(166.47 152.35 255) 75.0%,rgb(167.95 154.19 255) 75.0%,rgb(167.95 154.19 255) 76.0%,rgb(169.41 155.99 255) 76.0%,rgb(169.41 155.99 255) 77.0%,rgb(170.83 157.75 255) 77.0%,rgb(170.83 157.75 255) 78.0%,rgb(172.23 159.47 255) 78.0%,rgb(172.23 159.47 255) 79.0%,rgb(173.6 161.15 255) 79.0%,rgb(173.6 161.15 255) 80.0%,rgb(174.95 162.79 255) 80.0%,rgb(174.95 162.79 255) 81.0%,rgb(176.26 164.39 255) 81.0%,rgb(176.26 164.39 255) 82.0%,rgb(177.56 165.96 255) 82.0%,rgb(177.56 165.96 255) 83.0%,rgb(178.83 167.5 255) 83.0%,rgb(178.83 167.5 255) 84.0%,rgb(180.07 169 255) 84.0%,rgb(180.07 169 255) 85.0%,rgb(181.29 170.47 255) 85.0%,rgb(181.29 170.47 255) 86.0%,rgb(182.49 171.9 255) 86.0%,rgb(182.49 171.9 255) 87.0%,rgb(183.66 173.31 255) 87.0%,rgb(183.66 173.31 255) 88.0%,rgb(184.81 174.69 255) 88.0%,rgb(184.81 174.69 255) 89.0%,rgb(185.94 176.03 255) 89.0%,rgb(185.94 176.03 255) 90.0%,rgb(187.04 177.35 255) 90.0%,rgb(187.04 177.35 255) 91.0%,rgb(188.13 178.64 255) 91.0%,rgb(188.13 178.64 255) 92.0%,rgb(189.19 179.91 255) 92.0%,rgb(189.19 179.91 255) 93.0%,rgb(190.24 181.14 255) 93.0%,rgb(190.24 181.14 255) 94.0%,rgb(191.26 182.35 255) 94.0%,rgb(191.26 182.35 255) 95.0%,rgb(192.27 183.54 255) 95.0%,rgb(192.27 183.54 255) 96.0%,rgb(193.25 184.7 255) 96.0%,rgb(193.25 184.7 255) 97.0%,rgb(194.22 185.84 255) 97.0%,rgb(194.22 185.84 255) 98.0%,rgb(195.17 186.96 255) 98.0%,rgb(195.17 186.96 255) 99.0%,rgb(196.1 188.05 255) 99.0%,rgb(196.1 188.05 255) 100.0%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>[</span>
<span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;lchuv&#39;</span><span class=p>,</span> <span class=n>adaptive</span><span class=o>=</span><span class=mf>0.0</span><span class=p>)</span>
<span class=gp>... </span>        <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;color(--lchuv 10% 100 270)&#39;</span><span class=p>,</span> <span class=s1>&#39;color(--lchuv 90% 100 270)&#39;</span><span class=p>],</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;luv&#39;</span><span class=p>,</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>)</span>
<span class=gp>... </span>    <span class=p>]</span>
<span class=gp>... </span><span class=p>)</span>
<span class=go>[color(--luv 10 0 -36.496 / 1), color(--luv 10.808 0 -39.445 / 1), color(--luv 11.616 0 -42.394 / 1), color(--luv 12.424 0 -45.343 / 1), color(--luv 13.232 0 -48.292 / 1), color(--luv 14.04 0 -51.241 / 1), color(--luv 14.848 0 -54.19 / 1), color(--luv 15.657 0 -57.14 / 1), color(--luv 16.465 0 -60.089 / 1), color(--luv 17.273 0 -63.038 / 1), color(--luv 18.081 0 -65.987 / 1), color(--luv 18.889 0 -68.936 / 1), color(--luv 19.697 0 -71.885 / 1), color(--luv 20.505 0 -74.834 / 1), color(--luv 21.313 0 -77.783 / 1), color(--luv 22.121 0 -80.733 / 1), color(--luv 22.929 0 -83.682 / 1), color(--luv 23.737 0 -86.631 / 1), color(--luv 24.545 0 -89.58 / 1), color(--luv 25.354 0 -92.529 / 1), color(--luv 26.162 0 -95.478 / 1), color(--luv 26.97 0 -98.427 / 1), color(--luv 27.778 0 -100 / 1), color(--luv 28.586 0 -100 / 1), color(--luv 29.394 0 -100 / 1), color(--luv 30.202 0 -100 / 1), color(--luv 31.01 0 -100 / 1), color(--luv 31.818 0 -100 / 1), color(--luv 32.626 0 -100 / 1), color(--luv 33.434 0 -100 / 1), color(--luv 34.242 0 -100 / 1), color(--luv 35.051 0 -100 / 1), color(--luv 35.859 0 -100 / 1), color(--luv 36.667 0 -100 / 1), color(--luv 37.475 0 -100 / 1), color(--luv 38.283 0 -100 / 1), color(--luv 39.091 0 -100 / 1), color(--luv 39.899 0 -100 / 1), color(--luv 40.707 0 -100 / 1), color(--luv 41.515 0 -100 / 1), color(--luv 42.323 0 -100 / 1), color(--luv 43.131 0 -100 / 1), color(--luv 43.939 0 -100 / 1), color(--luv 44.747 0 -100 / 1), color(--luv 45.556 0 -100 / 1), color(--luv 46.364 0 -100 / 1), color(--luv 47.172 0 -100 / 1), color(--luv 47.98 0 -100 / 1), color(--luv 48.788 0 -100 / 1), color(--luv 49.596 0 -100 / 1), color(--luv 50.404 0 -100 / 1), color(--luv 51.212 0 -100 / 1), color(--luv 52.02 0 -100 / 1), color(--luv 52.828 0 -100 / 1), color(--luv 53.636 0 -100 / 1), color(--luv 54.444 0 -100 / 1), color(--luv 55.253 0 -100 / 1), color(--luv 56.061 0 -100 / 1), color(--luv 56.869 0 -100 / 1), color(--luv 57.677 0 -100 / 1), color(--luv 58.485 0 -100 / 1), color(--luv 59.293 0 -100 / 1), color(--luv 60.101 0 -100 / 1), color(--luv 60.909 0 -100 / 1), color(--luv 61.717 0 -99.125 / 1), color(--luv 62.525 0 -97.155 / 1), color(--luv 63.333 0 -95.16 / 1), color(--luv 64.141 0 -93.143 / 1), color(--luv 64.949 0 -91.105 / 1), color(--luv 65.758 0 -89.049 / 1), color(--luv 66.566 0 -86.976 / 1), color(--luv 67.374 0 -84.888 / 1), color(--luv 68.182 0 -82.786 / 1), color(--luv 68.99 0 -80.672 / 1), color(--luv 69.798 0 -78.548 / 1), color(--luv 70.606 0 -76.414 / 1), color(--luv 71.414 0 -74.272 / 1), color(--luv 72.222 0 -72.124 / 1), color(--luv 73.03 0 -69.971 / 1), color(--luv 73.838 0 -67.813 / 1), color(--luv 74.646 0 -65.652 / 1), color(--luv 75.455 0 -63.488 / 1), color(--luv 76.263 0 -61.324 / 1), color(--luv 77.071 0 -59.159 / 1), color(--luv 77.879 0 -56.994 / 1), color(--luv 78.687 0 -54.831 / 1), color(--luv 79.495 0 -52.67 / 1), color(--luv 80.303 0 -50.511 / 1), color(--luv 81.111 0 -48.356 / 1), color(--luv 81.919 0 -46.205 / 1), color(--luv 82.727 0 -44.059 / 1), color(--luv 83.535 0 -41.918 / 1), color(--luv 84.343 0 -39.782 / 1), color(--luv 85.152 0 -37.652 / 1), color(--luv 85.96 0 -35.53 / 1), color(--luv 86.768 0 -33.414 / 1), color(--luv 87.576 0 -31.305 / 1), color(--luv 88.384 0 -29.204 / 1), color(--luv 89.192 0 -27.111 / 1), color(--luv 90 0 -25.027 / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>[</span>
<span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;raytrace&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;lchuv&#39;</span><span class=p>,</span> <span class=n>adaptive</span><span class=o>=</span><span class=mf>0.5</span><span class=p>)</span>
<span class=gp>... </span>        <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;color(--lchuv 10% 100 270)&#39;</span><span class=p>,</span> <span class=s1>&#39;color(--lchuv 90% 100 270)&#39;</span><span class=p>],</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;luv&#39;</span><span class=p>,</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>)</span>
<span class=gp>... </span>    <span class=p>]</span>
<span class=gp>... </span><span class=p>)</span>
<span class=go>[color(--luv 17.611 0 -64.273 / 1), color(--luv 17.451 0 -63.689 / 1), color(--luv 17.753 0 -64.79 / 1), color(--luv 17.128 0 -62.511 / 1), color(--luv 19.3 0 -70.437 / 1), color(--luv 18.909 0 -69.008 / 1), color(--luv 20.223 0 -73.806 / 1), color(--luv 20.03 0 -73.099 / 1), color(--luv 35.778 0 -130.57 / 1), color(--luv 32.872 0 -119.97 / 1), color(--luv 30.938 0 -112.91 / 1), color(--luv 29.592 0 -108 / 1), color(--luv 28.638 0 -104.52 / 1), color(--luv 27.96 0 -102.04 / 1), color(--luv 26.531 0 -96.827 / 1), color(--luv 25.668 0 -93.677 / 1), color(--luv 25.499 0 -93.061 / 1), color(--luv 25.618 0 -93.493 / 1), color(--luv 25.886 0 -94.474 / 1), color(--luv 26.246 0 -95.788 / 1), color(--luv 26.669 0 -97.328 / 1), color(--luv 27.136 0 -99.035 / 1), color(--luv 27.778 0 -100 / 1), color(--luv 28.586 0 -100 / 1), color(--luv 29.394 0 -100 / 1), color(--luv 30.202 0 -100 / 1), color(--luv 31.01 0 -100 / 1), color(--luv 31.818 0 -100 / 1), color(--luv 32.626 0 -100 / 1), color(--luv 33.434 0 -100 / 1), color(--luv 34.242 0 -100 / 1), color(--luv 35.051 0 -100 / 1), color(--luv 35.859 0 -100 / 1), color(--luv 36.667 0 -100 / 1), color(--luv 37.475 0 -100 / 1), color(--luv 38.283 0 -100 / 1), color(--luv 39.091 0 -100 / 1), color(--luv 39.899 0 -100 / 1), color(--luv 40.707 0 -100 / 1), color(--luv 41.515 0 -100 / 1), color(--luv 42.323 0 -100 / 1), color(--luv 43.131 0 -100 / 1), color(--luv 43.939 0 -100 / 1), color(--luv 44.747 0 -100 / 1), color(--luv 45.556 0 -100 / 1), color(--luv 46.364 0 -100 / 1), color(--luv 47.172 0 -100 / 1), color(--luv 47.98 0 -100 / 1), color(--luv 48.788 0 -100 / 1), color(--luv 49.596 0 -100 / 1), color(--luv 50.404 0 -100 / 1), color(--luv 51.212 0 -100 / 1), color(--luv 52.02 0 -100 / 1), color(--luv 52.828 0 -100 / 1), color(--luv 53.636 0 -100 / 1), color(--luv 54.444 0 -100 / 1), color(--luv 55.253 0 -100 / 1), color(--luv 56.061 0 -100 / 1), color(--luv 56.869 0 -100 / 1), color(--luv 57.677 0 -100 / 1), color(--luv 58.485 0 -100 / 1), color(--luv 59.293 0 -100 / 1), color(--luv 60.101 0 -100 / 1), color(--luv 60.909 0 -100 / 1), color(--luv 61.67 0 -99.239 / 1), color(--luv 62.362 0 -97.554 / 1), color(--luv 63.041 0 -95.885 / 1), color(--luv 63.705 0 -94.235 / 1), color(--luv 64.356 0 -92.605 / 1), color(--luv 64.993 0 -90.996 / 1), color(--luv 65.616 0 -89.41 / 1), color(--luv 66.227 0 -87.847 / 1), color(--luv 66.825 0 -86.308 / 1), color(--luv 67.41 0 -84.794 / 1), color(--luv 67.983 0 -83.304 / 1), color(--luv 68.544 0 -81.84 / 1), color(--luv 69.093 0 -80.401 / 1), color(--luv 69.631 0 -78.987 / 1), color(--luv 70.157 0 -77.6 / 1), color(--luv 70.673 0 -76.237 / 1), color(--luv 71.178 0 -74.9 / 1), color(--luv 71.672 0 -73.588 / 1), color(--luv 72.156 0 -72.302 / 1), color(--luv 72.629 0 -71.04 / 1), color(--luv 73.093 0 -69.802 / 1), color(--luv 73.548 0 -68.589 / 1), color(--luv 73.993 0 -67.4 / 1), color(--luv 74.429 0 -66.235 / 1), color(--luv 74.855 0 -65.092 / 1), color(--luv 75.274 0 -63.973 / 1), color(--luv 75.683 0 -62.876 / 1), color(--luv 76.084 0 -61.801 / 1), color(--luv 76.478 0 -60.748 / 1), color(--luv 76.863 0 -59.716 / 1), color(--luv 77.24 0 -58.705 / 1), color(--luv 77.61 0 -57.715 / 1), color(--luv 77.972 0 -56.745 / 1), color(--luv 78.327 0 -55.794 / 1), color(--luv 78.675 0 -54.863 / 1), color(--luv 79.016 0 -53.951 / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_30 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_30 spellcheck=false>Steps(
    [
        c.fit('srgb', method='raytrace', pspace='lchuv', adaptive=0.0)
        for c in Color.steps(['color(--lchuv 10% 100 270)', 'color(--lchuv 90% 100 270)'], space='luv', steps=100)
    ]
)
Steps(
    [
        c.fit('srgb', method='raytrace', pspace='lchuv', adaptive=0.5)
        for c in Color.steps(['color(--lchuv 10% 100 270)', 'color(--lchuv 90% 100 270)'], space='luv', steps=100)
    ]
)</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_30 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_30 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_30 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_30 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> </div> <div class=tabbed-block> <div class=playground id=__playground_31> <div class=playground-results id=__playground-results_31> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(28.59 0 97.413) 0%,rgb(28.59 0 97.413) 1.0%,rgb(30.252 0 101.76) 1.0%,rgb(30.252 0 101.76) 2.0%,rgb(31.926 0 106.14) 2.0%,rgb(31.926 0 106.14) 3.0%,rgb(33.613 0 110.55) 3.0%,rgb(33.613 0 110.55) 4.0%,rgb(35.312 0 114.99) 4.0%,rgb(35.312 0 114.99) 5.0%,rgb(37.023 0 119.47) 5.0%,rgb(37.023 0 119.47) 6.0%,rgb(38.745 0 123.97) 6.0%,rgb(38.745 0 123.97) 7.0%,rgb(40.478 0 128.5) 7.0%,rgb(40.478 0 128.5) 8.0%,rgb(42.223 0 133.06) 8.0%,rgb(42.223 0 133.06) 9.0%,rgb(43.979 0 137.65) 9.0%,rgb(43.979 0 137.65) 10.0%,rgb(45.745 0 142.27) 10.0%,rgb(45.745 0 142.27) 11.0%,rgb(47.521 0 146.92) 11.0%,rgb(47.521 0 146.92) 12.0%,rgb(49.308 0 151.59) 12.0%,rgb(49.308 0 151.59) 13.0%,rgb(51.106 0 156.29) 13.0%,rgb(51.106 0 156.29) 14.0%,rgb(52.913 0 161.02) 14.0%,rgb(52.913 0 161.02) 15.0%,rgb(54.73 0 165.77) 15.0%,rgb(54.73 0 165.77) 16.0%,rgb(56.556 0 170.55) 16.0%,rgb(56.556 0 170.55) 17.0%,rgb(58.392 0 175.35) 17.0%,rgb(58.392 0 175.35) 18.0%,rgb(60.238 0 180.17) 18.0%,rgb(60.238 0 180.17) 19.0%,rgb(62.093 0 185.02) 19.0%,rgb(62.093 0 185.02) 20.0%,rgb(63.956 0 189.9) 20.0%,rgb(63.956 0 189.9) 21.0%,rgb(65.829 0 194.79) 21.0%,rgb(65.829 0 194.79) 22.0%,rgb(67.64 5.8837 197.01) 22.0%,rgb(67.64 5.8837 197.01) 23.0%,rgb(69.389 16.836 196.39) 23.0%,rgb(69.389 16.836 196.39) 24.0%,rgb(71.158 24.133 196.07) 24.0%,rgb(71.158 24.133 196.07) 25.0%,rgb(72.944 29.809 196) 25.0%,rgb(72.944 29.809 196) 26.0%,rgb(74.747 34.59 196.15) 26.0%,rgb(74.747 34.59 196.15) 27.0%,rgb(76.564 38.798 196.49) 27.0%,rgb(76.564 38.798 196.49) 28.0%,rgb(78.395 42.607 196.99) 28.0%,rgb(78.395 42.607 196.99) 29.0%,rgb(80.238 46.123 197.63) 29.0%,rgb(80.238 46.123 197.63) 30.0%,rgb(82.093 49.415 198.4) 30.0%,rgb(82.093 49.415 198.4) 31.0%,rgb(83.96 52.533 199.29) 31.0%,rgb(83.96 52.533 199.29) 32.0%,rgb(85.837 55.512 200.28) 32.0%,rgb(85.837 55.512 200.28) 33.0%,rgb(87.725 58.376 201.36) 33.0%,rgb(87.725 58.376 201.36) 34.0%,rgb(89.623 61.148 202.51) 34.0%,rgb(89.623 61.148 202.51) 35.0%,rgb(91.53 63.841 203.75) 35.0%,rgb(91.53 63.841 203.75) 36.0%,rgb(93.446 66.469 205.05) 36.0%,rgb(93.446 66.469 205.05) 37.0%,rgb(95.371 69.041 206.41) 37.0%,rgb(95.371 69.041 206.41) 38.0%,rgb(97.305 71.566 207.83) 38.0%,rgb(97.305 71.566 207.83) 39.0%,rgb(99.248 74.05 209.3) 39.0%,rgb(99.248 74.05 209.3) 40.0%,rgb(101.2 76.499 210.82) 40.0%,rgb(101.2 76.499 210.82) 41.0%,rgb(103.16 78.918 212.39) 41.0%,rgb(103.16 78.918 212.39) 42.0%,rgb(105.12 81.311 213.99) 42.0%,rgb(105.12 81.311 213.99) 43.0%,rgb(107.1 83.681 215.64) 43.0%,rgb(107.1 83.681 215.64) 44.0%,rgb(109.08 86.031 217.32) 44.0%,rgb(109.08 86.031 217.32) 45.0%,rgb(111.07 88.364 219.03) 45.0%,rgb(111.07 88.364 219.03) 46.0%,rgb(113.06 90.681 220.77) 46.0%,rgb(113.06 90.681 220.77) 47.0%,rgb(115.07 92.986 222.54) 47.0%,rgb(115.07 92.986 222.54) 48.0%,rgb(117.08 95.279 224.35) 48.0%,rgb(117.08 95.279 224.35) 49.0%,rgb(119.1 97.562 226.17) 49.0%,rgb(119.1 97.562 226.17) 50.0%,rgb(121.12 99.836 228.02) 50.0%,rgb(121.12 99.836 228.02) 51.0%,rgb(123.15 102.1 229.9) 51.0%,rgb(123.15 102.1 229.9) 52.0%,rgb(125.19 104.36 231.79) 52.0%,rgb(125.19 104.36 231.79) 53.0%,rgb(127.23 106.62 233.71) 53.0%,rgb(127.23 106.62 233.71) 54.0%,rgb(129.28 108.87 235.65) 54.0%,rgb(129.28 108.87 235.65) 55.0%,rgb(131.34 111.11 237.61) 55.0%,rgb(131.34 111.11 237.61) 56.0%,rgb(133.4 113.36 239.58) 56.0%,rgb(133.4 113.36 239.58) 57.0%,rgb(135.47 115.6 241.57) 57.0%,rgb(135.47 115.6 241.57) 58.0%,rgb(137.55 117.83 243.58) 58.0%,rgb(137.55 117.83 243.58) 59.0%,rgb(139.63 120.07 245.6) 59.0%,rgb(139.63 120.07 245.6) 60.0%,rgb(141.72 122.3 247.64) 60.0%,rgb(141.72 122.3 247.64) 61.0%,rgb(143.81 124.54 249.7) 61.0%,rgb(143.81 124.54 249.7) 62.0%,rgb(145.91 126.77 251.77) 62.0%,rgb(145.91 126.77 251.77) 63.0%,rgb(148.02 129 253.85) 63.0%,rgb(148.02 129 253.85) 64.0%,rgb(150.12 131.47 255) 64.0%,rgb(150.12 131.47 255) 65.0%,rgb(152.21 134.2 255) 65.0%,rgb(152.21 134.2 255) 66.0%,rgb(154.3 136.92 255) 66.0%,rgb(154.3 136.92 255) 67.0%,rgb(156.4 139.63 255) 67.0%,rgb(156.4 139.63 255) 68.0%,rgb(158.51 142.33 255) 68.0%,rgb(158.51 142.33 255) 69.0%,rgb(160.62 145.01 255) 69.0%,rgb(160.62 145.01 255) 70.0%,rgb(162.74 147.68 255) 70.0%,rgb(162.74 147.68 255) 71.0%,rgb(164.87 150.35 255) 71.0%,rgb(164.87 150.35 255) 72.0%,rgb(167 153.01 255) 72.0%,rgb(167 153.01 255) 73.0%,rgb(169.13 155.65 255) 73.0%,rgb(169.13 155.65 255) 74.0%,rgb(171.28 158.29 255) 74.0%,rgb(171.28 158.29 255) 75.0%,rgb(173.42 160.93 255) 75.0%,rgb(173.42 160.93 255) 76.0%,rgb(175.58 163.56 255) 76.0%,rgb(175.58 163.56 255) 77.0%,rgb(177.74 166.18 255) 77.0%,rgb(177.74 166.18 255) 78.0%,rgb(179.9 168.79 255) 78.0%,rgb(179.9 168.79 255) 79.0%,rgb(182.07 171.41 255) 79.0%,rgb(182.07 171.41 255) 80.0%,rgb(184.25 174.01 255) 80.0%,rgb(184.25 174.01 255) 81.0%,rgb(186.43 176.62 255) 81.0%,rgb(186.43 176.62 255) 82.0%,rgb(188.61 179.22 255) 82.0%,rgb(188.61 179.22 255) 83.0%,rgb(190.8 181.81 255) 83.0%,rgb(190.8 181.81 255) 84.0%,rgb(193 184.4 255) 84.0%,rgb(193 184.4 255) 85.0%,rgb(195.2 186.99 255) 85.0%,rgb(195.2 186.99 255) 86.0%,rgb(197.41 189.58 255) 86.0%,rgb(197.41 189.58 255) 87.0%,rgb(199.62 192.17 255) 87.0%,rgb(199.62 192.17 255) 88.0%,rgb(201.84 194.75 255) 88.0%,rgb(201.84 194.75 255) 89.0%,rgb(204.06 197.33 255) 89.0%,rgb(204.06 197.33 255) 90.0%,rgb(206.28 199.91 255) 90.0%,rgb(206.28 199.91 255) 91.0%,rgb(208.52 202.49 255) 91.0%,rgb(208.52 202.49 255) 92.0%,rgb(210.75 205.07 255) 92.0%,rgb(210.75 205.07 255) 93.0%,rgb(212.99 207.65 255) 93.0%,rgb(212.99 207.65 255) 94.0%,rgb(215.24 210.22 255) 94.0%,rgb(215.24 210.22 255) 95.0%,rgb(217.49 212.8 255) 95.0%,rgb(217.49 212.8 255) 96.0%,rgb(219.75 215.37 255) 96.0%,rgb(219.75 215.37 255) 97.0%,rgb(222.01 217.95 255) 97.0%,rgb(222.01 217.95 255) 98.0%,rgb(224.27 220.52 255) 98.0%,rgb(224.27 220.52 255) 99.0%,rgb(226.54 223.1 255) 99.0%,rgb(226.54 223.1 255) 100.0%"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(45.781 0 142.38) 0%,rgb(45.781 0 142.38) 1.0%,rgb(46.518 0 144.3) 1.0%,rgb(46.518 0 144.3) 2.0%,rgb(47.271 0 146.28) 2.0%,rgb(47.271 0 146.28) 3.0%,rgb(48.046 0 148.31) 3.0%,rgb(48.046 0 148.31) 4.0%,rgb(48.841 0 150.39) 4.0%,rgb(48.841 0 150.39) 5.0%,rgb(49.657 0 152.52) 5.0%,rgb(49.657 0 152.52) 6.0%,rgb(50.495 0 154.71) 6.0%,rgb(50.495 0 154.71) 7.0%,rgb(51.356 0 156.95) 7.0%,rgb(51.356 0 156.95) 8.0%,rgb(52.236 0 159.27) 8.0%,rgb(52.236 0 159.27) 9.0%,rgb(53.144 0 161.63) 9.0%,rgb(53.144 0 161.63) 10.0%,rgb(54.073 0 164.07) 10.0%,rgb(54.073 0 164.07) 11.0%,rgb(55.03 0 166.56) 11.0%,rgb(55.03 0 166.56) 12.0%,rgb(56.01 0 169.13) 12.0%,rgb(56.01 0 169.13) 13.0%,rgb(57.018 0 171.76) 13.0%,rgb(57.018 0 171.76) 14.0%,rgb(58.054 0 174.47) 14.0%,rgb(58.054 0 174.47) 15.0%,rgb(59.118 0 177.25) 15.0%,rgb(59.118 0 177.25) 16.0%,rgb(60.211 0 180.11) 16.0%,rgb(60.211 0 180.11) 17.0%,rgb(61.334 0 183.04) 17.0%,rgb(61.334 0 183.04) 18.0%,rgb(62.488 0 186.06) 18.0%,rgb(62.488 0 186.06) 19.0%,rgb(63.674 0 189.17) 19.0%,rgb(63.674 0 189.17) 20.0%,rgb(64.894 0 192.36) 20.0%,rgb(64.894 0 192.36) 21.0%,rgb(66.148 0 195.64) 21.0%,rgb(66.148 0 195.64) 22.0%,rgb(67.64 5.8837 197.01) 22.0%,rgb(67.64 5.8837 197.01) 23.0%,rgb(69.389 16.836 196.39) 23.0%,rgb(69.389 16.836 196.39) 24.0%,rgb(71.158 24.133 196.07) 24.0%,rgb(71.158 24.133 196.07) 25.0%,rgb(72.944 29.809 196) 25.0%,rgb(72.944 29.809 196) 26.0%,rgb(74.747 34.59 196.15) 26.0%,rgb(74.747 34.59 196.15) 27.0%,rgb(76.564 38.798 196.49) 27.0%,rgb(76.564 38.798 196.49) 28.0%,rgb(78.395 42.607 196.99) 28.0%,rgb(78.395 42.607 196.99) 29.0%,rgb(80.238 46.123 197.63) 29.0%,rgb(80.238 46.123 197.63) 30.0%,rgb(82.093 49.415 198.4) 30.0%,rgb(82.093 49.415 198.4) 31.0%,rgb(83.96 52.533 199.29) 31.0%,rgb(83.96 52.533 199.29) 32.0%,rgb(85.837 55.512 200.28) 32.0%,rgb(85.837 55.512 200.28) 33.0%,rgb(87.725 58.376 201.36) 33.0%,rgb(87.725 58.376 201.36) 34.0%,rgb(89.623 61.148 202.51) 34.0%,rgb(89.623 61.148 202.51) 35.0%,rgb(91.53 63.841 203.75) 35.0%,rgb(91.53 63.841 203.75) 36.0%,rgb(93.446 66.469 205.05) 36.0%,rgb(93.446 66.469 205.05) 37.0%,rgb(95.371 69.041 206.41) 37.0%,rgb(95.371 69.041 206.41) 38.0%,rgb(97.305 71.566 207.83) 38.0%,rgb(97.305 71.566 207.83) 39.0%,rgb(99.248 74.05 209.3) 39.0%,rgb(99.248 74.05 209.3) 40.0%,rgb(101.2 76.499 210.82) 40.0%,rgb(101.2 76.499 210.82) 41.0%,rgb(103.16 78.918 212.39) 41.0%,rgb(103.16 78.918 212.39) 42.0%,rgb(105.12 81.311 213.99) 42.0%,rgb(105.12 81.311 213.99) 43.0%,rgb(107.1 83.681 215.64) 43.0%,rgb(107.1 83.681 215.64) 44.0%,rgb(109.08 86.031 217.32) 44.0%,rgb(109.08 86.031 217.32) 45.0%,rgb(111.07 88.364 219.03) 45.0%,rgb(111.07 88.364 219.03) 46.0%,rgb(113.06 90.681 220.77) 46.0%,rgb(113.06 90.681 220.77) 47.0%,rgb(115.07 92.986 222.54) 47.0%,rgb(115.07 92.986 222.54) 48.0%,rgb(117.08 95.279 224.35) 48.0%,rgb(117.08 95.279 224.35) 49.0%,rgb(119.1 97.562 226.17) 49.0%,rgb(119.1 97.562 226.17) 50.0%,rgb(121.12 99.836 228.02) 50.0%,rgb(121.12 99.836 228.02) 51.0%,rgb(123.15 102.1 229.9) 51.0%,rgb(123.15 102.1 229.9) 52.0%,rgb(125.19 104.36 231.79) 52.0%,rgb(125.19 104.36 231.79) 53.0%,rgb(127.23 106.62 233.71) 53.0%,rgb(127.23 106.62 233.71) 54.0%,rgb(129.28 108.87 235.65) 54.0%,rgb(129.28 108.87 235.65) 55.0%,rgb(131.34 111.11 237.61) 55.0%,rgb(131.34 111.11 237.61) 56.0%,rgb(133.4 113.36 239.58) 56.0%,rgb(133.4 113.36 239.58) 57.0%,rgb(135.47 115.6 241.57) 57.0%,rgb(135.47 115.6 241.57) 58.0%,rgb(137.55 117.83 243.58) 58.0%,rgb(137.55 117.83 243.58) 59.0%,rgb(139.63 120.07 245.6) 59.0%,rgb(139.63 120.07 245.6) 60.0%,rgb(141.72 122.3 247.64) 60.0%,rgb(141.72 122.3 247.64) 61.0%,rgb(143.81 124.54 249.7) 61.0%,rgb(143.81 124.54 249.7) 62.0%,rgb(145.91 126.77 251.77) 62.0%,rgb(145.91 126.77 251.77) 63.0%,rgb(148.02 129 253.85) 63.0%,rgb(148.02 129 253.85) 64.0%,rgb(150 131.31 255) 64.0%,rgb(150 131.31 255) 65.0%,rgb(151.78 133.65 255) 65.0%,rgb(151.78 133.65 255) 66.0%,rgb(153.54 135.94 255) 66.0%,rgb(153.54 135.94 255) 67.0%,rgb(155.27 138.17 255) 67.0%,rgb(155.27 138.17 255) 68.0%,rgb(156.96 140.35 255) 68.0%,rgb(156.96 140.35 255) 69.0%,rgb(158.62 142.47 255) 69.0%,rgb(158.62 142.47 255) 70.0%,rgb(160.25 144.54 255) 70.0%,rgb(160.25 144.54 255) 71.0%,rgb(161.85 146.56 255) 71.0%,rgb(161.85 146.56 255) 72.0%,rgb(163.42 148.54 255) 72.0%,rgb(163.42 148.54 255) 73.0%,rgb(164.96 150.47 255) 73.0%,rgb(164.96 150.47 255) 74.0%,rgb(166.47 152.35 255) 74.0%,rgb(166.47 152.35 255) 75.0%,rgb(167.95 154.19 255) 75.0%,rgb(167.95 154.19 255) 76.0%,rgb(169.41 155.99 255) 76.0%,rgb(169.41 155.99 255) 77.0%,rgb(170.83 157.75 255) 77.0%,rgb(170.83 157.75 255) 78.0%,rgb(172.23 159.47 255) 78.0%,rgb(172.23 159.47 255) 79.0%,rgb(173.6 161.15 255) 79.0%,rgb(173.6 161.15 255) 80.0%,rgb(174.95 162.79 255) 80.0%,rgb(174.95 162.79 255) 81.0%,rgb(176.27 164.39 255) 81.0%,rgb(176.27 164.39 255) 82.0%,rgb(177.56 165.96 255) 82.0%,rgb(177.56 165.96 255) 83.0%,rgb(178.83 167.5 255) 83.0%,rgb(178.83 167.5 255) 84.0%,rgb(180.07 169 255) 84.0%,rgb(180.07 169 255) 85.0%,rgb(181.29 170.47 255) 85.0%,rgb(181.29 170.47 255) 86.0%,rgb(182.49 171.91 255) 86.0%,rgb(182.49 171.91 255) 87.0%,rgb(183.66 173.31 255) 87.0%,rgb(183.66 173.31 255) 88.0%,rgb(184.81 174.69 255) 88.0%,rgb(184.81 174.69 255) 89.0%,rgb(185.94 176.04 255) 89.0%,rgb(185.94 176.04 255) 90.0%,rgb(187.05 177.35 255) 90.0%,rgb(187.05 177.35 255) 91.0%,rgb(188.13 178.64 255) 91.0%,rgb(188.13 178.64 255) 92.0%,rgb(189.2 179.91 255) 92.0%,rgb(189.2 179.91 255) 93.0%,rgb(190.24 181.14 255) 93.0%,rgb(190.24 181.14 255) 94.0%,rgb(191.27 182.36 255) 94.0%,rgb(191.27 182.36 255) 95.0%,rgb(192.27 183.54 255) 95.0%,rgb(192.27 183.54 255) 96.0%,rgb(193.25 184.7 255) 96.0%,rgb(193.25 184.7 255) 97.0%,rgb(194.22 185.84 255) 97.0%,rgb(194.22 185.84 255) 98.0%,rgb(195.17 186.96 255) 98.0%,rgb(195.17 186.96 255) 99.0%,rgb(196.1 188.05 255) 99.0%,rgb(196.1 188.05 255) 100.0%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>[</span>
<span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;minde-chroma&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;lchuv&#39;</span><span class=p>,</span> <span class=n>adaptive</span><span class=o>=</span><span class=mf>0.0</span><span class=p>,</span> <span class=n>jnd</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>... </span>        <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;color(--lchuv 10% 100 270)&#39;</span><span class=p>,</span> <span class=s1>&#39;color(--lchuv 90% 100 270)&#39;</span><span class=p>],</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;luv&#39;</span><span class=p>,</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>)</span>
<span class=gp>... </span>    <span class=p>]</span>
<span class=gp>... </span><span class=p>)</span>
<span class=go>[color(--luv 10 -0.00001 -36.496 / 1), color(--luv 10.808 -0.00001 -39.445 / 1), color(--luv 11.616 -0.00001 -42.394 / 1), color(--luv 12.424 -0.00001 -45.343 / 1), color(--luv 13.232 -0.00001 -48.292 / 1), color(--luv 14.04 -0.00001 -51.241 / 1), color(--luv 14.849 -0.00001 -54.19 / 1), color(--luv 15.657 -0.00001 -57.14 / 1), color(--luv 16.465 -0.00001 -60.089 / 1), color(--luv 17.273 0 -63.038 / 1), color(--luv 18.081 0 -65.987 / 1), color(--luv 18.889 0 -68.936 / 1), color(--luv 19.697 0 -71.885 / 1), color(--luv 20.505 0 -74.834 / 1), color(--luv 21.313 -0.00001 -77.783 / 1), color(--luv 22.121 -0.00001 -80.733 / 1), color(--luv 22.929 -0.00001 -83.682 / 1), color(--luv 23.737 -0.00001 -86.631 / 1), color(--luv 24.545 -0.00001 -89.58 / 1), color(--luv 25.354 -0.00001 -92.529 / 1), color(--luv 26.162 -0.00001 -95.478 / 1), color(--luv 26.97 -0.00001 -98.427 / 1), color(--luv 27.778 0 -100 / 1), color(--luv 28.586 0 -100 / 1), color(--luv 29.394 0 -100 / 1), color(--luv 30.202 0 -100 / 1), color(--luv 31.01 0 -100 / 1), color(--luv 31.818 0 -100 / 1), color(--luv 32.626 0 -100 / 1), color(--luv 33.434 0 -100 / 1), color(--luv 34.242 0 -100 / 1), color(--luv 35.051 0 -100 / 1), color(--luv 35.859 0 -100 / 1), color(--luv 36.667 0 -100 / 1), color(--luv 37.475 0 -100 / 1), color(--luv 38.283 0 -100 / 1), color(--luv 39.091 0 -100 / 1), color(--luv 39.899 0 -100 / 1), color(--luv 40.707 0 -100 / 1), color(--luv 41.515 0 -100 / 1), color(--luv 42.323 0 -100 / 1), color(--luv 43.131 0 -100 / 1), color(--luv 43.939 0 -100 / 1), color(--luv 44.747 0 -100 / 1), color(--luv 45.556 0 -100 / 1), color(--luv 46.364 0 -100 / 1), color(--luv 47.172 0 -100 / 1), color(--luv 47.98 0 -100 / 1), color(--luv 48.788 0 -100 / 1), color(--luv 49.596 0 -100 / 1), color(--luv 50.404 0 -100 / 1), color(--luv 51.212 0 -100 / 1), color(--luv 52.02 0 -100 / 1), color(--luv 52.828 0 -100 / 1), color(--luv 53.636 0 -100 / 1), color(--luv 54.444 0 -100 / 1), color(--luv 55.253 0 -100 / 1), color(--luv 56.061 0 -100 / 1), color(--luv 56.869 0 -100 / 1), color(--luv 57.677 0 -100 / 1), color(--luv 58.485 0 -100 / 1), color(--luv 59.293 0 -100 / 1), color(--luv 60.101 0 -100 / 1), color(--luv 60.909 0 -100 / 1), color(--luv 61.717 0 -99.125 / 1), color(--luv 62.525 0 -97.155 / 1), color(--luv 63.333 0.00001 -95.16 / 1), color(--luv 64.141 0 -93.143 / 1), color(--luv 64.949 0.00001 -91.105 / 1), color(--luv 65.758 0 -89.049 / 1), color(--luv 66.566 0.00001 -86.976 / 1), color(--luv 67.374 0.00001 -84.888 / 1), color(--luv 68.182 0 -82.786 / 1), color(--luv 68.99 0.00001 -80.672 / 1), color(--luv 69.798 0.00001 -78.548 / 1), color(--luv 70.606 0.00001 -76.414 / 1), color(--luv 71.414 0.00001 -74.272 / 1), color(--luv 72.222 0 -72.124 / 1), color(--luv 73.03 0 -69.971 / 1), color(--luv 73.838 0.00001 -67.813 / 1), color(--luv 74.646 0 -65.652 / 1), color(--luv 75.455 0 -63.488 / 1), color(--luv 76.263 0 -61.324 / 1), color(--luv 77.071 0 -59.159 / 1), color(--luv 77.879 0 -56.994 / 1), color(--luv 78.687 0.00001 -54.831 / 1), color(--luv 79.495 0 -52.67 / 1), color(--luv 80.303 0 -50.511 / 1), color(--luv 81.111 0 -48.356 / 1), color(--luv 81.919 0 -46.205 / 1), color(--luv 82.727 0 -44.059 / 1), color(--luv 83.535 0.00001 -41.918 / 1), color(--luv 84.343 0 -39.782 / 1), color(--luv 85.152 0 -37.652 / 1), color(--luv 85.96 0.00001 -35.53 / 1), color(--luv 86.768 0 -33.414 / 1), color(--luv 87.576 0 -31.305 / 1), color(--luv 88.384 0 -29.204 / 1), color(--luv 89.192 0 -27.111 / 1), color(--luv 90 0 -25.027 / 1)]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>[</span>
<span class=gp>... </span>        <span class=n>c</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;minde-chroma&#39;</span><span class=p>,</span> <span class=n>pspace</span><span class=o>=</span><span class=s1>&#39;lchuv&#39;</span><span class=p>,</span> <span class=n>adaptive</span><span class=o>=</span><span class=mf>0.5</span><span class=p>,</span> <span class=n>jnd</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>... </span>        <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=s1>&#39;color(--lchuv 10% 100 270)&#39;</span><span class=p>,</span> <span class=s1>&#39;color(--lchuv 90% 100 270)&#39;</span><span class=p>],</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;luv&#39;</span><span class=p>,</span> <span class=n>steps</span><span class=o>=</span><span class=mi>100</span><span class=p>)</span>
<span class=gp>... </span>    <span class=p>]</span>
<span class=gp>... </span><span class=p>)</span>
<span class=go>[color(--luv 18.099 -0.00091 -66.054 / 1), color(--luv 18.433 -0.00004 -67.273 / 1), color(--luv 18.778 -0.00146 -68.533 / 1), color(--luv 19.129 -0.00145 -69.815 / 1), color(--luv 19.489 -0.00153 -71.127 / 1), color(--luv 19.857 -0.00147 -72.47 / 1), color(--luv 20.233 -0.00106 -73.842 / 1), color(--luv 20.617 -0.00008 -75.244 / 1), color(--luv 21.014 -0.00154 -76.693 / 1), color(--luv 21.417 -0.00033 -78.162 / 1), color(--luv 21.832 -0.00103 -79.677 / 1), color(--luv 22.255 -0.00021 -81.22 / 1), color(--luv 22.689 -0.00076 -82.807 / 1), color(--luv 23.134 -0.00084 -84.431 / 1), color(--luv 23.589 -0.00022 -86.09 / 1), color(--luv 24.056 -0.00014 -87.793 / 1), color(--luv 24.534 -0.00031 -89.539 / 1), color(--luv 25.024 -0.00045 -91.327 / 1), color(--luv 25.526 -0.00027 -93.158 / 1), color(--luv 26.041 -0.00093 -95.039 / 1), color(--luv 26.568 -0.00071 -96.961 / 1), color(--luv 27.108 -0.00071 -98.933 / 1), color(--luv 27.778 0 -100 / 1), color(--luv 28.586 0 -100 / 1), color(--luv 29.394 0 -100 / 1), color(--luv 30.202 0 -100 / 1), color(--luv 31.01 0 -100 / 1), color(--luv 31.818 0 -100 / 1), color(--luv 32.626 0 -100 / 1), color(--luv 33.434 0 -100 / 1), color(--luv 34.242 0 -100 / 1), color(--luv 35.051 0 -100 / 1), color(--luv 35.859 0 -100 / 1), color(--luv 36.667 0 -100 / 1), color(--luv 37.475 0 -100 / 1), color(--luv 38.283 0 -100 / 1), color(--luv 39.091 0 -100 / 1), color(--luv 39.899 0 -100 / 1), color(--luv 40.707 0 -100 / 1), color(--luv 41.515 0 -100 / 1), color(--luv 42.323 0 -100 / 1), color(--luv 43.131 0 -100 / 1), color(--luv 43.939 0 -100 / 1), color(--luv 44.747 0 -100 / 1), color(--luv 45.556 0 -100 / 1), color(--luv 46.364 0 -100 / 1), color(--luv 47.172 0 -100 / 1), color(--luv 47.98 0 -100 / 1), color(--luv 48.788 0 -100 / 1), color(--luv 49.596 0 -100 / 1), color(--luv 50.404 0 -100 / 1), color(--luv 51.212 0 -100 / 1), color(--luv 52.02 0 -100 / 1), color(--luv 52.828 0 -100 / 1), color(--luv 53.636 0 -100 / 1), color(--luv 54.444 0 -100 / 1), color(--luv 55.253 0 -100 / 1), color(--luv 56.061 0 -100 / 1), color(--luv 56.869 0 -100 / 1), color(--luv 57.677 0 -100 / 1), color(--luv 58.485 0 -100 / 1), color(--luv 59.293 0 -100 / 1), color(--luv 60.101 0 -100 / 1), color(--luv 60.909 0 -100 / 1), color(--luv 61.67 0.00041 -99.239 / 1), color(--luv 62.362 0.00052 -97.554 / 1), color(--luv 63.041 0.00014 -95.885 / 1), color(--luv 63.705 0.00037 -94.235 / 1), color(--luv 64.356 0.00041 -92.605 / 1), color(--luv 64.993 0.00013 -90.996 / 1), color(--luv 65.616 0.00006 -89.41 / 1), color(--luv 66.227 0.0001 -87.847 / 1), color(--luv 66.825 0.0002 -86.308 / 1), color(--luv 67.41 0.00029 -84.793 / 1), color(--luv 67.983 0.00032 -83.304 / 1), color(--luv 68.544 0.00027 -81.839 / 1), color(--luv 69.093 0.00012 -80.4 / 1), color(--luv 69.631 0.0005 -78.986 / 1), color(--luv 70.158 0.0001 -77.599 / 1), color(--luv 70.673 0.00025 -76.236 / 1), color(--luv 71.178 0.00029 -74.899 / 1), color(--luv 71.672 0.00024 -73.587 / 1), color(--luv 72.156 0.00012 -72.301 / 1), color(--luv 72.63 0.00063 -71.038 / 1), color(--luv 73.094 0.00045 -69.801 / 1), color(--luv 73.548 0.00029 -68.588 / 1), color(--luv 73.993 0.00018 -67.399 / 1), color(--luv 74.429 0.00016 -66.234 / 1), color(--luv 74.856 0.00028 -65.091 / 1), color(--luv 75.274 0.00057 -63.971 / 1), color(--luv 75.684 0.00039 -62.874 / 1), color(--luv 76.085 0.00047 -61.799 / 1), color(--luv 76.478 0.00015 -60.747 / 1), color(--luv 76.863 0.00019 -59.715 / 1), color(--luv 77.241 0.00065 -58.702 / 1), color(--luv 77.61 0.00011 -57.714 / 1), color(--luv 77.972 0.00009 -56.743 / 1), color(--luv 78.328 0.00063 -55.791 / 1), color(--luv 78.676 0.00031 -54.861 / 1), color(--luv 79.017 0.00066 -53.947 / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_31 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_31 spellcheck=false>Steps(
    [
        c.fit('srgb', method='minde-chroma', pspace='lchuv', adaptive=0.0, jnd=0)
        for c in Color.steps(['color(--lchuv 10% 100 270)', 'color(--lchuv 90% 100 270)'], space='luv', steps=100)
    ]
)
Steps(
    [
        c.fit('srgb', method='minde-chroma', pspace='lchuv', adaptive=0.5, jnd=0)
        for c in Color.steps(['color(--lchuv 10% 100 270)', 'color(--lchuv 90% 100 270)'], space='luv', steps=100)
    ]
)</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_31 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_31 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_31 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_31 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> </div> </div> </div> </div> <h2 id=pointers-gamut>Pointer's Gamut<a class=headerlink href=#pointers-gamut title="Permanent link"></a></h2> <div class="admonition new"> <p class=admonition-title>New 2.4</p> </div> <p>The Pointers gamut is (an approximation of) the gamut of real surface colors as can be seen by the human eye, based on the research by Michael R. Pointer (1980). What this means is that every color that can be reflected by the surface of an object of any material should be is inside the Pointers gamut. This does not include, however, those that do not occur naturally, such as neon lights, etc.</p> <p><img alt="Pointer's Gamut" src=../images/pointers-gamut.png></p> <p>While in the above image, it may appear that most of sRGB is in the gamut, it is important to note that the image is showing the maximum range of the gamut. The actual boundary will be different at different luminance levels.</p> <p><img alt="Pointer's Gamut lightness Levels" src=../images/pointer-gamut-lightness.png></p> <p>The gamuts previously discussed are bound by a color space's limits, but the Pointer's gamut applies to colors more generally and was created from observed data via research. Because it doesn't quite fit with the color space gamut API, ColorAide exposes two special functions to test if a color is in the Pointer's gamut and to fit a color to the gamut.</p> <p>To test if a color is within the gamut, simply call <code>in_pointer_gamut()</code>:</p> <div class=playground id=__playground_32> <div class=playground-results id=__playground-results_32> <div class=color-command><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;red&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>in_pointer_gamut</span><span class=p>()</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=p>(</span><span class=s1>&#39;orange&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>in_pointer_gamut</span><span class=p>()</span>
<span class=go>True</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_32 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_32 spellcheck=false>Color('red').in_pointer_gamut()
Color('orange').in_pointer_gamut()</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_32 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_32 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_32 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_32 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>ColorAide also provides a way to fit a color to the Pointer's gamut. The original gamut's data is described in LCh using illuminant C. Using this color space, we can estimate the chroma limit for any color based on it's lightness and hue. We can then reduce the chroma, preserving the lightness and hue. The image below shows the out of Pointer's gamut color <span><span class=swatch title=red><span class=swatch-color style="--swatch-stops: #ff0000,#ff0000;"></span></span><code class=highlight><span class=kc>red</span></code></span> (indicated by the <code>x</code>) which is clamped to the Pointer's gamut by reducing the chroma (indicated by the dot).</p> <p><img alt="Pointer's Gamut Fitted" src=../images/pointer-gamut-fit.png></p> <p>ColorAide provides the <code>fit_pointer_gamut()</code> method to perform this "fitting" of the color.</p> <div class=playground id=__playground_33> <div class=playground-results id=__playground-results_33> <div class=color-command><div class=swatch-bar><span class=swatch title="rgb(255 0 0)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(255 0 0) 50%, rgb(255 0 0) 50%"></span></span> <span class=swatch title="rgb(244 46.539 23.139)Copy to clipboard"><span class=swatch-color style="--swatch-stops: rgb(244 46.539 23.139) 50%, rgb(244 46.539 23.139) 50%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>color</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;red&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>color</span>
<span class=go>color(srgb 1 0 0 / 1)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>color</span><span class=o>.</span><span class=n>in_pointer_gamut</span><span class=p>()</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>color</span><span class=o>.</span><span class=n>fit_pointer_gamut</span><span class=p>()</span>
<span class=go>color(srgb 0.95687 0.18251 0.09074 / 1)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>color</span><span class=o>.</span><span class=n>in_pointer_gamut</span><span class=p>()</span>
<span class=go>True</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_33 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_33 spellcheck=false>color = Color('red')
color
color.in_pointer_gamut()
color.fit_pointer_gamut()
color.in_pointer_gamut()</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_33 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_33 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_33 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_33 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Much like <code>in_gamut()</code>, <code>in_pointer_gamut()</code> allows adjusting tolerance as well via the <code>tolerance</code> parameter.</p> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">March 15, 2025</span> </span> </aside> <footer class=sponsorship> <hr> <a href=https://github.com/sponsors/facelessuser title="Become a sponsor"> <span class="twemoji heart-throb-hover"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M7.655 14.916zh-.002l-.006-.003-.018-.01a22 22 0 0 1-3.744-2.584C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.044 5.231-3.886 6.818a22 22 0 0 1-3.433 2.414 7 7 0 0 1-.31.17l-.018.01-.008.004a.75.75 0 0 1-.69 0"/></svg> </span> </a> <hr> </footer> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=footer.title> <a href=../contrast/ class="md-footer__link md-footer__link--prev" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Contrast </div> </div> </a> <a href=../chromaticity/ class="md-footer__link md-footer__link--next" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Chromaticity </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 - 2025 <a href=https://github.com/facelessuser target=_blank rel=noopener>Isaac Muse</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> with emoji by <a href=https://github.com/twitter/twemoji target=_blank rel=noopener> Twemoji </a> </div> <div class=md-social> <a href=https://github.com/facelessuser target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["announce.dismiss", "navigation.tabs", "navigation.top", "navigation.instant", "navigation.sections", "navigation.indexes", "toc.follow", "content.code.copy", "navigation.footer", "search.share", "search.highlight", "search.suggest"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.c8b220af.min.js></script> <script src=https://cdn.jsdelivr.net/npm/ace-builds@1.39.0/src-min-noconflict/ace.js></script> <script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script> <script src=../playground-config-d112cc38.js></script> <script src=https://cdn.jsdelivr.net/pyodide/v0.27.3/full/pyodide.js></script> <script src=../assets/coloraide-extras/extra-notebook-CuRWK8GL.js></script> <script src=../assets/pymdownx-extras/extra-loader-B5CKpNQx.js></script> </body> </html>