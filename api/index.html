
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A library to aid in using colors">
      
      
      
      
        <link rel="canonical" href="https://facelessuser.github.io/coloraide/api/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.6">
    
    
      
        <title>Color API - ColorAide Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.802231af.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
    
    

<script src="../assets/pymdownx-extras/material-extra-theme-7c147bb7.js" type="text/javascript"></script>

    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../playground.css">
    
      <link rel="stylesheet" href="../assets/pymdownx-extras/extra-aa7dff8003.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="dracula" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#color-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      


<header class="md-header" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >
    <a
      href="https://facelessuser.github.io/coloraide/"
      title="ColorAide Documentation"
      class="md-header__button md-logo"
      aria-label="ColorAide Documentation"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5V2M6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ColorAide Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Color API
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      <div class="md-header-nav__scheme md-header-nav__button md-source__icon md-icon">
          <a
            href="javascript:toggleScheme();"
            title="Light mode"
            class="light-mode"
          >
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"/></svg>
          </a>
          <a
            href="javascript:toggleScheme();"
            title="Dark mode"
            class="dark-mode"
          >
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg>
          </a>
          <a
            href="javascript:toggleScheme();"
            title="System preference"
            class="system-mode"
          >
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7.5 2c-1.79 1.15-3 3.18-3 5.5s1.21 4.35 3.03 5.5C4.46 13 2 10.54 2 7.5A5.5 5.5 0 0 1 7.5 2m11.57 1.5 1.43 1.43L4.93 20.5 3.5 19.07 19.07 3.5m-6.18 2.43L11.41 5 9.97 6l.42-1.7L9 3.24l1.75-.12.58-1.65L12 3.1l1.73.03-1.35 1.13.51 1.67m-3.3 3.61-1.16-.73-1.12.78.34-1.32-1.09-.83 1.36-.09.45-1.29.51 1.27 1.36.03-1.05.87.4 1.31M19 13.5a5.5 5.5 0 0 1-5.5 5.5c-1.22 0-2.35-.4-3.26-1.07l7.69-7.69c.67.91 1.07 2.04 1.07 3.26m-4.4 6.58 2.77-1.15-.24 3.35-2.53-2.2m4.33-2.7 1.15-2.77 2.2 2.54-3.35.23m1.15-4.96-1.14-2.78 3.34.24-2.2 2.54M9.63 18.93l2.77 1.15-2.53 2.19-.24-3.34z"/></svg>
          </a>
           <a
            href="javascript:toggleScheme();"
            title="Unknown scheme"
            class="unknown-mode"
          >
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m15.07 11.25-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2 2 2 0 0 0-2 2H8a4 4 0 0 1 4-4 4 4 0 0 1 4 4 3.2 3.2 0 0 1-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10z"/></svg>
          </a>
      </div>
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/facelessuser/coloraide/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        ColorAide
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../colors/" class="md-tabs__link">
        Color Spaces
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        API
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../playground/" class="md-tabs__link">
      Playground
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../about/contributing/" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ColorAide Documentation" class="md-nav__button md-logo" aria-label="ColorAide Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5V2M6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5z"/></svg>

    </a>
    ColorAide Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/facelessuser/coloraide/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        ColorAide
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="ColorAide" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          ColorAide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Setup
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../color/" class="md-nav__link">
        The Color Object
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../manipulation/" class="md-nav__link">
        Manipulating Colors
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../interpolation/" class="md-nav__link">
        Color Interpolation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../compositing/" class="md-nav__link">
        Compositing and Blending
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../distance/" class="md-nav__link">
        Color Distance and Delta E
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gamut/" class="md-nav__link">
        Gamut Mapping
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cat/" class="md-nav__link">
        Chromatic Adaptation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../contrast/" class="md-nav__link">
        Contrast
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../strings/" class="md-nav__link">
        String Output
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Color Spaces
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Color Spaces" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Color Spaces
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../colors/" class="md-nav__link">
        Supported Colors
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        API
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Color API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Color API
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nan" class="md-nav__link">
    coloraide.NaN
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#piecewise" class="md-nav__link">
    coloraide.Piecewise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#color" class="md-nav__link">
    coloraide.Color
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#match" class="md-nav__link">
    Color.match
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#new" class="md-nav__link">
    Color.new
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone" class="md-nav__link">
    Color.clone
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    Color.update
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mutate" class="md-nav__link">
    Color.mutate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#convert" class="md-nav__link">
    Color.convert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#space" class="md-nav__link">
    Color.space
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coords" class="md-nav__link">
    Color.coords
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#to_string" class="md-nav__link">
    Color.to_string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#luminance" class="md-nav__link">
    Color.luminance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#colorcontrast" class="md-nav__link">
    Color.contrast
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distance" class="md-nav__link">
    Color.distance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delta_e" class="md-nav__link">
    Color.delta_e
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mask" class="md-nav__link">
    color.mask
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interpolate" class="md-nav__link">
    Color.interpolate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#steps" class="md-nav__link">
    Color.steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mix" class="md-nav__link">
    Color.mix
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#average" class="md-nav__link">
    Color.average
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compose" class="md-nav__link">
    Color.compose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fit" class="md-nav__link">
    Color.fit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#in_gamut" class="md-nav__link">
    Color.in_gamut
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    Color.get
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set" class="md-nav__link">
    Color.set
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is_nan" class="md-nav__link">
    Color.is_nan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#color-channel-properties" class="md-nav__link">
    Color Channel Properties
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../playground/" class="md-nav__link">
        Playground
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        About
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../about/contributing/" class="md-nav__link">
        Contributing &amp; Support
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../about/changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../about/license/" class="md-nav__link">
        License
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nan" class="md-nav__link">
    coloraide.NaN
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#piecewise" class="md-nav__link">
    coloraide.Piecewise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#color" class="md-nav__link">
    coloraide.Color
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#match" class="md-nav__link">
    Color.match
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#new" class="md-nav__link">
    Color.new
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone" class="md-nav__link">
    Color.clone
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    Color.update
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mutate" class="md-nav__link">
    Color.mutate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#convert" class="md-nav__link">
    Color.convert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#space" class="md-nav__link">
    Color.space
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coords" class="md-nav__link">
    Color.coords
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#to_string" class="md-nav__link">
    Color.to_string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#luminance" class="md-nav__link">
    Color.luminance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#colorcontrast" class="md-nav__link">
    Color.contrast
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distance" class="md-nav__link">
    Color.distance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delta_e" class="md-nav__link">
    Color.delta_e
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mask" class="md-nav__link">
    color.mask
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interpolate" class="md-nav__link">
    Color.interpolate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#steps" class="md-nav__link">
    Color.steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mix" class="md-nav__link">
    Color.mix
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#average" class="md-nav__link">
    Color.average
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compose" class="md-nav__link">
    Color.compose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fit" class="md-nav__link">
    Color.fit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#in_gamut" class="md-nav__link">
    Color.in_gamut
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    Color.get
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set" class="md-nav__link">
    Color.set
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is_nan" class="md-nav__link">
    Color.is_nan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#color-channel-properties" class="md-nav__link">
    Color Channel Properties
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
  
                
                  <a href="https://github.com/facelessuser/coloraide/tree/master/docs/src/markdown/api/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="color-api">Color API<a class="headerlink" href="#color-api" title="Permanent link"></a></h1>
<h2 id="nan"><code>coloraide.NaN</code><a class="headerlink" href="#nan" title="Permanent link"></a></h2>
<dl>
<dt>Description</dt>
<dd><code>NaN</code> is a convenience constant for <code>float('nan')</code>. <code>NaN</code>.</dd>
<dt>Import path</dt>
<dd>
<p><code>NaN</code> is imported from the <code>coloraide</code> library:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">coloraide</span> <span class="kn">import</span> <span class="n">NaN</span>
</code></pre></div>
</dd>
</dl>
<h2 id="piecewise"><code>coloraide.Piecewise</code><a class="headerlink" href="#piecewise" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Piecewise</span><span class="p">(</span>
    <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Piecewise&#39;</span><span class="p">,</span>
        <span class="p">[</span>
            <span class="s1">&#39;color&#39;</span><span class="p">,</span>
            <span class="s1">&#39;stop&#39;</span><span class="p">,</span>
            <span class="s1">&#39;progress&#39;</span><span class="p">,</span>
            <span class="s1">&#39;hue&#39;</span><span class="p">,</span>
            <span class="s1">&#39;premultiplied&#39;</span>
        <span class="p">]</span>
    <span class="p">)</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd><code>Piecewise</code> objects are used in <a href="#interpolate"><code>interpolate</code></a> methods. They allow a user to control interpolation
<code>stops</code>, <code>progress</code>, <code>hue</code>, or <code>premultiplied</code> options for a specific interpolation piece when doing piecewise
interpolation.</dd>
<dt>Import Path</dt>
<dd>
<p><code>Piecewise</code> is imported from <code>coloraide</code> library:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">coloraide</span> <span class="kn">import</span> <span class="n">Piecewise</span>
</code></pre></div>
</dd>
<dt>Parameters</dt>
<dd>Input parameters match <a href="#interpolate"><code>interpolate</code></a> parameters of the same name. Only <code>color</code> is required and all
   other parameters default to <code class="highlight"><span class="kc">None</span></code>. If a parameter is <code class="highlight"><span class="kc">None</span></code>, it will be ignored by
   <a href="#interpolate"><code>interpolate</code></a>.</dd>
</dl>
<h2 id="color"><code>coloraide.Color</code><a class="headerlink" href="#color" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Color</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">color</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">alpha</span><span class="o">=</span><span class="n">util</span><span class="o">.</span><span class="n">DEF_ALPHA</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">filters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>The <code>Color</code> class object is a wrapper around the internal color space objects. It provides an API interface to allow
users to specify and manipulate colors.</dd>
<dt>Import path</dt>
<dd>
<p><code>Color</code> is imported from the <code>coloraide</code> library:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">coloraide</span> <span class="kn">import</span> <span class="n">Color</span>
</code></pre></div>
</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td></td>
<td>A color string, or other <code>Color</code> class object. If given <code>data</code>, a string must be used and should represent the color space to use.</td>
</tr>
<tr>
<td><code>data</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td><code>data</code> accepts a list of numbers representing the coordinates of the color. If provided, <code>color</code> must be a string specifying the color space.</td>
</tr>
<tr>
<td><code>alpha</code></td>
<td><code class="highlight"><span class="mi">1</span></code></td>
<td><code>alpha</code> accepts a number specifying the <code>alpha</code> channel. Must be used in conjunction with <code>data</code> or it will be ignored.</td>
</tr>
<tr>
<td><code>filters</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td><code>filters</code> accepts a list of color spaces to allow. When <code class="highlight"><span class="kc">None</span></code> is provided (the default) all supported color spaces are accepted.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<h2 id="match"><code>Color.match</code><a class="headerlink" href="#match" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">match</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">string</span><span class="p">,</span>
    <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">fullmatch</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">filters</span><span class="o">=</span><span class="kc">None</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>
<p>The <code>match</code> class method provides access to the color matching interface and allows a user to provide a color string
and get back a <code>ColorMatch</code> object. <code>ColorMatch</code> objects contain three properties:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ColorMatch</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">color</span><span class="p">,</span>
        <span class="n">start</span><span class="p">,</span>
        <span class="n">end</span>
    <span class="p">):</span>
</code></pre></div>
<ol>
<li><code>color</code>: the <code>Color</code> object.</li>
<li><code>start</code>: the starting point within the string buffer where the color was found.</li>
<li><code>end</code>: the ending point within the string buffer where the color was found.</li>
</ol>
<p>Match does not search the entire buffer, but simply matches at the location specified by <code>start</code>.</p>
</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>string</code></td>
<td></td>
<td>A string representing the color.</td>
</tr>
<tr>
<td><code>start</code></td>
<td><code class="highlight"><span class="mi">0</span></code></td>
<td>Accepts a integer offset into the provided string buffer to start the match.</td>
</tr>
<tr>
<td><code>fullmatch</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>A boolean which defines whether match must match to the end of the string buffer.</td>
</tr>
<tr>
<td><code>filters</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td><code>filters</code> accepts a list of color spaces to allow. When <code class="highlight"><span class="kc">None</span></code> is provided (the default) all supported color spaces are accepted.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a <code>ColorMatch</code> object.</dd>
</dl>
<h2 id="new"><code>Color.new</code><a class="headerlink" href="#new" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">new</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">color</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="n">util</span><span class="o">.</span><span class="n">DEF_ALPHA</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">filters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>The <code>new</code> class method exposes the interface of creating new color objects. Using <code>new</code> is the same as using
<a href="#color"><code>Color()</code></a>.</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td></td>
<td>A color string, or other <code>Color</code> class object. If given <code>data</code>, a string must be used and should represent the color space to use.</td>
</tr>
<tr>
<td><code>data</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td><code>data</code> accepts a list of numbers representing the coordinates of the color. If provided, <code>color</code> must be a string specifying the color space.</td>
</tr>
<tr>
<td><code>alpha</code></td>
<td><code class="highlight"><span class="mi">1</span></code></td>
<td><code>alpha</code> accepts a number specifying the <code>alpha</code> channel. Must be used in conjunction with <code>data</code> or it will be ignored.</td>
</tr>
<tr>
<td><code>filters</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td><code>filters</code> accepts a list of color spaces to allow. When <code class="highlight"><span class="kc">None</span></code> is provided (the default) all supported color spaces are accepted.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a <a href="#color"><code>Color</code></a> object.</dd>
</dl>
<h2 id="clone"><code>Color.clone</code><a class="headerlink" href="#clone" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">clone</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>The <code>clone</code> method provides a way to create a duplicate of the current <code>Color</code> instance.</dd>
<dt>Return</dt>
<dd>Returns a <a href="#color"><code>Color</code></a> object.</dd>
</dl>
<h2 id="update"><code>Color.update</code><a class="headerlink" href="#update" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">color</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="n">util</span><span class="o">.</span><span class="n">DEF_ALPHA</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">filters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>The <code>update</code> method provides a way to update the underlying color spaces with coordinates from any color space. The
methods signature looks just like <a href="#new"><code>new</code></a> and accepts color strings, <code>Color</code> objects, or raw data points
specified with a color space string and coordinates. The object itself will be updated and remain in its current
color space.</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td></td>
<td>A color string, or other <code>Color</code> class object. If given <code>data</code>, a string must be used and should represent the color space to use.</td>
</tr>
<tr>
<td><code>data</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td><code>data</code> accepts a list of numbers representing the coordinates of the color. If provided, <code>color</code> must be a string specifying the color space.</td>
</tr>
<tr>
<td><code>alpha</code></td>
<td><code class="highlight"><span class="mi">1</span></code></td>
<td><code>alpha</code> accepts a number specifying the <code>alpha</code> channel. Must be used in conjunction with <code>data</code> or it will be ignored.</td>
</tr>
<tr>
<td><code>filters</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td><code>filters</code> accepts a list of color spaces to allow. When <code class="highlight"><span class="kc">None</span></code> is provided (the default) all supported color spaces are accepted.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a reference to the current <code>Color</code> object.</dd>
</dl>
<h2 id="mutate"><code>Color.mutate</code><a class="headerlink" href="#mutate" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">mutate</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">color</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="n">util</span><span class="o">.</span><span class="n">DEF_ALPHA</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">filters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>The <code>mutate</code> method is just like <a href="#update"><code>update</code></a> except that it will not only update the color space, but mutate
it to the provided color space.</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td></td>
<td>A color string, or other <code>Color</code> class object. If given <code>data</code>, a string must be used and should represent the color space to use.</td>
</tr>
<tr>
<td><code>data</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td><code>data</code> accepts a list of numbers representing the coordinates of the color. If provided, <code>color</code> must be a string specifying the color space.</td>
</tr>
<tr>
<td><code>alpha</code></td>
<td><code class="highlight"><span class="mi">1</span></code></td>
<td><code>alpha</code> accepts a number specifying the <code>alpha</code> channel. Must be used in conjunction with <code>data</code> or it will be ignored.</td>
</tr>
<tr>
<td><code>filters</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td><code>filters</code> accepts a list of color spaces to allow. When <code class="highlight"><span class="kc">None</span></code> is provided (the default) all supported color spaces are accepted.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a reference to the current <a href="#color"><code>Color</code></a> object.</dd>
</dl>
<h2 id="convert"><code>Color.convert</code><a class="headerlink" href="#convert" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">convert</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">space</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">fit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">in_place</span><span class="o">=</span><span class="kc">False</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>Converts a <a href="#color"><code>Color</code></a> object from one color space to another. If the current color space matches the
specified color space, the object will be cloned.</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>space</code></td>
<td></td>
<td>A string representing the desired final color space.</td>
</tr>
<tr>
<td><code>fit</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>Boolean specifying whether the current color should be gamut mapped into the final, desired color space.</td>
</tr>
<tr>
<td><code>in_place</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>Boolean specifying whether the convert should alter the current <a href="#color"><code>Color</code></a> object or return a new one.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a reference to the converted <a href="#color"><code>Color</code></a> object. If <code>in_place</code> is <code>True</code>, the return will be a
reference to the current <a href="#color"><code>Color</code></a> object.</dd>
</dl>
<h2 id="space"><code>Color.space</code><a class="headerlink" href="#space" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">space</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>Retrieves the current color space of the color.</dd>
<dt>Return</dt>
<dd>Returns a string with the name of the current color space.</dd>
</dl>
<h2 id="coords"><code>Color.coords</code><a class="headerlink" href="#coords" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">coords</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>Returns a list of the color's coordinates. This does <strong>not</strong> include the alpha channel. Alpha can be accessed via
the <code>alpha</code> property or <code>get</code> and <code>set</code> accessors.</dd>
<dt>Return</dt>
<dd>Returns a list of numbers indicating the current coordinate values.</dd>
</dl>
<h2 id="to_string"><code>Color.to_string</code><a class="headerlink" href="#to_string" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_string</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>Method that converts the current color to an output format supported by the color space. While a number of the
parameters are common, some may be specific to the color space. The <a href="../strings/">usage guide</a> covers color space
specific options in more details.</dd>
<dt>Parameters</dt>
<dd>
<p>Common parameters:</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>alpha</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td>Boolean or <code class="highlight"><span class="kc">None</span></code> value which determines whether the output includes <code>alpha</code>. If <code class="highlight"><span class="kc">None</span></code> (the default) alpha will only be shown if less than 1. If <code class="highlight"><span class="kc">True</span></code>, alpha will always be shown. If <code class="highlight"><span class="kc">False</span></code>, alpha will be omitted.</td>
</tr>
<tr>
<td><code>precision</code></td>
<td><code class="highlight"><span class="mi">5</span></code></td>
<td>Integer value that sets precision and scale. Precision and scale will match the value if greater than zero. If <code>0</code>, values will be rounded to the nearest integer. If <code>-1</code>, number will be output at the highest precision.</td>
</tr>
<tr>
<td><code>fit</code></td>
<td><code class="highlight"><span class="kc">True</span></code></td>
<td>A boolean that controls whether gamut mapping is performed on string creation. By default, colors will be fit to their own color space. This can be disabled by setting to <code class="highlight"><span class="kc">False</span></code>.</td>
</tr>
<tr>
<td><code>color</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>A boolean that will determine if the <code>color(space coord+ / alpha)</code> format is used for string output. Has highest precedence.</td>
</tr>
</tbody>
</table>
<p>sRGB specific parameters:</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hex</code>.</td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>String output will be in <code>#RRGGBBAA</code> format.</td>
</tr>
<tr>
<td><code>names</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>Boolean indicating a preference for CSS color names. When translating a color to it's closest hex form, if that hex value matches a CSS color name, that color name will be returned as the output. <code>hex</code> does not have to be <code class="highlight"><span class="kc">True</span></code> for this to apply.</td>
</tr>
<tr>
<td><code>compress</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>If <code>hex</code> is <code class="highlight"><span class="kc">True</span></code> and <code>compress</code> is <code class="highlight"><span class="kc">True</span></code>, hex values will be compressed if possible: <code>#RRGGBBAA</code> &rarr; <code>#RGBA</code>.</td>
</tr>
</tbody>
</table>
<p>Space dependent parameters:</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>comma</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>If supported by the color space and the current output format, commas will be used instead of space format: <code>rgba(0, 0, 0, 1)</code> &rarr; <code>rgb(0 0 0 /1)</code>.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a string representation of the current color.</dd>
</dl>
<h2 id="luminance"><code>Color.luminance</code><a class="headerlink" href="#luminance" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">luminance</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>Get the relative luminance. Relative luminance is obtained from the Y coordinate in the XYZ color space. XYZ, in
this case, has a D65 white point.</dd>
<dt>Return</dt>
<dd>Returns an float indicating the relative luminance.</dd>
</dl>
<h2 id="colorcontrast"><code>Color.contrast</code><a class="headerlink" href="#colorcontrast" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">contrast</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">color</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>Get the contrast ratio based on the relative luminance between two colors.</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td></td>
<td>A color string or <a href="#color"><code>Color</code></a> object representing a color.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a float indicating the contrast ratio between two colors.</dd>
</dl>
<h2 id="distance"><code>Color.distance</code><a class="headerlink" href="#distance" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">distance</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">color</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">space</span><span class="o">=</span><span class="n">util</span><span class="o">.</span><span class="n">DEF_DISTANCE_SPACE</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>Performs a euclidean distance algorithm on two colors.</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td></td>
<td>A color string or <a href="#color"><code>Color</code></a> object representing a color.</td>
</tr>
<tr>
<td><code>space</code></td>
<td><code class="highlight"><span class="s2">&quot;lab&quot;</span></code></td>
<td>Color space to perform distancing algorithm in.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a float indicating euclidean distance between the two colors.</dd>
</dl>
<h2 id="delta_e"><code>Color.delta_e</code><a class="headerlink" href="#delta_e" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delta_e</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">color</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>
<p>Performs a delta E distance algorithm on two colors. Default algorithm that is used is Delta E 1976 (<code>76</code>). Some
methods have additional weighting that can be configured through method specific options which are represented by
<code>**kwargs</code>.</p>
<p>Available methods:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Input</th>
</tr>
</thead>
<tbody>
<tr>
<td>CIE76</td>
<td><code>76</code></td>
</tr>
<tr>
<td>CIE94</td>
<td><code>94</code></td>
</tr>
<tr>
<td>CIEDE2000</td>
<td><code>2000</code></td>
</tr>
<tr>
<td>CMC&nbsp;l:c&nbsp;(1984)</td>
<td><code>cmc</code></td>
</tr>
</tbody>
</table>
</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td></td>
<td>A color string or <a href="#color"><code>Color</code></a> object representing a color.</td>
</tr>
<tr>
<td><code>method</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td>String that specifies the method to use. If <code class="highlight"><span class="kc">None</span></code>, the default will be used.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a float indicating the delta E distance between the two colors.</dd>
</dl>
<h2 id="mask"><code>color.mask</code><a class="headerlink" href="#mask" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">mask</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">channels</span><span class="p">,</span>
    <span class="n">invert</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">in_place</span><span class="o">=</span><span class="kc">False</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>The <code>mask</code> method will set any and all specified channels to <code>NaN</code>. If <code>invert</code> is set to <code class="highlight"><span class="kc">True</span></code>, <code>mask</code> will
set any and all channels not specified to <code>NaN</code>.</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>channel</code></td>
<td></td>
<td>A string specifying a channel, or a list of strings specifying multiple channels. Specified channels will be masked (or the only channels not masked if <code>invert</code> is <code class="highlight"><span class="kc">True</span></code>).</td>
</tr>
<tr>
<td><code>invert</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>Use inverse masking logic and mask all channels that are not specified.</td>
</tr>
<tr>
<td><code>in_place</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>Boolean used to determine if the current color should be modified "in place" or a new <a href="#color"><code>Color</code></a> object should be returned.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a reference to the masked <a href="#color"><code>Color</code></a> object. If <code>in_place</code> is <code>True</code>, the return will be a
reference to the current <a href="#color"><code>Color</code></a> object.</dd>
</dl>
<h2 id="interpolate"><code>Color.interpolate</code><a class="headerlink" href="#interpolate" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">interpolate</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">color</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">stop</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">space</span><span class="o">=</span><span class="s2">&quot;lab&quot;</span><span class="p">,</span>
    <span class="n">progress</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">out_space</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="n">util</span><span class="o">.</span><span class="n">DEF_HUE_ADJ</span><span class="p">,</span>
    <span class="n">premultiplied</span><span class="o">=</span><span class="kc">False</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>
<p>The <code>interpolate</code> method creates a function that takes a value between 0 - 1 and interpolates a new color based on
the input value.</p>
<p>If more than one color is provided, the returned function will span the interpolations between all the provided
colors with the same range of 0 - 1.</p>
<p>Interpolation can be customized by limiting the interpolation to specific color channels, providing custom
interpolation functions, and even adjusting the hue logic used.</p>
<p><a href="#piecewise"><code>Piecewise</code></a> objects can be used to specify stops or adjust the interpolation for itself and the
preceding color.</p>
<table>
<thead>
<tr>
<th>Hue&nbsp;Evaluation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>shorter</code></td>
<td>Angles are adjusted so that  -   [-180, 180].</td>
</tr>
<tr>
<td><code>longer</code></td>
<td>Angles are adjusted so that  -   {0, [180, 360)}.</td>
</tr>
<tr>
<td><code>increasing</code></td>
<td>Angles are adjusted so that  -   [0, 360).</td>
</tr>
<tr>
<td><code>decreasing</code></td>
<td>Angles are adjusted so that  -   (-360, 0]</td>
</tr>
<tr>
<td><code>specified</code></td>
<td>No fixup is performed. Angles are interpolated in the same way as every other component.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td></td>
<td>A color string, <a href="#color"><code>Color</code></a> object, or <a href="#piecewise"><code>Piecewise</code></a> object representing a color. Also, multiple can be provided via a list.</td>
</tr>
<tr>
<td><code>space</code></td>
<td><code class="highlight"><span class="s2">&quot;lab&quot;</span></code></td>
<td>Color space to interpolate in.</td>
</tr>
<tr>
<td><code>progress</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td>An optional function that that allows for custom logic to perform non-linear interpolation.</td>
</tr>
<tr>
<td><code>out_space</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td>Color space that the new color should be in. If <code class="highlight"><span class="kc">None</span></code>, the color will be in the same color space as the base color.</td>
</tr>
<tr>
<td><code>hue</code></td>
<td><code class="highlight"><span class="s2">&quot;shorter&quot;</span></code></td>
<td>Define how color spaces which have hue angles are interpolated. Default evaluates between the shortest angle.</td>
</tr>
<tr>
<td><code>premultiplied</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>Use premultiplied alpha when interpolating.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a function that takes a range from <code>[0..1]</code>. The function returns a reference to the interpolated
<a href="#color"><code>Color</code></a> object.</dd>
</dl>
<h2 id="steps"><code>Color.steps</code><a class="headerlink" href="#steps" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">steps</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">color</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">steps</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">max_steps</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
    <span class="n">max_delta_e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="o">**</span><span class="n">interpolate_args</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>
<p>Creates an <code>interpolate</code> function and iterates through it with user defined step parameters to produce discrete
color steps. Will attempt to provide the minimum number of <code>steps</code> without exceeding <code>max_steps</code>. If <code>max_delta_e</code>
is provided, the distance between each stop will be cut in half until there are no colors with a distance greater
than the specified <code>max_delta_e</code>.</p>
<p>If more than one color is provided, the steps will be returned from the interpolations between all the provided
colors.</p>
<p>Like <a href="#interpolate"><code>interpolate</code></a>, the default interpolation space is <code>lab</code>.</p>
</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td></td>
<td>A color string or <a href="#color"><code>Color</code></a> object representing a color. Also, multiple can be provided via a list.</td>
</tr>
<tr>
<td><code>steps</code></td>
<td><code class="highlight"><span class="mi">2</span></code></td>
<td>Minimum number of steps.</td>
</tr>
<tr>
<td><code>max_steps</code></td>
<td><code class="highlight"><span class="mi">1000</span></code></td>
<td>Maximum number of steps.</td>
</tr>
<tr>
<td><code>max_delta_e</code></td>
<td><code class="highlight"><span class="mi">0</span></code></td>
<td>Maximum delta E distance between the color stops. A value of <code>0</code> or less will be ignored.</td>
</tr>
<tr>
<td><code class="highlight"><span class="o">**</span><span class="n">interpolate_args</span></code></td>
<td>See&nbsp;<a href="#interpolate"><code>interpolate</code></a></td>
<td>Keyword arguments defined in <a href="#interpolate"><code>interpolate</code></a>.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>List of <a href="#color"><code>Color</code></a> objects.</dd>
</dl>
<h2 id="mix"><code>Color.mix</code><a class="headerlink" href="#mix" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">mix</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">color</span><span class="p">,</span>
    <span class="n">percent</span><span class="o">=</span><span class="n">util</span><span class="o">.</span><span class="n">DEF_MIX</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">in_place</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">interpolate_args</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>Interpolates between two colors returning a color that represents the mixing of the base color and the provided
<code>color</code> mixed at the provided <code>percent</code>, where <code>percent</code> applies to how much the provided <code>color</code> contributes to the
the final result.</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td></td>
<td>A color string or <a href="#color"><code>Color</code></a> object representing a color.</td>
</tr>
<tr>
<td><code>percent</code></td>
<td><code class="highlight"><span class="mf">0.5</span></code></td>
<td>A numerical value between 0 - 1 representing the percentage at which the parameter <code>color</code> will be mixed.</td>
</tr>
<tr>
<td><code>in_place</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>Boolean used to determine if the the current color should be modified "in place" or a new <a href="#color"><code>Color</code></a> object should be returned.</td>
</tr>
<tr>
<td><code class="highlight"><span class="o">**</span><span class="n">interpolate_args</span></code></td>
<td>See&nbsp;<a href="#interpolate"><code>interpolate</code></a></td>
<td>Keyword arguments defined in <a href="#interpolate"><code>interpolate</code></a>.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a reference to the new <a href="#color"><code>Color</code></a> object or a reference to the current <a href="#color"><code>Color</code></a> if
<code>in_place</code> is <code class="highlight"><span class="kc">True</span></code>.</dd>
</dl>
<h2 id="average"><code>Color.average</code><a class="headerlink" href="#average" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">average</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">color</span><span class="p">,</span>
    <span class="n">weights</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">space</span><span class="o">=</span><span class="s1">&#39;lab&#39;</span><span class="p">,</span>
    <span class="n">out_space</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">in_place</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="n">util</span><span class="o">.</span><span class="n">DEF_HUE_ADJ</span><span class="p">,</span>
    <span class="n">sort_hue</span><span class="o">=</span><span class="kc">False</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>
<p>Allows the averaging of one or more colors essentially allowing a mixing of any number of colors. Each color is
mixed in such a way so that each color has an equal weight. If, and only if, a color set has a color with
transparency, the transparency will be averaged separately.</p>
<p>The specified color(s) to average with the base color can be a single color, or a list of colors as specified in the
parameters below.</p>
<p>Like <a href="#interpolate"><code>interpolate</code></a>, the default interpolation space is <code>lab</code>.</p>
</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td></td>
<td>A color string or <a href="#color"><code>Color</code></a> object representing a color. Also, multiple can be provided via a list.</td>
</tr>
<tr>
<td><code>weights</code></td>
<td><code class="highlight"><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span></code></td>
<td>An array of length n (where n is number of colors that are to be averaged) that specifies the weight of the given colors. Order of the weights should match the order of the inputs where the base color is index 0.</td>
</tr>
<tr>
<td><code>space</code></td>
<td><code class="highlight"><span class="s2">&quot;lab&quot;</span></code></td>
<td>Color space to interpolate in.</td>
</tr>
<tr>
<td><code>out_space</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td>Color space that the new color should be in. If <code class="highlight"><span class="kc">None</span></code>, the color will be in the same color space as the base color.</td>
</tr>
<tr>
<td><code>hue</code></td>
<td><code class="highlight"><span class="s2">&quot;shorter&quot;</span></code></td>
<td>Define how color spaces which have hue angles are interpolated. Default evaluates between the shortest angle.</td>
</tr>
<tr>
<td><code>in_place</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>Boolean used to determine if the the current color should be modified "in place" or a new <a href="#color"><code>Color</code></a> object should be returned.</td>
</tr>
<tr>
<td><code>sort_hue</code></td>
<td><code>#py3 False</code></td>
<td>Specifies whether cylindrical spaces should sort colors by hue before averaging to ensure a consistence, predictable averaging regardless of what order the colors are provided.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a reference to the new <a href="#color"><code>Color</code></a> object or a reference to the current <a href="#color"><code>Color</code></a> if
<code>in_place</code> is <code class="highlight"><span class="kc">True</span></code>.</dd>
</dl>
<h2 id="compose"><code>Color.compose</code><a class="headerlink" href="#compose" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">compose</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">backdrop</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">blend</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">operator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">space</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">out_space</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">in_place</span><span class="o">=</span><span class="kc">False</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>
<p>Apply compositing which consists of a <a href="../compositing/#blend-modes">blend mode</a> and a <a href="../compositing/#compositing-operators">Porter Duff operator</a> for alpha compositing. The current color is treated as the source (top
layer) and the provided color as the backdrop (bottom layer). Colors will be composited in the <code>srgb</code> color space
unless otherwise specified.</p>
<p>Colors should generally be RGB-ish colors (sRGB, Display P3, A98 RGB, etc.). Some non-RGB-ish colors may work okay,
with the defaults, but many the algorithm is really designed for RGB-ish colors. Non-RGB-ish colors are likely to
provide nonsense results.</p>
<p>Supported blend modes are:</p>
<table>
<thead>
<tr>
<th>Blend Modes</th>
<th>&nbsp;</th>
<th>&nbsp;</th>
<th>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>normal</code></td>
<td><code>multiply</code></td>
<td><code>darken</code></td>
<td><code>lighten</code></td>
</tr>
<tr>
<td><code>burn</code></td>
<td><code>dodge</code></td>
<td><code>screen</code></td>
<td><code>overlay</code></td>
</tr>
<tr>
<td><code>hard-light</code></td>
<td><code>exclusion</code></td>
<td><code>difference</code></td>
<td><code>soft-light</code></td>
</tr>
<tr>
<td><code>hue</code></td>
<td><code>saturation</code></td>
<td><code>luminosity</code></td>
<td><code>color</code></td>
</tr>
<tr>
<td><code>color</code></td>
<td><code>hue</code></td>
<td><code>saturation</code></td>
<td><code>luminosity</code></td>
</tr>
</tbody>
</table>
<p>Supported Port Duff operators are:</p>
<table>
<thead>
<tr>
<th>Operators</th>
<th>&nbsp;</th>
<th>&nbsp;</th>
<th>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>clear</code></td>
<td><code>copy</code></td>
<td><code>destination</code></td>
<td><code>source-over</code></td>
</tr>
<tr>
<td><code>destination-over</code></td>
<td><code>source-in</code></td>
<td><code>destination-in</code></td>
<td><code>source-out</code></td>
</tr>
<tr>
<td><code>destination-out</code></td>
<td><code>source-atop</code></td>
<td><code>destination-atop</code></td>
<td><code>xor</code></td>
</tr>
<tr>
<td><code>lighter</code></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>backdrop</code></td>
<td></td>
<td>A background color represented with either a string or <a href="#color"><code>Color</code></a> object.</td>
</tr>
<tr>
<td><code>blend</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td>A blend mode to use to use when compositing. Values should be a string specifying the name of the blend mode to use. If <code class="highlight"><span class="kc">None</span></code>, <a href="#normal"><code>normal</code></a> will be used. If <code class="highlight"><span class="kc">False</span></code>, blending will be skipped.</td>
</tr>
<tr>
<td><code>operator</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td>A Porter Duff operator to use for alpha compositing. Values should be a string specifying the name of the operator to use. If <code class="highlight"><span class="kc">None</span></code>, <a href="#source-over"><code>source-over</code></a> will be used. If <code class="highlight"><span class="kc">False</span></code>, alpha compositing will be skipped.</td>
</tr>
<tr>
<td><code>space</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td>A color space to perform the overlay in. If <code class="highlight"><span class="kc">None</span></code>, the base color's space will be used.</td>
</tr>
<tr>
<td><code>out_space</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td>A color space to output the resultant color to.</td>
</tr>
<tr>
<td><code>in_place</code></td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>Boolean used to determine if the the current color should be modified "in place" or a new <a href="#color"><code>Color</code></a> object should be returned.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a reference to the new <a href="#color"><code>Color</code></a> object or a reference to the current <a href="#color"><code>Color</code></a> if
<code>in_place</code> is <code class="highlight"><span class="kc">True</span></code>.</dd>
</dl>
<h2 id="fit"><code>Color.fit</code><a class="headerlink" href="#fit" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fit</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">space</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">in_place</span><span class="o">=</span><span class="kc">False</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>
<p>Fits color to the current or specified color gamut.</p>
<p>By default, <code>lch-chroma</code> gamut mapping is used. This is essentially an approach that holds lightness and hue
constant in the CIELCH color space while reducing chroma until the color is in gamut. Clipping is done at each step
of the way and the color distance measured to see how close our color is to the intended color.</p>
<p>The supported gamut mapping methods are:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Input</th>
</tr>
</thead>
<tbody>
<tr>
<td>LCH Chroma</td>
<td><code>lch-chroma</code></td>
</tr>
<tr>
<td>Clipping</td>
<td><code>clip</code></td>
</tr>
</tbody>
</table>
</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>space</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td>The color space that the color must be mapped to. If space is <code class="highlight"><span class="kc">None</span></code>, then the current color space will be used.</td>
</tr>
<tr>
<td><code>method</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td>String that specifies which gamut mapping method to use. If <code class="highlight"><span class="kc">None</span></code>, <code>lch-chroma</code> will be used.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a reference to the new <a href="#color"><code>Color</code></a> object or a reference to the current <a href="#color"><code>Color</code></a> if
<code>in_place</code> is <code class="highlight"><span class="kc">True</span></code>.</dd>
</dl>
<h2 id="in_gamut"><code>Color.in_gamut</code><a class="headerlink" href="#in_gamut" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">in_gamut</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">space</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tolerance</span><span class="o">=</span><span class="n">util</span><span class="o">.</span><span class="n">DEF_FIT_TOLERANCE</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>Checks if the current color is in the current or specified gamut.</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>space</code></td>
<td><code class="highlight"><span class="kc">None</span></code></td>
<td>The color space that the color must be fit within. If space is <code class="highlight"><span class="kc">None</span></code>, then the current color space will be used.</td>
</tr>
<tr>
<td><code>tolerance</code></td>
<td><code class="highlight"><span class="mf">0.000075</span></code></td>
<td>Tolerance allowed when checking bounds of color.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a boolean indicating whether the color is in the specified gamut.</dd>
</dl>
<h2 id="get"><code>Color.get</code><a class="headerlink" href="#get" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>Retrieves the coordinate value from the specified channel. Channel must be a channel name in the current color space
or a channel name in the specified color space using the syntax: <code>space.channel</code>.</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td></td>
<td>Channel name or color space and channel name to retrieve value from.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a numerical value that is stored internally for the specified channel, or a calculated value in the case
that a channel in a different color space is requested.</dd>
</dl>
<h2 id="set"><code>Color.set</code><a class="headerlink" href="#set" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">,</span>
    <span class="n">value</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>
<p>Sets the given value to the specified channel. If the <code>name</code> is provided in the form <code>space.channel</code>, the value will
be applied to the channel of the specified color space while keeping current color space the same.</p>
<p>The <code>value</code> can be a numerical value, a CSS string compatible with the specified color space, or a function that
accepts a numerical channel value and returns a numerical channel value.</p>
<p>This function returns the current colors reference so that multiple sets can be chained together.</p>
</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td></td>
<td>Channel name or color space and channel name to retrieve value from.</td>
</tr>
<tr>
<td><code>value</code></td>
<td></td>
<td>A numerical value, a string value accepted by the specified color space, or a function.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a reference to the current <a href="#color"><code>Color</code></a> object.</dd>
</dl>
<h2 id="is_nan"><code>Color.is_nan</code><a class="headerlink" href="#is_nan" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_nan</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span>
<span class="p">):</span>
</code></pre></div>
<dl>
<dt>Description</dt>
<dd>Retrieves the coordinate value from the specified channel and checks whether the value is <code>NaN</code>. Channel must be a
channel name in the current color space or a channel name in the specified color space using the syntax:
<code>space.channel</code>.</dd>
<dt>Parameters</dt>
<dd>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td></td>
<td>A string indicating what channel property to check.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Return</dt>
<dd>Returns a boolean indicating whether the specified color space's channel is <code>NaN</code>.</dd>
</dl>
<h2 id="color-channel-properties"><code>Color</code> Channel Properties<a class="headerlink" href="#color-channel-properties" title="Permanent link"></a></h2>
<p>Depending on the given color space, channel properties will be available on the color object as well. These are
dynamically available depending on what the current color space is.</p>
<p>For instance, if the color space is sRGB, the channels <code>red</code>, <code>green</code>, <code>blue</code>, and <code>alpha</code> will all be available.
Color channel names are defined in <a href="../colors/">Supported Colors</a>.</p>
<p>These properties are read and writable. When read, they will return the numerical value stored in the specified channel.
When written, they can accept a numerical value or a string value using CSS syntax acceptable for that channel in that
color space.</p>
<p>For more complex setting operations, or to chain multiple set operations, please use <a href="#set"><code>set</code></a> and <a href="#get"><code>get</code></a>.</p>
<script src="https://cdn.jsdelivr.net/pyodide/v0.18.0/full/pyodide.js"></script>

<script type="text/javascript">
(() => {
  let pyodide = null;
  let busy = false;
  let requests = 0;
  let lastText = '';
  const reIdNum = /.*?_(\d+)$/;
  let initialized = false;
  const pycode = `
"""
Execute Python code in code blocks (color previews added specifically for ColorAide).

This is meant to be executed by Pyodide on preformatted HTML to allow for live execution of
code snippets using \`coloraide\`.

Transform Python code by executing it, transforming to a Python console output,
and finding and outputting color previews.
"""
import micropip
from js import document, location
from collections.abc import Sequence
from collections import namedtuple
import ast
from io import StringIO
import contextlib
import sys
import re
from pygments import highlight
from pygments.lexers import get_lexer_by_name
from pygments.formatters import find_formatter_class
HtmlFormatter = find_formatter_class('html')

inputs = document.getElementById("__playground-inputs_{}".format(globals()['id_num']))
results = document.getElementById("__playground-results_{}".format(globals()['id_num']))
pgcode = document.getElementById("__playground-code_{}".format(globals()['id_num']))

AST_BLOCKS = (ast.If, ast.For, ast.While, ast.Try, ast.With, ast.FunctionDef, ast.ClassDef)

RE_COLOR_START = re.compile(
    r"(?i)(?:\\b(?<![-#&$])(?:color|hsla?|lch|lab|hwb|rgba?)\\(|\\b(?<![-#&$])[\\w]{3,}(?![(-])\\b|(?<![&])#)"
)


class ColorInterpolate(list):
    """Color interpolate."""


class ColorTuple(namedtuple('ColorTuple', ['string', 'color'])):
    """Color tuple."""


@contextlib.contextmanager
def std_output(stdout=None):
    """Capture standard out."""
    old = sys.stdout
    if stdout is None:
        stdout = StringIO()
    sys.stdout = stdout
    yield stdout
    sys.stdout = old


def get_colors(result):
    """Get color from results."""

    from coloraide import Color
    from coloraide.color.interpolate import Interpolator

    colors = []
    if isinstance(result, Color):
        colors.append(ColorTuple(result.to_string(fit=False), result))
    elif isinstance(result, Interpolator):
        colors = ColorInterpolate(result.steps(steps=5, max_delta_e=4))
    elif isinstance(result, str):
        try:
            colors.append(ColorTuple(result, Color(result)))
        except Exception:
            pass
    elif isinstance(result, Sequence):
        for x in result:
            if isinstance(x, Color):
                colors.append(ColorTuple(x.to_string(fit=False), x))
            elif isinstance(x, str):
                try:
                    colors.append(ColorTuple(x, Color(x)))
                except Exception:
                    pass
    return colors


def find_colors(text):
    """Find colors in text buffer."""

    from coloraide import Color

    colors = []
    for m in RE_COLOR_START.finditer(text):
        start = m.start()
        mcolor = Color.match(text, start=start)
        if mcolor is not None:
            colors.append(ColorTuple(text[mcolor.start:mcolor.end], mcolor.color))
    return colors


def execute(cmd):
    """Execute color commands."""

    import coloraide
    from coloraide import Color, NaN, Piecewise

    g = {'Color': Color, 'coloraide': coloraide, 'NaN': NaN, 'Piecewise': Piecewise}
    console = ''
    colors = []

    # Build AST tree
    src = cmd.strip()
    lines = src.split('\\n')
    tree = ast.parse(src)

    for node in tree.body:
        result = None

        # Format source as Python console statements
        start = node.lineno
        end = node.end_lineno
        stmt = lines[start - 1: end]
        command = ''
        for i, line in enumerate(stmt, 0):
            if i == 0:
                stmt[i] = '>>> ' + line
            else:
                stmt[i] = '... ' + line
        command += '\\n'.join(stmt)
        if isinstance(node, AST_BLOCKS):
            command += '\\n... '

        try:
            # Capture anything sent to standard out
            text = ''
            with std_output() as s:
                # Execute code
                if isinstance(node, ast.Expr):
                    _eval = ast.Expression(node.value)
                    result = eval(compile(_eval, '<string>', 'eval'), g)
                else:
                    _exec = ast.Module([node], [])
                    exec(compile(_exec, '<string>', 'exec'), g)

                # Execution went well, so append command
                console += command

                # Output captured standard out after statements
                text = s.getvalue()
                if text:
                    clist = find_colors(text)
                    if clist:
                        colors.append(clist)
                    console += '\\n{}'.format(text)
                s.flush()
        except Exception:
            # Failed for some reason, so quit
            break

        # If we got a result, output it as well
        if result is not None:
            clist = get_colors(result)
            if clist:
                colors.append(clist)
            console += '{}{}\\n'.format('\\n' if not text else '', str(result))
        else:
            console += '\\n' if not text else ''

    return console, colors


def colorize(src, lang, **options):
    """Colorize."""

    lexer = get_lexer_by_name(lang, **options)
    formatter = HtmlFormatter(cssclass="highlight", wrapcode=True)
    return highlight(src, lexer, formatter).strip()


def color_command_formatter(src):
    """Formatter wrapper."""

    try:
        console, colors = execute(src.strip())
        el = ''
        bar = False
        values = []
        for item in colors:
            if isinstance(item, ColorInterpolate):
                if bar:
                    el += '<div class="swatch-bar">{}</div>'.format(' '.join(values))
                    values = []
                sub_el1 = '<div class="swatch-bar"><span class="swatch swatch-gradient">{}</span></div>'
                style = "--swatch-stops: "
                stops = []
                for color in item:
                    color.fit("srgb", in_place=True)
                    stops.append(color.convert("srgb").to_string())
                if not stops:
                    stops.extend(['transparent'] * 2)
                if len(stops) == 1:
                    stops.append(stops[0])
                style += ','.join(stops)
                sub_el2 = '<span class="swatch-color" style="{}"></span>'.format(style)
                el += sub_el1.format(sub_el2)
                bar = False
            else:
                bar = True
                base_classes = "swatch"
                for color in item:
                    if not color.color.in_gamut('srgb'):
                        base_classes += " out-of-gamut"
                    color.color.fit('srgb', in_place=True)
                    srgb = color.color.convert('srgb')
                    value1 = srgb.to_string(alpha=False)
                    value2 = srgb.to_string()
                    style = "--swatch-stops: {} 50%, {} 50%".format(value1, value2)
                    title = color.string
                    classes = base_classes
                    c = '<span class="swatch-color" style="{style}"></span>'.format(style=style)
                    c = '<span class="{classes}" title="{title}">{color}</span>'.format(
                        classes=classes,
                        color=c,
                        title=title
                    )
                    values.append(c)
        if bar:
            el += '<div class="swatch-bar">{}</div>'.format(' '.join(values))
            values = []
        if not colors:
            el += '<div class="swatch-bar"></div>'

        el += colorize(console, 'pycon', **{'python3': True, 'stripnl': False})
        el = '<div class="color-command">{}</div>'.format(el)
    except Exception:
        return '<div class="color-command"><div class="swatch-bar"></div>{}</div>'.format(colorize('', 'text'))
    return el


def process_code(*args):
    """Process code."""

    try:
        # Run code
        results.innerHTML = color_command_formatter(inputs.value)
        scrollingElement = results.querySelector('code')
        scrollingElement.scrollTop = scrollingElement.scrollHeight
    except Exception as e:
        print(e)


wheel = 'coloraide-0.1.0a26-py3-none-any.whl'

micropip.install(location.origin + '/coloraide/playground/' + wheel).add_done_callback(process_code)
`

  async function pyexecute(current_id) {
    // Execute Python code

    const current_inputs = document.getElementById(`__playground-inputs_${current_id}`);
    current_inputs.setAttribute('readonly', '');
    pyodide.globals.set('id_num', current_id);
    await pyodide.runPythonAsync(pycode);
    current_inputs.removeAttribute('readonly');
  }

  async function load_pyodide() {
    if (!initialized) {
      const buttons = document.querySelectorAll('.playground button');
      if (buttons) {
        buttons.forEach((b) => {
          b.setAttribute('disabled', '');
          if (b.classList.contains('playground-edit')) {
            b.innerHTML = 'Loading...';
          }
        });
      }
      initialized = true;
      pyodide = await loadPyodide({indexURL : "https://cdn.jsdelivr.net/pyodide/v0.18.0/full/" });
      await pyodide.loadPackage(['micropip', 'Pygments']);
      if (buttons) {
        buttons.forEach((b) => {
          b.removeAttribute('disabled');
          if (b.classList.contains('playground-edit')) {
            b.innerHTML = 'Edit';
          }
        });
      }
    }
  }

  function highlight (inputs, current_id) {
    // Manage incoming highlight requests.

    // Throttle requests
    if (busy) {
      return;
    }

    // Execute
    if (requests) {
      requests = 0;
      busy = true;
      pyhighlight(inputs.value, current_id);
    }
  };

  async function pyhighlight(inputs, current_id) {
    // Highlight current input code

    let pycode = `
from js import document
from pygments import highlight
from pygments.lexers import get_lexer_by_name
from pygments.formatters import find_formatter_class

HtmlFormatter = find_formatter_class('html')

def colorize(src, lang, **options):
    """Colorize."""

    lexer = get_lexer_by_name(lang, **options)
    formatter = HtmlFormatter(cssclass="highlight", wrapcode=True)
    return highlight(src, lexer, formatter).strip()

inputs = document.getElementById("__playground-inputs_${current_id}")
pgcode = document.getElementById("__playground-code_${current_id}")

div = pgcode.querySelector(".highlight")
template = document.createElement('template')
html = colorize(inputs.value + '\\n', 'py3', **{'python3': True, 'stripnl': False})
template.innerHTML = html;
pgcode.replaceChild(template.content.firstChild, div)
code = pgcode.querySelector('code')
code.scrollLeft = inputs.scrollLeft
code.scrollTop = inputs.scrollTop
`
    await pyodide.runPythonAsync(pycode);
    busy = false;
    if (requests) {
      setTimeout(() => {highlight(inputs, current_id);}, 100);
    }
  }

  async function loadExternalSrc() {
    if (window.location.pathname.endsWith("/playground/")) {
      const pginputs = document.querySelector('.playground-inputs');
      const pg_id = pginputs.id.replace(reIdNum, '$1');
      let params = new URLSearchParams(window.location.search);
      if (params.has('source')) {
        // A source was specified, so load it.
        await load_pyodide();
        try {
          const uri = params.get('source');
          let xhr = new XMLHttpRequest();
          xhr.open("GET", uri, true);
          xhr.onload = function (e) {
            // Try and load the requested content
            if (xhr.readyState === 4) {
              if (xhr.status === 200) {
                pginputs.value = xhr.responseText;
              }
            }
            requests = 1;
            highlight(pginputs, pg_id);
            pyexecute(pg_id);
          };
          xhr.send();
        } catch (err) {}
      } else if (params.has('code')) {
        // Raw code provided.
        await load_pyodide();
        requests = 1;
        pginputs.value = params.get('code');
        highlight(pginputs, pg_id);
        pyexecute(pg_id);
      }
    }
  }

  async function main() {
    // Setup input highlighting and events to run Python code blocks.

    const playgrounds = document.querySelectorAll('.playground');
    playgrounds.forEach(async function(pg) {

      const current_id = pg.id.replace(reIdNum, '$1');
      const inputs = document.getElementById(`__playground-inputs_${current_id}`);
      const results = document.getElementById(`__playground-results_${current_id}`);
      const pgcode = document.getElementById(`__playground-code_${current_id}`);
      const button_edit = document.querySelector(`button#__playground-edit_${current_id}`);
      const button_share = document.querySelector(`button#__playground-share_${current_id}`);
      const button_run = document.querySelector(`button#__playground-run_${current_id}`);
      const button_cancel = document.querySelector(`button#__playground-cancel_${current_id}`);
      const default_text = "# Insert your code here!\ncoloraide.__version__\nColor('red')";

      inputs.addEventListener("input", (e) => {
        // Handle highlighting as input changes.

        requests++;
        highlight(inputs, current_id);
      });

      inputs.addEventListener("scroll", (e) => {
        // Sync overlay textarea scrolling with highlighted code block underneath.

        const code = pgcode.querySelector("code");
        code.scrollLeft = e.target.scrollLeft;
        code.scrollTop = e.target.scrollTop;
      });

      document.addEventListener("keydown", (e) => {
        // Ctrl + Enter in textarea will execute the code.

        if (event.defaultPrevented) {
          return; // Do nothing if the event was already processed
        }

        if (
          e.ctrlKey &&
          e.key === "Enter" &&
          button_edit.classList.contains('hidden') &&
          inputs === document.activeElement
        ) {
          button_run.click();
        } else if (
          e.key === "Escape" &&
          button_edit.classList.contains('hidden') &&
          inputs === document.activeElement
        ) {
          button_cancel.click();
        }
      });

      inputs.addEventListener('touchmove', (e) => {
        // Stop propogation on "touchmove".

        e.stopPropagation();
      });

      button_edit.addEventListener("click", async function(e) {
        // Handle the button click: show source or execute source.

        if (busy) {
          return;
        }

        // Load Piodide and related packages.
        await load_pyodide();

        busy = true;
        lastText = inputs.value;
        pgcode.classList.toggle('hidden');
        results.classList.toggle('hidden');
        button_run.classList.toggle('hidden');
        button_cancel.classList.toggle('hidden');
        button_edit.classList.toggle('hidden');
        button_share.classList.toggle('hidden');
        inputs.focus();
        busy = false;
      });

      button_share.addEventListener("click", (e) => {
        // Handle the share click: copy URL with code as parameter.

        if (busy) {
          return;
        }

        busy = true;
        const uri = encodeURIComponent(inputs.value).replace(/[.!'()*]/g, (c) => {
          return '%' + c.charCodeAt(0).toString(16);
        });
        const loc = window.location;
        let pathname = '/playground/';
        if (loc.pathname.startsWith('/coloraide/')) {
          pathname = '/coloraide/playground/'
        }
        const path = loc.protocol + '//' + loc.host + pathname + '?code=' + uri;
        if (uri.length > 1000) {
          alert('Code must be under a 1000 characters to generate a URL!');
        } else {
          navigator.clipboard.writeText(path).then(function() {
            alert('Link copied to clipboard :)');
          }, function() {
            alert('Failed to copy link clipboard!');
          });
        }
        busy = false;
      });

      button_run.addEventListener("click", async function(e) {
        // Handle the button click: show source or execute source.

        if (busy) {
          return;
        }

        busy = true;
        results.querySelector('code').innerHTML = '';
        pyexecute(current_id);
        pgcode.classList.toggle('hidden');
        results.classList.toggle('hidden');
        button_edit.classList.toggle('hidden');
        button_share.classList.toggle('hidden');
        button_run.classList.toggle('hidden');
        button_cancel.classList.toggle('hidden');
        busy = false;
      });

      button_cancel.addEventListener("click", (e) => {
        // Cancel edit.

        if (busy) {
          return;
        }

        busy = true;
        inputs.value = lastText;
        pgcode.classList.toggle('hidden');
        results.classList.toggle('hidden');
        button_edit.classList.toggle('hidden');
        button_share.classList.toggle('hidden');
        button_run.classList.toggle('hidden');
        button_cancel.classList.toggle('hidden');
        busy = false;
        requests++;
        highlight(inputs, current_id);
      });
    });

    await loadExternalSrc();
  }

  // Run main
  main();
})()
</script>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 11, 2021</span>
      
    
  </small>
</div>
                  
                
              
  <footer class="sponsorship">
    <hr>
    <a href="https://github.com/sponsors/facelessuser" title="Become a sponsor">
      <span class="twemoji heart-throb-hover">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M7.655 14.916 8 14.25l.345.666a.752.752 0 0 1-.69 0zm0 0L8 14.25l.345.666.002-.001.006-.003.018-.01a7.643 7.643 0 0 0 .31-.17 22.08 22.08 0 0 0 3.433-2.414C13.956 10.731 16 8.35 16 5.5 16 2.836 13.914 1 11.75 1 10.203 1 8.847 1.802 8 3.02 7.153 1.802 5.797 1 4.25 1 2.086 1 0 2.836 0 5.5c0 2.85 2.045 5.231 3.885 6.818a22.075 22.075 0 0 0 3.744 2.584l.018.01.006.003h.002z"/></svg>
      </span>
    </a>
    <hr>
  </footer>

              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        

<footer class="md-footer">
  
    <nav
      class="md-footer__inner md-grid"
      aria-label="Footer"
    >
      
        <a
          href="../colors/"
          class="md-footer__link md-footer__link--prev"
          rel="prev"
        >
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Supported Colors
            </div>
          </div>
        </a>
      
      
        <a
          href="../playground/"
          class="md-footer__link md-footer__link--next"
          rel="next"
        >
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Playground
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2014 - 2021 <a href="https://github.com/facelessuser" target="_blank" rel="noopener">Isaac Muse</a>

          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        with emoji by
        <a href="https://github.com/twitter/twemoji" target="_blank" rel="noopener">
          Twemoji
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/facelessuser" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://discord.gg/TWs8Tgr" target="_blank" rel="noopener" title="discord.gg" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541zM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.756773cc.min.js"></script>
      
        <script src="../assets/pymdownx-extras/extra-uml-51b11a9a.js"></script>
      
    
  </body>
</html>